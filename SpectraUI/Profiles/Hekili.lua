local E, L, V, P, G = unpack(ElvUI)
local IsAddOnLoaded = _G.C_AddOns and _G.C_AddOns.IsAddOnLoaded or _G.IsAddOnLoaded

-- Hekili profile setup
function SpectraUI:Hekili()
	if not IsAddOnLoaded("Hekili") then return end

	HekiliDB.profiles["Spectra"] = {
		["displays"] = {
			["Interrupts"] = {
				["rel"] = "CENTER",
				["y"] = -245,
				["x"] = -299.0000305175781,
				["visibility"] = {
					["pve"] = {
						["alpha"] = 0,
					},
					["pvp"] = {
						["alpha"] = 0,
					},
				},
			},
			["Cooldowns"] = {
				["rel"] = "CENTER",
				["y"] = -244.9998016357422,
				["x"] = -354.0000915527344,
				["visibility"] = {
					["pve"] = {
						["alpha"] = 0,
					},
					["pvp"] = {
						["alpha"] = 0,
					},
				},
			},
			["Primary"] = {
				["glow"] = {
					["coloring"] = "custom",
					["color"] = {
						1,
						0.760784387588501,
						0.003921568859368563,
					},
				},
				["targets"] = {
					["y"] = -1,
					["font"] = "SpectraUI Caption",
					["fontSize"] = 15,
					["x"] = 1,
				},
				["rel"] = "CENTER",
				["numIcons"] = 4,
				["zoom"] = 15,
				["keepAspectRatio"] = false,
				["queue"] = {
					["width"] = 36,
					["offsetX"] = 4,
					["spacing"] = 4,
					["height"] = 26,
					["offsetY"] = 4,
				},
				["keybindings"] = {
					["font"] = "SpectraUI Caption",
				},
				["primaryHeight"] = 34,
				["y"] = -203,
				["delays"] = {
					["fade"] = true,
					["font"] = "SpectraUI Caption",
				},
				["visibility"] = {
					["pve"] = {
						["always"] = 0,
						["hideMounted"] = true,
					},
					["advanced"] = true,
					["pvp"] = {
						["always"] = 0,
						["hideMounted"] = true,
					},
				},
				["primaryWidth"] = 41,
			},
			["Defensives"] = {
				["rel"] = "CENTER",
				["y"] = -245,
				["x"] = -409.0001220703125,
				["visibility"] = {
					["pve"] = {
						["alpha"] = 0,
					},
					["pvp"] = {
						["alpha"] = 0,
					},
				},
			},
			["AOE"] = {
				["rel"] = "CENTER",
				["queue"] = {
					["elvuiCooldown"] = true,
				},
				["y"] = -300.0002746582031,
				["elvuiCooldown"] = true,
				["visibility"] = {
					["pve"] = {
						["alpha"] = 0,
					},
					["pvp"] = {
						["alpha"] = 0,
					},
				},
				["x"] = -408.9999694824219,
			},
		},
		["iconStore"] = {
			["hide"] = true,
		},
		["toggles"] = {
			["mode"] = {
				["aoe"] = true,
			},
		},
		["minimapIcon"] = true,
		["runOnce"] = {
			["forceReloadAllDefaultPriorities_20220228"] = true,
			["forceEnableAllClassesOnceDueToBug_20220225"] = true,
			["updateMaxRefreshToNewSpecOptions_20220222"] = true,
			["resetAberrantPackageDates_20190728_1"] = true,
			["forceReloadClassDefaultOptions_20220306_581"] = true,
			["forceReloadClassDefaultOptions_20220306_577"] = true,
			["forceReloadClassDefaultOptions_20220306_62"] = true,
			["fixHavocPriorityVersion_20240805"] = true,
			["forceReloadClassDefaultOptions_20220306_63"] = true,
			["forceReloadClassDefaultOptions_20220306_64"] = true,
			["forceSpellFlashBrightness_20221030"] = true,
		},
		["specs"] = {
			[64] = {
				["settings"] = {
					["prevent_hardcasts"] = false,
				},
			},
			[581] = {
				["settings"] = {
					["frailty_stacks"] = 2,
					["brand_charges"] = 0,
					["infernal_charges"] = 1,
				},
			},
			[62] = {
				["settings"] = {
					["cancel_pom"] = false,
					["check_explosion_range"] = true,
				},
			},
			[63] = {
				["settings"] = {
					["prevent_hardcasts"] = false,
					["check_explosion_range"] = true,
					["pyroblast_pull"] = false,
				},
			},
			[577] = {
				["settings"] = {
					["retreat_and_return"] = "off",
					["retreat_filler"] = false,
					["demon_blades_acknowledged"] = false,
					["throw_glaive_charges"] = 0,
					["fel_rush_charges"] = 0,
					["fel_rush_filler"] = true,
				},
			},
		},
		["notifications"] = {
			["fontSize"] = 15,
			["fontStyle"] = "NONE",
			["y"] = -10,
			["font"] = "SpectraUI Title",
		},
		["packs"] = {
			["Havoc"] = {
				["source"] = "SimulationCraft",
				["builtIn"] = true,
				["date"] = 20240911,
				["spec"] = 577,
				["desc"] = "2024-09-11: Tweak Metamorphosis\n\n2024-09-01, 09-03, 09-08, 09-10: SimC update\n\n2024-08-26: Update opener logic\n\n2024-08-24: SimC priority update\n\n2024-08-12: Check Unbound Chaos talent for Immo Aura\n\n2024-07-23: The War Within",
				["profile"] = "actions.precombat+=/variable,name=trinket1_steroids,value=trinket.1.has_stat.any_dps\nactions.precombat+=/variable,name=trinket2_steroids,value=trinket.2.has_stat.any_dps\nactions.precombat+=/variable,name=rg_ds,default=0,op=reset\nactions.precombat+=/sigil_of_flame\nactions.precombat+=/immolation_aura,if=buff.immolation_aura.down\n\n## actions+=/retarget_auto_attack,line_cd=1,target_if=mindebuff.burning_wound.remains,if=talent.burning_wound&talent.demon_blades&active_dot.burning_wound<(spell_targets>?3)\n## actions+=/retarget_auto_attack,line_cd=1,target_if=min!target.is_boss,if=talent.burning_wound&talent.demon_blades&active_dot.burning_wound=(spell_targets>?3)\nactions+=/variable,name=rg_inc,op=set,value=buff.rending_strike.down&buff.glaive_flurry.up&cooldown.blade_dance.up&gcd.remains=0||variable.rg_inc&prev_gcd.1.death_sweep\n## actions+=/pick_up_fragment,use_off_gcd=1\nactions+=/variable,name=fel_barrage,op=set,value=talent.fel_barrage&(cooldown.fel_barrage.remains<gcd.max*7&(active_enemies>=desired_targets+raid_event.adds.count||raid_event.adds.in<gcd.max*7||raid_event.adds.in>90)&(cooldown.metamorphosis.remains||active_enemies>2)||buff.fel_barrage.up)&!(active_enemies=1&!raid_event.adds.exists)\nactions+=/disrupt\nactions+=/fel_rush,if=buff.unbound_chaos.up&buff.unbound_chaos.remains<gcd.max*2&(action.immolation_aura.charges>0||action.immolation_aura.recharge_time<5)&cooldown.metamorphosis.remains>10\nactions+=/chaos_strike,if=buff.rending_strike.up&buff.glaive_flurry.up&(variable.rg_ds=2||active_enemies>2)\nactions+=/annihilation,if=buff.rending_strike.up&buff.glaive_flurry.up&(variable.rg_ds=2||active_enemies>2)\nactions+=/reavers_glaive,if=buff.glaive_flurry.down&buff.rending_strike.down&buff.thrill_of_the_fight_damage.remains<gcd.max*4+(variable.rg_ds=2)+(cooldown.the_hunt.remains<gcd.max*3)*3+(cooldown.eye_beam.remains<gcd.max*3&talent.shattered_destiny)*3&(variable.rg_ds=0||variable.rg_ds=1&cooldown.blade_dance.up||variable.rg_ds=2&cooldown.blade_dance.remains)&(buff.thrill_of_the_fight_damage.up||!prev_gcd.1.death_sweep||!variable.rg_inc)&active_enemies<3&!action.reavers_glaive.last_used<5&debuff.essence_break.down||fight_remains<10\nactions+=/reavers_glaive,if=buff.glaive_flurry.down&buff.rending_strike.down&buff.thrill_of_the_fight_damage.remains<4&(buff.thrill_of_the_fight_damage.up||!prev_gcd.1.death_sweep||!variable.rg_inc)&active_enemies>2||fight_remains<10\nactions+=/call_action_list,name=cooldown\nactions+=/call_action_list,name=opener,if=(cooldown.eye_beam.up||cooldown.metamorphosis.up||cooldown.essence_break.up)&time<15&(raid_event.adds.in>40)&buff.demonsurge.stack<5\nactions+=/sigil_of_spite,if=debuff.essence_break.down&debuff.reavers_mark.remains>=2-talent.quickened_sigils\nactions+=/run_action_list,name=fel_barrage,if=variable.fel_barrage&raid_event.adds.up\nactions+=/immolation_aura,if=active_enemies>2&talent.ragefire&buff.unbound_chaos.down&(!talent.fel_barrage||cooldown.fel_barrage.remains>recharge_time)&debuff.essence_break.down&cooldown.eye_beam.remains>recharge_time+5&(buff.metamorphosis.down||buff.metamorphosis.remains>5)\n# actions+=/immolation_aura,if=cooldown.eye_beam.remains>24&buff.metamorphosis.down&debuff.essence_break.down actions+=/immolation_aura,if=cooldown.eye_beam.remains<8&cooldown.blade_dance.remains&debuff.essence_break.down&buff.student_of_suffering.down\nactions+=/immolation_aura,if=hero_tree.felscarred&cooldown.metamorphosis.remains<10&cooldown.eye_beam.remains<10&(buff.unbound_chaos.down||action.fel_rush.charges=0||(cooldown.eye_beam.remains<?cooldown.metamorphosis.remains)<5)&talent.a_fire_inside\nactions+=/immolation_aura,if=active_enemies>2&talent.ragefire&raid_event.adds.up&raid_event.adds.remains<15&raid_event.adds.remains>5&debuff.essence_break.down\nactions+=/fel_rush,if=buff.unbound_chaos.up&active_enemies>2&(!talent.inertia||cooldown.eye_beam.remains+2>buff.unbound_chaos.remains)\nactions+=/vengeful_retreat,use_off_gcd=1,if=talent.initiative&(cooldown.eye_beam.remains>15&gcd.remains<0.3||gcd.remains<0.2&cooldown.eye_beam.remains<=gcd.remains&(buff.unbound_chaos.up||action.immolation_aura.recharge_time>6||!talent.inertia||talent.momentum)&(cooldown.metamorphosis.remains>10||cooldown.blade_dance.remains<gcd.max*2&(talent.inertia||talent.momentum||buff.metamorphosis.up)))&(!talent.student_of_suffering||cooldown.sigil_of_flame.remains)&time>10&(!variable.trinket1_steroids&!variable.trinket2_steroids||variable.trinket1_steroids&(trinket.1.cooldown.remains<gcd.max*3||trinket.1.cooldown.remains>20)||variable.trinket2_steroids&(trinket.2.cooldown.remains<gcd.max*3||trinket.2.cooldown.remains>20||talent.shattered_destiny))\nactions+=/run_action_list,name=fel_barrage,if=variable.fel_barrage||!talent.demon_blades&talent.fel_barrage&(buff.fel_barrage.up||cooldown.fel_barrage.up)&buff.metamorphosis.down\nactions+=/run_action_list,name=meta,strict=1,if=buff.metamorphosis.up\nactions+=/fel_rush,if=buff.unbound_chaos.up&talent.inertia&buff.inertia.down&cooldown.blade_dance.remains<4&cooldown.eye_beam.remains>5&(action.immolation_aura.charges>0||action.immolation_aura.recharge_time+2<cooldown.eye_beam.remains||cooldown.eye_beam.remains>buff.unbound_chaos.remains-2)\nactions+=/fel_rush,if=talent.momentum&cooldown.eye_beam.remains<gcd.max*2\nctions+=/immolation_aura,if=talent.a_fire_inside&(talent.unbound_chaos||talent.burning_wound)&buff.unbound_chaos.down&full_recharge_time<gcd.max*2&(raid_event.adds.in>full_recharge_time||active_enemies>desired_targets)\nactions+=/immolation_aura,if=active_enemies>desired_targets&buff.unbound_chaos.down&(active_enemies>=desired_targets+raid_event.adds.count||raid_event.adds.in>full_recharge_time)\nactions+=/immolation_aura,if=talent.inertia&buff.unbound_chaos.down&cooldown.eye_beam.remains<5&(active_enemies>=desired_targets+raid_event.adds.count||raid_event.adds.in>full_recharge_time&(!talent.essence_break||cooldown.essence_break.remains<5))&(!variable.trinket1_steroids&!variable.trinket2_steroids||variable.trinket1_steroids&(trinket.1.cooldown.remains<gcd.max*3||trinket.1.cooldown.remains>20)||variable.trinket2_steroids&(trinket.2.cooldown.remains<gcd.max*3||trinket.2.cooldown.remains>20))\nactions+=/immolation_aura,if=talent.inertia&buff.inertia.down&(!talent.unbound_chaos||buff.unbound_chaos.down)&recharge_time+5<cooldown.eye_beam.remains&cooldown.blade_dance.remains&cooldown.blade_dance.remains<4&(active_enemies>=desired_targets+raid_event.adds.count||raid_event.adds.in>full_recharge_time)&charges_fractional>1.00\nactions+=/immolation_aura,if=boss&fight_remains<15&cooldown.blade_dance.remains&(talent.inertia||talent.ragefire)\nactions+=/sigil_of_flame,if=talent.student_of_suffering&cooldown.eye_beam.remains<gcd.max&(!talent.inertia||buff.inertia_trigger.up)&(cooldown.essence_break.remains<gcd.max*4||!talent.essence_break)&(cooldown.metamorphosis.remains>10||cooldown.blade_dance.remains<gcd.max*3)&(!variable.trinket1_steroids&!variable.trinket2_steroids||variable.trinket1_steroids&(trinket.1.cooldown.remains<gcd.max*3||trinket.1.cooldown.remains>20)||variable.trinket2_steroids&(trinket.2.cooldown.remains<gcd.max*3||trinket.2.cooldown.remains>20))\nactions+=/eye_beam,if=!talent.essence_break&(!talent.chaotic_transformation||cooldown.metamorphosis.remains<5+3*talent.shattered_destiny||cooldown.metamorphosis.remains>10)&(active_enemies>desired_targets*2||raid_event.adds.in>30-talent.cycle_of_hatred.rank*13)&(!talent.initiative||cooldown.vengeful_retreat.remains>5||cooldown.vengeful_retreat.up||talent.shattered_destiny)&(!talent.student_of_suffering||cooldown.sigil_of_flame.remains)\nactions+=/eye_beam,if=talent.essence_break&(cooldown.essence_break.remains<gcd.max*2+5*talent.shattered_destiny||talent.shattered_destiny&cooldown.essence_break.remains>10)&(cooldown.blade_dance.remains<7||raid_event.adds.up)&(!talent.initiative||cooldown.vengeful_retreat.remains>10||!talent.inertia&!talent.momentum||raid_event.adds.up)&(active_enemies+3>=desired_targets+raid_event.adds.count||raid_event.adds.in>30-talent.cycle_of_hatred.rank*6)&(!talent.inertia||buff.inertia_trigger.up||action.immolation_aura.charges=0&action.immolation_aura.recharge_time>5)&(!raid_event.adds.up||raid_event.adds.remains>8)&(!variable.trinket1_steroids&!variable.trinket2_steroids||variable.trinket1_steroids&(trinket.1.cooldown.remains<gcd.max*3||trinket.1.cooldown.remains>20)||variable.trinket2_steroids&(trinket.2.cooldown.remains<gcd.max*3||trinket.2.cooldown.remains>20))||fight_remains<10\nactions+=/blade_dance,if=cooldown.eye_beam.remains>gcd.max*2&buff.rending_strike.down\nactions+=/chaos_strike,if=buff.rending_strike.up\nactions+=/felblade,if=buff.metamorphosis.down&fury.deficit>40&action.felblade.cooldown_react\nactions+=/glaive_tempest,if=active_enemies>=desired_targets+raid_event.adds.count||raid_event.adds.in>10\nactions+=/sigil_of_flame,if=active_enemies>3&!talent.student_of_suffering||buff.out_of_range.down&talent.art_of_the_glaive\nactions+=/chaos_strike,if=debuff.essence_break.up\n## actions+=/sigil_of_flame,if=talent.student_of_suffering&((cooldown.eye_beam.remains<4&cooldown.metamorphosis.remains>20)||(cooldown.eye_beam.remains<gcd.max&cooldown.metamorphosis.up))\nactions+=/felblade,if=(buff.out_of_range.down||fury.deficit>40)&action.felblade.cooldown_react\nactions+=/throw_glaive,if=active_enemies>1&talent.furious_throws\nactions+=/chaos_strike,if=cooldown.eye_beam.remains>gcd.max*2||fury>80||talent.cycle_of_hatred\nactions+=/immolation_aura,if=!talent.inertia&(raid_event.adds.in>full_recharge_time||active_enemies>desired_targets&active_enemies>2)\nactions+=/sigil_of_flame,if=buff.out_of_range.down&debuff.essence_break.down&!talent.student_of_suffering&(!talent.fel_barrage||cooldown.fel_barrage.remains>25||(active_enemies=1&!raid_event.adds.exists))\nactions+=/demons_bite\nactions+=/throw_glaive,if=buff.unbound_chaos.down&recharge_time<cooldown.eye_beam.remains&debuff.essence_break.down&(cooldown.eye_beam.remains>8||charges_fractional>1.01)&buff.out_of_range.down&active_enemies>1\nactions+=/fel_rush,if=buff.unbound_chaos.down&recharge_time<cooldown.eye_beam.remains&debuff.essence_break.down&(cooldown.eye_beam.remains>8||charges_fractional>1.01)&active_enemies>1\nactions+=/arcane_torrent,if=buff.out_of_range.down&debuff.essence_break.down&fury<100\n\nactions.cooldown+=/metamorphosis,if=((!talent.initiative||cooldown.vengeful_retreat.remains)&(cooldown.eye_beam.remains>=20&(!talent.essence_break||debuff.essence_break.up)&buff.fel_barrage.down&(raid_event.adds.in>40||(raid_event.adds.remains>8||!talent.fel_barrage)&active_enemies>2)||!talent.chaotic_transformation||fight_remains<30)&buff.inner_demon.down&(!talent.restless_hunter&cooldown.blade_dance.remains>gcd.max*3||prev_gcd.1.death_sweep))&!talent.inertia&!talent.essence_break&(hero_tree.aldrachi_reaver||buff.demonsurge_death_sweep.down)&time>15\nactions.cooldown+=/metamorphosis,if=((!talent.initiative||cooldown.vengeful_retreat.remains)&cooldown.blade_dance.remains&((cooldown.death_sweep.remains||buff.metamorphosis.up&buff.metamorphosis.remains<(gcd.max*1.5))&cooldown.eye_beam.remains&(!talent.essence_break||debuff.essence_break.up||talent.shattered_destiny||hero_tree.felscarred)&buff.fel_barrage.down&(raid_event.adds.in>40||(raid_event.adds.remains>8||!talent.fel_barrage)&active_enemies>2)||!talent.chaotic_transformation||fight_remains<30)&(buff.inner_demon.down&(buff.rending_strike.down||!talent.restless_hunter||prev_gcd.1.death_sweep)))&(talent.inertia||talent.essence_break)&(hero_tree.aldrachi_reaver||(buff.demonsurge_death_sweep.down||buff.metamorphosis.remains<gcd.max)&(buff.demonsurge_annihilation.down))&time>15\nactions.cooldown+=/potion,if=boss&fight_remains<35||buff.metamorphosis.up||debuff.essence_break.up\n## actions.cooldown+=/invoke_external_buff,name=power_infusion,if=buff.metamorphosis.up||boss&fight_remains<=20\nactions.cooldown+=/variable,name=special_trinket,op=set,value=equipped.mad_queens_mandate||equipped.treacherous_transmitter||equipped.skardyns_grace\nactions.cooldown+=/use_item,name=mad_queens_mandate,if=((!talent.initiative||buff.initiative.up||time>5)&(buff.metamorphosis.remains>5||buff.metamorphosis.down)&(trinket.1.is.mad_queens_mandate&(trinket.2.cooldown.duration<10||trinket.2.cooldown.remains>10||!trinket.2.has_buff.any)||trinket.2.is.mad_queens_mandate&(trinket.1.cooldown.duration<10||trinket.1.cooldown.remains>10||!trinket.1.has_buff.any))&fight_remains>120||fight_remains<10&fight_remains<buff.metamorphosis.remains)&debuff.essence_break.down||fight_remains<5\nactions.cooldown+=/use_item,name=treacherous_transmitter,if=!equipped.mad_queens_mandate||equipped.mad_queens_mandate&(trinket.1.is.mad_queens_mandate&trinket.1.cooldown.remains>fight_remains||trinket.2.is.mad_queens_mandate&trinket.2.cooldown.remains>fight_remains)||fight_remains>25\nactions.cooldown+=/use_item,name=skardyns_grace,if=(!equipped.mad_queens_mandate||fight_remains>25||trinket.2.is.skardyns_grace&trinket.1.cooldown.remains>fight_remains||trinket.1.is.skardyns_grace&trinket.2.cooldown.remains>fight_remains||trinket.1.cooldown.duration<10||trinket.2.cooldown.duration<10)&buff.metamorphosis.up\n## actions.cooldown+=/do_treacherous_transmitter_task,if=cooldown.eye_beam.remains>15||cooldown.eye_beam.remains<5||fight_remains<20\nactions.cooldown+=/use_item,slot=trinket1,if=((cooldown.eye_beam.remains<gcd.max&active_enemies>1||buff.metamorphosis.up)&(raid_event.adds.in>trinket.1.cooldown.duration-15||raid_event.adds.remains>8)||!trinket.1.has_buff.any||fight_remains<25)&!trinket.1.is.skardyns_grace&!trinket.1.is.mad_queens_mandate&!trinket.1.is.treacherous_transmitter&(!variable.special_trinket||trinket.2.cooldown.remains>20)\nactions.cooldown+=/use_item,slot=trinket2,if=((cooldown.eye_beam.remains<gcd.max&active_enemies>1||buff.metamorphosis.up)&(raid_event.adds.in>trinket.2.cooldown.duration-15||raid_event.adds.remains>8)||!trinket.2.has_buff.any||fight_remains<25)&!trinket.2.is.skardyns_grace&!trinket.2.is.mad_queens_mandate&!trinket.2.is.treacherous_transmitter&(!variable.special_trinket||trinket.1.cooldown.remains>20)\nactions.cooldown+=/the_hunt,if=debuff.essence_break.down&(active_enemies>=desired_targets+raid_event.adds.count||raid_event.adds.in>90)&(debuff.reavers_mark.up||!hero_tree.aldrachi_reaver)&buff.reavers_glaive.down&(buff.metamorphosis.remains>5||buff.metamorphosis.down)&(!talent.initiative||buff.initiative.up||time>5)\nactions.cooldown+=/sigil_of_spite,if=debuff.essence_break.down&(debuff.reavers_mark.remains>=2-talent.quickened_sigils||!hero_tree.aldrachi_reaver)&cooldown.blade_dance.remains&time>15\n\nactions.fel_barrage+=/variable,name=generator_up,op=set,value=cooldown.felblade.remains<gcd.max||cooldown.sigil_of_flame.remains<gcd.max\nactions.fel_barrage+=/variable,name=fury_gen,op=set,value=talent.demon_blades*(1%(2.6*attack_haste)*12*((hero_tree.felscarred&buff.metamorphosis.up)*0.33+1))+buff.immolation_aura.stack*6+buff.tactical_retreat.up*10\nactions.fel_barrage+=/variable,name=gcd_drain,op=set,value=gcd.max*32\nactions.fel_barrage+=/annihilation,if=buff.inner_demon.up\nactions.fel_barrage+=/eye_beam,if=buff.fel_barrage.down&(active_enemies>1&raid_event.adds.up||raid_event.adds.in>40)\nactions.fel_barrage+=/abyssal_gaze,if=buff.fel_barrage.down&(active_enemies>1&raid_event.adds.up||raid_event.adds.in>40)\nactions.fel_barrage+=/essence_break,if=buff.fel_barrage.down&buff.metamorphosis.up\nactions.fel_barrage+=/death_sweep,if=buff.fel_barrage.down\nactions.fel_barrage+=/immolation_aura,if=buff.unbound_chaos.down&(active_enemies>2||buff.fel_barrage.up)&(!talent.inertia||cooldown.eye_beam.remains>recharge_time+3)\nactions.fel_barrage+=/glaive_tempest,if=buff.fel_barrage.down&active_enemies>1\nactions.fel_barrage+=/blade_dance,if=buff.fel_barrage.down\nactions.fel_barrage+=/fel_barrage,if=fury>100&(raid_event.adds.in>90||raid_event.adds.in<gcd.max||raid_event.adds.remains>4&active_enemies>2)\nactions.fel_barrage+=/fel_rush,if=buff.unbound_chaos.up&fury>20&buff.fel_barrage.up\nactions.fel_barrage+=/sigil_of_flame,if=fury.deficit>40&buff.fel_barrage.up&(!talent.student_of_suffering||cooldown.eye_beam.remains>30)\nactions.fel_barrage+=/sigil_of_doom,if=fury.deficit>40&buff.fel_barrage.up\nactions.fel_barrage+=/felblade,if=buff.fel_barrage.up&fury.deficit>40&action.felblade.cooldown_react\nactions.fel_barrage+=/death_sweep,if=fury-variable.gcd_drain-35>0&(buff.fel_barrage.remains<3||variable.generator_up||fury>80||variable.fury_gen>18)\nactions.fel_barrage+=/glaive_tempest,if=fury-variable.gcd_drain-30>0&(buff.fel_barrage.remains<3||variable.generator_up||fury>80||variable.fury_gen>18)\nactions.fel_barrage+=/blade_dance,if=fury-variable.gcd_drain-35>0&(buff.fel_barrage.remains<3||variable.generator_up||fury>80||variable.fury_gen>18)\nactions.fel_barrage+=/arcane_torrent,if=fury.deficit>40&buff.fel_barrage.up\nactions.fel_barrage+=/fel_rush,if=buff.unbound_chaos.up\nactions.fel_barrage+=/the_hunt,if=fury>40&(active_enemies>=desired_targets+raid_event.adds.count||raid_event.adds.in>80)\nactions.fel_barrage+=/annihilation,if=fury-variable.gcd_drain-40>20&(buff.fel_barrage.remains<3||variable.generator_up||fury>80||variable.fury_gen>18)\nactions.fel_barrage+=/chaos_strike,if=fury-variable.gcd_drain-40>20&(cooldown.fel_barrage.remains&cooldown.fel_barrage.remains<10&fury>100||buff.fel_barrage.up&(buff.fel_barrage.remains*variable.fury_gen-buff.fel_barrage.remains*32)>0)\nactions.fel_barrage+=/demons_bite\n\nactions.meta+=/death_sweep,if=buff.metamorphosis.remains<gcd.max||(hero_tree.felscarred&talent.chaos_theory&talent.essence_break&((cooldown.metamorphosis.up&(!buff.unbound_chaos.up||!talent.inertia))||prev_gcd.1.metamorphosis)&buff.demonsurge.stack=0)\nactions.meta+=/annihilation,if=buff.metamorphosis.remains<gcd.max||debuff.essence_break.remains&debuff.essence_break.remains<0.5\nactions.meta+=/annihilation,if=(hero_tree.felscarred&buff.demonsurge_annihilation.up&(talent.restless_hunter||!talent.chaos_theory||buff.chaos_theory.up))&(cooldown.eye_beam.remains<gcd.max*3&cooldown.blade_dance.remains||cooldown.metamorphosis.remains<gcd.max*3)\nactions.meta+=/fel_rush,if=buff.inertia_trigger.up&talent.inertia&cooldown.metamorphosis.up&(!hero_tree.felscarred||cooldown.eye_beam.remains)\nactions.meta+=/fel_rush,if=buff.inertia_trigger.up&talent.inertia&cooldown.blade_dance.remains<gcd.max*3&(!hero_tree.felscarred||cooldown.eye_beam.remains)\nactions.meta+=/fel_rush,if=talent.momentum&buff.momentum.remains<gcd.max*2\nactions.meta+=/immolation_aura,if=charges=2&active_enemies>1&debuff.essence_break.down\nactions.meta+=/annihilation,if=(buff.inner_demon.up)&(cooldown.eye_beam.remains<gcd.max*3&cooldown.blade_dance.remains||cooldown.metamorphosis.remains<gcd.max*3)\nactions.meta+=/essence_break,if=fury>20&(cooldown.metamorphosis.remains>10||cooldown.blade_dance.remains<gcd.max*2)&(buff.unbound_chaos.down||buff.inertia.up||!talent.inertia)&buff.out_of_range.remains<gcd.max&(!talent.shattered_destiny||cooldown.eye_beam.remains>4)&(!hero_tree.felscarred||active_enemies>1||cooldown.metamorphosis.remains>5&cooldown.eye_beam.remains)||fight_remains<10\nactions.meta+=/immolation_aura,if=cooldown.blade_dance.remains&talent.inertia&buff.metamorphosis.remains>10&hero_tree.felscarred&full_recharge_time<gcd.max*2&buff.unbound_chaos.down&debuff.essence_break.down\nactions.meta+=/essence_break,if=fury>20&(cooldown.metamorphosis.remains>10||cooldown.blade_dance.remains<gcd.max*2)&(buff.unbound_chaos.down||buff.inertia.up||!talent.inertia)&buff.out_of_range.remains<gcd.max&(!talent.shattered_destiny||cooldown.eye_beam.remains>4)||fight_remains<10\nactions.meta+=/sigil_of_doom,if=cooldown.blade_dance.remains&debuff.essence_break.down\nactions.meta+=/immolation_aura,if=buff.demonsurge.up&buff.demonsurge.remains<gcd.max*3&buff.demonsurge_consuming_fire.up\nactions.meta+=/immolation_aura,if=debuff.essence_break.down&cooldown.blade_dance.remains>gcd.max+0.5&buff.unbound_chaos.down&talent.inertia&buff.inertia.down&full_recharge_time+3<cooldown.eye_beam.remains&buff.metamorphosis.remains>5\n# actions.meta+=/death_sweep\nactions.meta+=/death_sweep,if=debuff.essence_break.up||cooldown.essence_break.remains>=gcd.max*2||(cooldown.metamorphosis.up&cooldown.eye_beam.remains&!talent.restless_hunter)\nactions.meta+=/eye_beam,if=debuff.essence_break.down&buff.inner_demon.down\nactions.meta+=/abyssal_gaze,if=debuff.essence_break.down&buff.inner_demon.down&buff.demonsurge_abyssal_gaze.up\nactions.meta+=/glaive_tempest,if=debuff.essence_break.down&(cooldown.blade_dance.remains>gcd.max*2||fury>60)&(active_enemies>=desired_targets+raid_event.adds.count||raid_event.adds.in>10)\nactions.meta+=/sigil_of_flame,if=active_enemies>2&debuff.essence_break.down\nactions.meta+=/throw_glaive,if=talent.soulscar&talent.furious_throws&active_enemies>1&debuff.essence_break.down\nactions.meta+=/annihilation,if=cooldown.blade_dance.remains||fury>60||soul_fragments>0||buff.metamorphosis.remains<5&cooldown.felblade.up\nactions.meta+=/sigil_of_flame,if=buff.metamorphosis.remains>5&buff.out_of_range.down\nactions.meta+=/felblade,if=(buff.out_of_range.down||fury.deficit>40)&action.felblade.cooldown_react\nactions.meta+=/sigil_of_flame,if=debuff.essence_break.down&buff.out_of_range.down\nactions.meta+=/immolation_aura,if=buff.out_of_range.down&recharge_time<(cooldown.eye_beam.remains<?buff.metamorphosis.remains)&(active_enemies>=desired_targets+raid_event.adds.count||raid_event.adds.in>full_recharge_time)\nactions.meta+=/fel_rush,if=talent.momentum\nactions.meta+=/annihilation\nactions.meta+=/throw_glaive,if=buff.unbound_chaos.down&recharge_time<cooldown.eye_beam.remains&debuff.essence_break.down&(cooldown.eye_beam.remains>8||charges_fractional>1.01)&buff.out_of_range.down&active_enemies>1\nactions.meta+=/fel_rush,if=buff.unbound_chaos.down&recharge_time<cooldown.eye_beam.remains&debuff.essence_break.down&(cooldown.eye_beam.remains>8||charges_fractional>1.01)&buff.out_of_range.down&active_enemies>1\nactions.meta+=/demons_bite\n\nactions.opener+=/potion\n# actions.opener+=/vengeful_retreat,use_off_gcd=1,if=(prev_gcd.1.death_sweep&buff.initiative.remains<2&buff.inner_demon.down||buff.initiative.remains<0.5&debuff.initiative_tracker.up&(!talent.inertia||buff.unbound_chaos.down))&((!talent.essence_break&talent.shattered_destiny)||(talent.essence_break&!talent.shattered_destiny)||(!talent.shattered_destiny&!talent.essence_break))||prev_gcd.2.death_sweep&prev_gcd.1.annihilation&!talent.shattered_destiny\nactions.opener+=/vengeful_retreat,use_off_gcd=1,if=buff.metamorphosis.up&cooldown.metamorphosis.remains&cooldown.essence_break.up&cooldown.eye_beam.remains&talent.shattered_destiny&talent.essence_break&(cooldown.sigil_of_spite.remains||!hero_tree.aldrachi_reaver)\nactions.opener+=/vengeful_retreat,use_off_gcd=1,if=(cooldown.blade_dance.up||buff.blade_rhapsody.up||cooldown.blade_dance.remains<=gcd.max)&buff.metamorphosis.remains>=gcd.max*2&buff.thrill_of_the_fight_damage.up&cooldown.essence_break.up&cooldown.metamorphosis.up\n# actions.opener+=/vengeful_retreat,use_off_gcd=1,if=cooldown.metamorphosis.remains&buff.demonsurge.stack=5&cooldown.eye_beam.remains&talent.initiative&(cooldown.essence_break.up||!talent.essence_break)\nactions.opener+=/vengeful_retreat,use_off_gcd=1,if=cooldown.metamorphosis.remains&buff.demonsurge.stack=4&cooldown.eye_beam.up&talent.initiative&(cooldown.essence_break.up||!talent.essence_break)\n# actions.opener+=/sigil_of_doom,if=talent.essence_break&prev_gcd.1.metamorphosis\nactions.opener+=/annihilation,if=hero_tree.felscarred&buff.demonsurge_annihilation.up&talent.restless_hunter,line_cd=10\nactions.opener+=/annihilation,if=!hero_tree.felscarred&buff.inner_demon.up&!talent.shattered_destiny,line_cd=10\nactions.opener+=/fel_rush,if=talent.momentum&buff.momentum.remains<6\nactions.opener+=/fel_rush,if=talent.inertia&buff.unbound_chaos.up&talent.a_fire_inside&(buff.inertia.down&buff.metamorphosis.up&!hero_tree.felscarred||hero_tree.felscarred&(buff.metamorphosis.down&charges>1||prev_gcd.1.eye_beam||buff.demonsurge.stack>=5||charges=2&buff.unbound_chaos.down))&debuff.essence_break.down\nactions.opener+=/fel_rush,if=talent.inertia&buff.unbound_chaos.up&!talent.a_fire_inside&buff.metamorphosis.up&(cooldown.metamorphosis.up||cooldown.eye_beam.remains||talent.essence_break&cooldown.essence_break.remains)&(hero_tree.felscarred||buff.inner_demon.down)\nactions.opener+=/fel_rush,if=talent.inertia&buff.unbound_chaos.up&prev_gcd.1.sigil_of_doom&active_enemies>1\nactions.opener+=/fel_rush,if=talent.inertia&buff.unbound_chaos.up&cooldown.metamorphosis.remains&buff.demonsurge.stack=3\nactions.opener+=/the_hunt,if=(buff.metamorphosis.up||!talent.shattered_destiny)&(!talent.initiative||buff.initiative.up||time>5)\nactions.opener+=/death_sweep,if=hero_tree.felscarred&talent.chaos_theory&buff.metamorphosis.up&buff.demonsurge.stack=0&!talent.restless_hunter&(buff.out_of_range.up||buff.out_of_range.down)\nactions.opener+=/annihilation,if=hero_tree.felscarred&buff.demonsurge_annihilation.up&!talent.essence_break,line_cd=10\nactions.opener+=/felblade,if=(buff.metamorphosis.down||fury<40)&(!talent.a_fire_inside||hero_tree.aldrachi_reaver)&action.felblade.cooldown_react\nactions.opener+=/reavers_glaive,if=debuff.reavers_mark.down&debuff.essence_break.down\nactions.opener+=/immolation_aura,if=talent.a_fire_inside&(talent.inertia||talent.ragefire||talent.burning_wound)&buff.metamorphosis.down&(buff.unbound_chaos.down||hero_tree.felscarred)\nactions.opener+=/immolation_aura,if=talent.inertia&buff.unbound_chaos.down&buff.metamorphosis.up&debuff.essence_break.down&(cooldown.blade_dance.remains||buff.demonsurge_death_sweep.down&buff.inertia.up)&(buff.inner_demon.down||hero_tree.felscarred&buff.demonsurge_annihilation.down)&buff.demonsurge.stack<5\nactions.opener+=/blade_dance,if=buff.glaive_flurry.up&!talent.shattered_destiny\nactions.opener+=/chaos_strike,if=buff.rending_strike.up&!talent.shattered_destiny\nactions.opener+=/essence_break,if=cooldown.eye_beam.remains&cooldown.metamorphosis.up&buff.blade_rhapsody.up&buff.inner_demon.down&!hero_tree.felscarred&buff.metamorphosis.remains>=gcd.max\nactions.opener+=/metamorphosis,if=debuff.essence_break.up&cooldown.blade_dance.remains\nactions.opener+=/metamorphosis,if=buff.metamorphosis.up&cooldown.blade_dance.remains>gcd.max*2&buff.inner_demon.down&(!hero_tree.felscarred&(!talent.restless_hunter||prev_gcd.1.death_sweep)||buff.demonsurge.stack=2)&(cooldown.essence_break.remains||hero_tree.felscarred||talent.shattered_destiny||!talent.essence_break)\nactions.opener+=/sigil_of_spite,if=hero_tree.felscarred||debuff.reavers_mark.up&(!talent.cycle_of_hatred||cooldown.eye_beam.remains&cooldown.metamorphosis.remains)\nactions.opener+=/sigil_of_doom,if=buff.inner_demon.down&debuff.essence_break.down&cooldown.blade_dance.remains\nactions.opener+=/eye_beam,if=buff.metamorphosis.down||debuff.essence_break.down&buff.inner_demon.down&(cooldown.blade_dance.remains||talent.essence_break&cooldown.essence_break.up)\nactions.opener+=/abyssal_gaze,if=debuff.essence_break.down&cooldown.blade_dance.remains&buff.inner_demon.down&buff.demonsurge_abyssal_gaze.up\nactions.opener+=/essence_break,if=(cooldown.blade_dance.remains<gcd.max&!hero_tree.felscarred&!talent.shattered_destiny&buff.metamorphosis.up||cooldown.eye_beam.remains&cooldown.metamorphosis.remains)&(!hero_tree.felscarred||buff.demonsurge_annihilation.down)\nactions.opener+=/essence_break,if=talent.restless_hunter&buff.metamorphosis.up&buff.inner_demon.down&(!hero_tree.felscarred||buff.demonsurge_annihilation.down)\nactions.opener+=/death_sweep\nactions.opener+=/annihilation\nactions.opener+=/demons_bite",
				["version"] = 20240911,
				["warnings"] = "The import for 'opener' required some automated changes.\nLine 2: Converted 'talent.shattered_destiny' to 'talent.shattered_destiny.enabled' (1x).\nLine 2: Converted 'talent.essence_break' to 'talent.essence_break.enabled' (1x).\nLine 4: Converted 'talent.initiative' to 'talent.initiative.enabled' (1x).\nLine 4: Converted 'talent.essence_break' to 'talent.essence_break.enabled' (1x).\nLine 5: Converted 'talent.restless_hunter' to 'talent.restless_hunter.enabled' (1x).\nLine 6: Converted 'talent.shattered_destiny' to 'talent.shattered_destiny.enabled' (1x).\nLine 7: Converted 'talent.momentum' to 'talent.momentum.enabled' (1x).\nLine 8: Converted 'talent.inertia' to 'talent.inertia.enabled' (1x).\nLine 8: Converted 'talent.a_fire_inside' to 'talent.a_fire_inside.enabled' (1x).\nLine 9: Converted 'talent.inertia' to 'talent.inertia.enabled' (1x).\nLine 9: Converted 'talent.a_fire_inside' to 'talent.a_fire_inside.enabled' (1x).\nLine 9: Converted 'talent.essence_break' to 'talent.essence_break.enabled' (1x).\nLine 10: Converted 'talent.inertia' to 'talent.inertia.enabled' (1x).\nLine 11: Converted 'talent.inertia' to 'talent.inertia.enabled' (1x).\nLine 12: Converted 'talent.shattered_destiny' to 'talent.shattered_destiny.enabled' (1x).\nLine 12: Converted 'talent.initiative' to 'talent.initiative.enabled' (1x).\nLine 13: Converted 'talent.chaos_theory' to 'talent.chaos_theory.enabled' (1x).\nLine 13: Converted 'talent.restless_hunter' to 'talent.restless_hunter.enabled' (1x).\nLine 14: Converted 'talent.essence_break' to 'talent.essence_break.enabled' (1x).\nLine 15: Converted 'talent.a_fire_inside' to 'talent.a_fire_inside.enabled' (1x).\nLine 17: Converted 'talent.a_fire_inside' to 'talent.a_fire_inside.enabled' (1x).\nLine 17: Converted 'talent.inertia' to 'talent.inertia.enabled' (1x).\nLine 17: Converted 'talent.ragefire' to 'talent.ragefire.enabled' (1x).\nLine 17: Converted 'talent.burning_wound' to 'talent.burning_wound.enabled' (1x).\nLine 18: Converted 'talent.inertia' to 'talent.inertia.enabled' (1x).\nLine 19: Converted 'talent.shattered_destiny' to 'talent.shattered_destiny.enabled' (1x).\nLine 20: Converted 'talent.shattered_destiny' to 'talent.shattered_destiny.enabled' (1x).\nLine 23: Converted 'talent.restless_hunter' to 'talent.restless_hunter.enabled' (1x).\nLine 23: Converted 'talent.shattered_destiny' to 'talent.shattered_destiny.enabled' (1x).\nLine 23: Converted 'talent.essence_break' to 'talent.essence_break.enabled' (1x).\nLine 24: Converted 'talent.cycle_of_hatred' to 'talent.cycle_of_hatred.enabled' (1x).\nLine 26: Converted 'talent.essence_break' to 'talent.essence_break.enabled' (1x).\nLine 28: Converted 'talent.shattered_destiny' to 'talent.shattered_destiny.enabled' (1x).\nLine 29: Converted 'talent.restless_hunter' to 'talent.restless_hunter.enabled' (1x).\n\nThe import for 'default' required some automated changes.\nLine 2: Converted 'talent.fel_barrage' to 'talent.fel_barrage.enabled' (1x).\nLine 7: Converted 'talent.shattered_destiny' to 'talent.shattered_destiny.enabled' (1x).\nLine 11: Converted 'talent.quickened_sigils' to 'talent.quickened_sigils.enabled' (1x).\nLine 13: Converted 'talent.ragefire' to 'talent.ragefire.enabled' (1x).\nLine 13: Converted 'talent.fel_barrage' to 'talent.fel_barrage.enabled' (1x).\nLine 14: Converted 'talent.a_fire_inside' to 'talent.a_fire_inside.enabled' (1x).\nLine 15: Converted 'talent.ragefire' to 'talent.ragefire.enabled' (1x).\nLine 16: Converted 'talent.inertia' to 'talent.inertia.enabled' (1x).\nLine 17: Converted 'talent.initiative' to 'talent.initiative.enabled' (1x).\nLine 17: Converted 'talent.inertia' to 'talent.inertia.enabled' (1x).\nLine 17: Converted 'talent.momentum' to 'talent.momentum.enabled' (1x).\nLine 17: Converted 'talent.inertia' to 'talent.inertia.enabled' (1x).\nLine 17: Converted 'talent.momentum' to 'talent.momentum.enabled' (1x).\nLine 17: Converted 'talent.student_of_suffering' to 'talent.student_of_suffering.enabled' (1x).\nLine 17: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains' (1x).\nLine 17: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains'.\nLine 17: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains' (1x).\nLine 17: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains'.\nLine 17: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains' (1x).\nLine 17: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains'.\nLine 17: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains' (1x).\nLine 17: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains'.\nLine 17: Converted 'talent.shattered_destiny' to 'talent.shattered_destiny.enabled' (1x).\nLine 18: Converted 'talent.demon_blades' to 'talent.demon_blades.enabled' (1x).\nLine 18: Converted 'talent.fel_barrage' to 'talent.fel_barrage.enabled' (1x).\nLine 20: Converted 'talent.inertia' to 'talent.inertia.enabled' (1x).\nLine 21: Converted 'talent.momentum' to 'talent.momentum.enabled' (1x).\nLine 23: Converted 'talent.inertia' to 'talent.inertia.enabled' (1x).\nLine 23: Converted 'talent.essence_break' to 'talent.essence_break.enabled' (1x).\nLine 23: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains' (1x).\nLine 23: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains'.\nLine 23: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains' (1x).\nLine 23: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains'.\nLine 23: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains' (1x).\nLine 23: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains'.\nLine 23: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains' (1x).\nLine 23: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains'.\nLine 24: Converted 'talent.inertia' to 'talent.inertia.enabled' (1x).\nLine 24: Converted 'talent.unbound_chaos' to 'talent.unbound_chaos.enabled' (1x).\nLine 25: Converted 'talent.inertia' to 'talent.inertia.enabled' (1x).\nLine 25: Converted 'talent.ragefire' to 'talent.ragefire.enabled' (1x).\nLine 26: Converted 'talent.student_of_suffering' to 'talent.student_of_suffering.enabled' (1x).\nLine 26: Converted 'talent.inertia' to 'talent.inertia.enabled' (1x).\nLine 26: Converted 'talent.essence_break' to 'talent.essence_break.enabled' (1x).\nLine 26: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains' (1x).\nLine 26: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains'.\nLine 26: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains' (1x).\nLine 26: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains'.\nLine 26: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains' (1x).\nLine 26: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains'.\nLine 26: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains' (1x).\nLine 26: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains'.\nLine 27: Converted 'talent.essence_break' to 'talent.essence_break.enabled' (1x).\nLine 27: Converted 'talent.chaotic_transformation' to 'talent.chaotic_transformation.enabled' (1x).\nLine 27: Converted 'talent.shattered_destiny' to 'talent.shattered_destiny.enabled' (1x).\nLine 27: Converted 'talent.initiative' to 'talent.initiative.enabled' (1x).\nLine 27: Converted 'talent.shattered_destiny' to 'talent.shattered_destiny.enabled' (1x).\nLine 27: Converted 'talent.student_of_suffering' to 'talent.student_of_suffering.enabled' (1x).\nLine 28: Converted 'talent.essence_break' to 'talent.essence_break.enabled' (1x).\nLine 28: Converted 'talent.shattered_destiny' to 'talent.shattered_destiny.enabled' (1x).\nLine 28: Converted 'talent.shattered_destiny' to 'talent.shattered_destiny.enabled' (1x).\nLine 28: Converted 'talent.initiative' to 'talent.initiative.enabled' (1x).\nLine 28: Converted 'talent.inertia' to 'talent.inertia.enabled' (1x).\nLine 28: Converted 'talent.momentum' to 'talent.momentum.enabled' (1x).\nLine 28: Converted 'talent.inertia' to 'talent.inertia.enabled' (1x).\nLine 28: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains' (1x).\nLine 28: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains'.\nLine 28: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains' (1x).\nLine 28: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains'.\nLine 28: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains' (1x).\nLine 28: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains'.\nLine 28: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains' (1x).\nLine 28: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains'.\nLine 33: Converted 'talent.student_of_suffering' to 'talent.student_of_suffering.enabled' (1x).\nLine 33: Converted 'talent.art_of_the_glaive' to 'talent.art_of_the_glaive.enabled' (1x).\nLine 36: Converted 'talent.furious_throws' to 'talent.furious_throws.enabled' (1x).\nLine 37: Converted 'talent.cycle_of_hatred' to 'talent.cycle_of_hatred.enabled' (1x).\nLine 38: Converted 'talent.inertia' to 'talent.inertia.enabled' (1x).\nLine 39: Converted 'talent.student_of_suffering' to 'talent.student_of_suffering.enabled' (1x).\nLine 39: Converted 'talent.fel_barrage' to 'talent.fel_barrage.enabled' (1x).\n\nThe import for 'precombat' required some automated changes.\nLine 1: Converted 'trinket.1.has_stat.any_dps' to 'trinket.t1.has_stat.any_dps' (1x).\nLine 2: Converted 'trinket.2.has_stat.any_dps' to 'trinket.t2.has_stat.any_dps' (1x).\n\nThe import for 'fel_barrage' required some automated changes.\nLine 2: Converted 'talent.demon_blades' to 'talent.demon_blades.enabled' (1x).\nLine 2: Converted operations in 'talent.demon_blades.enabled*(1%(2.6*attack_haste)*12*((hero_tree.felscarred&buff.metamorphosis.up)*0.33+1))+buff.immolation_aura.stack*6+buff.tactical_retreat.up*10' to 'talent.demon_blades.enabled*(1/(2.6*attack_haste)*12*((hero_tree.felscarred&buff.metamorphosis.up)*0.33+1))+buff.immolation_aura.stack*6+buff.tactical_retreat.up*10'.\nLine 9: Converted 'talent.inertia' to 'talent.inertia.enabled' (1x).\nLine 14: Converted 'talent.student_of_suffering' to 'talent.student_of_suffering.enabled' (1x).\n\nThe import for 'cooldown' required some automated changes.\nLine 1: Converted 'talent.initiative' to 'talent.initiative.enabled' (1x).\nLine 1: Converted 'talent.essence_break' to 'talent.essence_break.enabled' (1x).\nLine 1: Converted 'talent.fel_barrage' to 'talent.fel_barrage.enabled' (1x).\nLine 1: Converted 'talent.chaotic_transformation' to 'talent.chaotic_transformation.enabled' (1x).\nLine 1: Converted 'talent.restless_hunter' to 'talent.restless_hunter.enabled' (1x).\nLine 1: Converted 'talent.inertia' to 'talent.inertia.enabled' (1x).\nLine 1: Converted 'talent.essence_break' to 'talent.essence_break.enabled' (1x).\nLine 2: Converted 'talent.initiative' to 'talent.initiative.enabled' (1x).\nLine 2: Converted 'talent.essence_break' to 'talent.essence_break.enabled' (1x).\nLine 2: Converted 'talent.shattered_destiny' to 'talent.shattered_destiny.enabled' (1x).\nLine 2: Converted 'talent.fel_barrage' to 'talent.fel_barrage.enabled' (1x).\nLine 2: Converted 'talent.chaotic_transformation' to 'talent.chaotic_transformation.enabled' (1x).\nLine 2: Converted 'talent.restless_hunter' to 'talent.restless_hunter.enabled' (1x).\nLine 2: Converted 'talent.inertia' to 'talent.inertia.enabled' (1x).\nLine 2: Converted 'talent.essence_break' to 'talent.essence_break.enabled' (1x).\nLine 5: Converted 'talent.initiative' to 'talent.initiative.enabled' (1x).\nLine 5: Converted 'trinket.1.is.mad_queens_mandate' to 'trinket.t1.is.mad_queens_mandate' (1x).\nLine 5: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration' (1x).\nLine 5: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration'.\nLine 5: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains' (1x).\nLine 5: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains'.\nLine 5: Converted 'trinket.2.has_buff.any' to 'trinket.t2.has_buff.any' (1x).\nLine 5: Converted 'trinket.2.has_buff.any' to 'trinket.t2.has_use_buff' (1x).\nLine 5: Converted 'trinket.2.is.mad_queens_mandate' to 'trinket.t2.is.mad_queens_mandate' (1x).\nLine 5: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration' (1x).\nLine 5: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration'.\nLine 5: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains' (1x).\nLine 5: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains'.\nLine 5: Converted 'trinket.1.has_buff.any' to 'trinket.t1.has_buff.any' (1x).\nLine 5: Converted 'trinket.1.has_buff.any' to 'trinket.t1.has_use_buff' (1x).\nLine 5: Unsupported use_item action [ mad_queens_mandate]; entry disabled.\nLine 6: Converted 'trinket.1.is.mad_queens_mandate' to 'trinket.t1.is.mad_queens_mandate' (1x).\nLine 6: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains' (1x).\nLine 6: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains'.\nLine 6: Converted 'trinket.2.is.mad_queens_mandate' to 'trinket.t2.is.mad_queens_mandate' (1x).\nLine 6: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains' (1x).\nLine 6: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains'.\nLine 7: Converted 'trinket.2.is.skardyns_grace' to 'trinket.t2.is.skardyns_grace' (1x).\nLine 7: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains' (1x).\nLine 7: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains'.\nLine 7: Converted 'trinket.1.is.skardyns_grace' to 'trinket.t1.is.skardyns_grace' (1x).\nLine 7: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains' (1x).\nLine 7: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains'.\nLine 7: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration' (1x).\nLine 7: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration'.\nLine 7: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration' (1x).\nLine 7: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration'.\nLine 8: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration' (1x).\nLine 8: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration'.\nLine 8: Converted 'trinket.1.has_buff.any' to 'trinket.t1.has_buff.any' (1x).\nLine 8: Converted 'trinket.1.has_buff.any' to 'trinket.t1.has_use_buff' (1x).\nLine 8: Converted 'trinket.1.is.skardyns_grace' to 'trinket.t1.is.skardyns_grace' (1x).\nLine 8: Converted 'trinket.1.is.mad_queens_mandate' to 'trinket.t1.is.mad_queens_mandate' (1x).\nLine 8: Converted 'trinket.1.is.treacherous_transmitter' to 'trinket.t1.is.treacherous_transmitter' (1x).\nLine 8: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains' (1x).\nLine 8: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains'.\nLine 9: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration' (1x).\nLine 9: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration'.\nLine 9: Converted 'trinket.2.has_buff.any' to 'trinket.t2.has_buff.any' (1x).\nLine 9: Converted 'trinket.2.has_buff.any' to 'trinket.t2.has_use_buff' (1x).\nLine 9: Converted 'trinket.2.is.skardyns_grace' to 'trinket.t2.is.skardyns_grace' (1x).\nLine 9: Converted 'trinket.2.is.mad_queens_mandate' to 'trinket.t2.is.mad_queens_mandate' (1x).\nLine 9: Converted 'trinket.2.is.treacherous_transmitter' to 'trinket.t2.is.treacherous_transmitter' (1x).\nLine 9: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains' (1x).\nLine 9: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains'.\nLine 10: Converted 'talent.initiative' to 'talent.initiative.enabled' (1x).\nLine 11: Converted 'talent.quickened_sigils' to 'talent.quickened_sigils.enabled' (1x).\nThe following auras were used in the action list but were not found in the addon database:\n - any\n\nThe import for 'meta' required some automated changes.\nLine 1: Converted 'talent.chaos_theory' to 'talent.chaos_theory.enabled' (1x).\nLine 1: Converted 'talent.essence_break' to 'talent.essence_break.enabled' (1x).\nLine 1: Converted 'talent.inertia' to 'talent.inertia.enabled' (1x).\nLine 3: Converted 'talent.restless_hunter' to 'talent.restless_hunter.enabled' (1x).\nLine 3: Converted 'talent.chaos_theory' to 'talent.chaos_theory.enabled' (1x).\nLine 4: Converted 'talent.inertia' to 'talent.inertia.enabled' (1x).\nLine 5: Converted 'talent.inertia' to 'talent.inertia.enabled' (1x).\nLine 6: Converted 'talent.momentum' to 'talent.momentum.enabled' (1x).\nLine 9: Converted 'talent.inertia' to 'talent.inertia.enabled' (1x).\nLine 9: Converted 'talent.shattered_destiny' to 'talent.shattered_destiny.enabled' (1x).\nLine 10: Converted 'talent.inertia' to 'talent.inertia.enabled' (1x).\nLine 11: Converted 'talent.inertia' to 'talent.inertia.enabled' (1x).\nLine 11: Converted 'talent.shattered_destiny' to 'talent.shattered_destiny.enabled' (1x).\nLine 14: Converted 'talent.inertia' to 'talent.inertia.enabled' (1x).\nLine 15: Converted 'talent.restless_hunter' to 'talent.restless_hunter.enabled' (1x).\nLine 20: Converted 'talent.soulscar' to 'talent.soulscar.enabled' (1x).\nLine 20: Converted 'talent.furious_throws' to 'talent.furious_throws.enabled' (1x).\nLine 26: Converted 'talent.momentum' to 'talent.momentum.enabled' (1x).\n\nImported 6 action lists.\n",
				["author"] = "SimC",
				["lists"] = {
					["opener"] = {
						{
							["action"] = "potion",
							["enabled"] = true,
						},
						{
							["enabled"] = true,
							["criteria"] = "buff.metamorphosis.up & cooldown.metamorphosis.remains & cooldown.essence_break.up & cooldown.eye_beam.remains & talent.shattered_destiny.enabled & talent.essence_break.enabled & ( cooldown.sigil_of_spite.remains || ! hero_tree.aldrachi_reaver )",
							["use_off_gcd"] = 1,
							["action"] = "vengeful_retreat",
							["description"] = "actions.opener+=/vengeful_retreat,use_off_gcd=1,if=(prev_gcd.1.death_sweep&buff.initiative.remains<2&buff.inner_demon.down||buff.initiative.remains<0.5&debuff.initiative_tracker.up&(!talent.inertia||buff.unbound_chaos.down))&((!talent.essence_break&talent.shattered_destiny)||(talent.essence_break&!talent.shattered_destiny)||(!talent.shattered_destiny&!talent.essence_break))||prev_gcd.2.death_sweep&prev_gcd.1.annihilation&!talent.shattered_destiny",
						},
						{
							["enabled"] = true,
							["action"] = "vengeful_retreat",
							["criteria"] = "( cooldown.blade_dance.up || buff.blade_rhapsody.up || cooldown.blade_dance.remains <= gcd.max ) & buff.metamorphosis.remains >= gcd.max * 2 & buff.thrill_of_the_fight_damage.up & cooldown.essence_break.up & cooldown.metamorphosis.up",
							["use_off_gcd"] = 1,
						},
						{
							["enabled"] = true,
							["criteria"] = "cooldown.metamorphosis.remains & buff.demonsurge.stack = 4 & cooldown.eye_beam.up & talent.initiative.enabled & ( cooldown.essence_break.up || ! talent.essence_break.enabled )",
							["use_off_gcd"] = 1,
							["action"] = "vengeful_retreat",
							["description"] = "actions.opener+=/vengeful_retreat,use_off_gcd=1,if=cooldown.metamorphosis.remains&buff.demonsurge.stack=5&cooldown.eye_beam.remains&talent.initiative&(cooldown.essence_break.up||!talent.essence_break)",
						},
						{
							["enabled"] = true,
							["criteria"] = "hero_tree.felscarred & buff.demonsurge_annihilation.up & talent.restless_hunter.enabled",
							["line_cd"] = "10",
							["action"] = "annihilation",
							["description"] = "actions.opener+=/sigil_of_doom,if=talent.essence_break&prev_gcd.1.metamorphosis",
						},
						{
							["enabled"] = true,
							["criteria"] = "! hero_tree.felscarred & buff.inner_demon.up & ! talent.shattered_destiny.enabled",
							["action"] = "annihilation",
							["line_cd"] = "10",
						},
						{
							["enabled"] = true,
							["criteria"] = "talent.momentum.enabled & buff.momentum.remains < 6",
							["action"] = "fel_rush",
						},
						{
							["enabled"] = true,
							["criteria"] = "talent.inertia.enabled & buff.unbound_chaos.up & talent.a_fire_inside.enabled & ( buff.inertia.down & buff.metamorphosis.up & ! hero_tree.felscarred || hero_tree.felscarred & ( buff.metamorphosis.down & charges > 1 || prev_gcd.1.eye_beam || buff.demonsurge.stack >= 5 || charges = 2 & buff.unbound_chaos.down ) ) & debuff.essence_break.down",
							["action"] = "fel_rush",
						},
						{
							["enabled"] = true,
							["criteria"] = "talent.inertia.enabled & buff.unbound_chaos.up & ! talent.a_fire_inside.enabled & buff.metamorphosis.up & ( cooldown.metamorphosis.up || cooldown.eye_beam.remains || talent.essence_break.enabled & cooldown.essence_break.remains ) & ( hero_tree.felscarred || buff.inner_demon.down )",
							["action"] = "fel_rush",
						},
						{
							["enabled"] = true,
							["criteria"] = "talent.inertia.enabled & buff.unbound_chaos.up & prev_gcd.1.sigil_of_doom & active_enemies > 1",
							["action"] = "fel_rush",
						},
						{
							["enabled"] = true,
							["criteria"] = "talent.inertia.enabled & buff.unbound_chaos.up & cooldown.metamorphosis.remains & buff.demonsurge.stack = 3",
							["action"] = "fel_rush",
						},
						{
							["enabled"] = true,
							["criteria"] = "( buff.metamorphosis.up || ! talent.shattered_destiny.enabled ) & ( ! talent.initiative.enabled || buff.initiative.up || time > 5 )",
							["action"] = "the_hunt",
						},
						{
							["enabled"] = true,
							["criteria"] = "hero_tree.felscarred & talent.chaos_theory.enabled & buff.metamorphosis.up & buff.demonsurge.stack = 0 & ! talent.restless_hunter.enabled & ( buff.out_of_range.up || buff.out_of_range.down )",
							["action"] = "death_sweep",
						},
						{
							["enabled"] = true,
							["criteria"] = "hero_tree.felscarred & buff.demonsurge_annihilation.up & ! talent.essence_break.enabled",
							["action"] = "annihilation",
							["line_cd"] = "10",
						},
						{
							["enabled"] = true,
							["criteria"] = "( buff.metamorphosis.down || fury < 40 ) & ( ! talent.a_fire_inside.enabled || hero_tree.aldrachi_reaver ) & action.felblade.cooldown_react",
							["action"] = "felblade",
						},
						{
							["enabled"] = true,
							["criteria"] = "debuff.reavers_mark.down & debuff.essence_break.down",
							["action"] = "reavers_glaive",
						},
						{
							["enabled"] = true,
							["criteria"] = "talent.a_fire_inside.enabled & ( talent.inertia.enabled || talent.ragefire.enabled || talent.burning_wound.enabled ) & buff.metamorphosis.down & ( buff.unbound_chaos.down || hero_tree.felscarred )",
							["action"] = "immolation_aura",
						},
						{
							["enabled"] = true,
							["criteria"] = "talent.inertia.enabled & buff.unbound_chaos.down & buff.metamorphosis.up & debuff.essence_break.down & ( cooldown.blade_dance.remains || buff.demonsurge_death_sweep.down & buff.inertia.up ) & ( buff.inner_demon.down || hero_tree.felscarred & buff.demonsurge_annihilation.down ) & buff.demonsurge.stack < 5",
							["action"] = "immolation_aura",
						},
						{
							["enabled"] = true,
							["criteria"] = "buff.glaive_flurry.up & ! talent.shattered_destiny.enabled",
							["action"] = "blade_dance",
						},
						{
							["enabled"] = true,
							["criteria"] = "buff.rending_strike.up & ! talent.shattered_destiny.enabled",
							["action"] = "chaos_strike",
						},
						{
							["enabled"] = true,
							["criteria"] = "cooldown.eye_beam.remains & cooldown.metamorphosis.up & buff.blade_rhapsody.up & buff.inner_demon.down & ! hero_tree.felscarred & buff.metamorphosis.remains >= gcd.max",
							["action"] = "essence_break",
						},
						{
							["enabled"] = true,
							["criteria"] = "debuff.essence_break.up & cooldown.blade_dance.remains",
							["action"] = "metamorphosis",
						},
						{
							["enabled"] = true,
							["criteria"] = "buff.metamorphosis.up & cooldown.blade_dance.remains > gcd.max * 2 & buff.inner_demon.down & ( ! hero_tree.felscarred & ( ! talent.restless_hunter.enabled || prev_gcd.1.death_sweep ) || buff.demonsurge.stack = 2 ) & ( cooldown.essence_break.remains || hero_tree.felscarred || talent.shattered_destiny.enabled || ! talent.essence_break.enabled )",
							["action"] = "metamorphosis",
						},
						{
							["enabled"] = true,
							["criteria"] = "hero_tree.felscarred || debuff.reavers_mark.up & ( ! talent.cycle_of_hatred.enabled || cooldown.eye_beam.remains & cooldown.metamorphosis.remains )",
							["action"] = "sigil_of_spite",
						},
						{
							["enabled"] = true,
							["criteria"] = "buff.inner_demon.down & debuff.essence_break.down & cooldown.blade_dance.remains",
							["action"] = "sigil_of_flame",
						},
						{
							["enabled"] = true,
							["criteria"] = "buff.metamorphosis.down || debuff.essence_break.down & buff.inner_demon.down & ( cooldown.blade_dance.remains || talent.essence_break.enabled & cooldown.essence_break.up )",
							["action"] = "eye_beam",
						},
						{
							["enabled"] = true,
							["criteria"] = "debuff.essence_break.down & cooldown.blade_dance.remains & buff.inner_demon.down & buff.demonsurge_abyssal_gaze.up",
							["action"] = "eye_beam",
						},
						{
							["enabled"] = true,
							["criteria"] = "( cooldown.blade_dance.remains < gcd.max & ! hero_tree.felscarred & ! talent.shattered_destiny.enabled & buff.metamorphosis.up || cooldown.eye_beam.remains & cooldown.metamorphosis.remains ) & ( ! hero_tree.felscarred || buff.demonsurge_annihilation.down )",
							["action"] = "essence_break",
						},
						{
							["enabled"] = true,
							["criteria"] = "talent.restless_hunter.enabled & buff.metamorphosis.up & buff.inner_demon.down & ( ! hero_tree.felscarred || buff.demonsurge_annihilation.down )",
							["action"] = "essence_break",
						},
						{
							["action"] = "death_sweep",
							["enabled"] = true,
						},
						{
							["action"] = "annihilation",
							["enabled"] = true,
						},
						{
							["action"] = "demons_bite",
							["enabled"] = true,
						},
					},
					["default"] = {
						{
							["enabled"] = true,
							["op"] = "set",
							["action"] = "variable",
							["value"] = "buff.rending_strike.down & buff.glaive_flurry.up & cooldown.blade_dance.up & gcd.remains = 0 || variable.rg_inc & prev_gcd.1.death_sweep",
							["var_name"] = "rg_inc",
						},
						{
							["enabled"] = true,
							["op"] = "set",
							["action"] = "variable",
							["value"] = "talent.fel_barrage.enabled & ( cooldown.fel_barrage.remains < gcd.max * 7 & ( active_enemies >= desired_targets + raid_event.adds.count || raid_event.adds.in < gcd.max * 7 || raid_event.adds.in > 90 ) & ( cooldown.metamorphosis.remains || active_enemies > 2 ) || buff.fel_barrage.up ) & ! ( active_enemies = 1 & ! raid_event.adds.exists )",
							["var_name"] = "fel_barrage",
						},
						{
							["action"] = "disrupt",
							["enabled"] = true,
						},
						{
							["enabled"] = true,
							["criteria"] = "buff.unbound_chaos.up & buff.unbound_chaos.remains < gcd.max * 2 & ( action.immolation_aura.charges > 0 || action.immolation_aura.recharge_time < 5 ) & cooldown.metamorphosis.remains > 10",
							["action"] = "fel_rush",
						},
						{
							["enabled"] = true,
							["criteria"] = "buff.rending_strike.up & buff.glaive_flurry.up & ( variable.rg_ds = 2 || active_enemies > 2 )",
							["action"] = "chaos_strike",
						},
						{
							["enabled"] = true,
							["criteria"] = "buff.rending_strike.up & buff.glaive_flurry.up & ( variable.rg_ds = 2 || active_enemies > 2 )",
							["action"] = "annihilation",
						},
						{
							["enabled"] = true,
							["criteria"] = "buff.glaive_flurry.down & buff.rending_strike.down & buff.thrill_of_the_fight_damage.remains < gcd.max * 4 + ( variable.rg_ds = 2 ) + ( cooldown.the_hunt.remains < gcd.max * 3 ) * 3 + ( cooldown.eye_beam.remains < gcd.max * 3 & talent.shattered_destiny.enabled ) * 3 & ( variable.rg_ds = 0 || variable.rg_ds = 1 & cooldown.blade_dance.up || variable.rg_ds = 2 & cooldown.blade_dance.remains ) & ( buff.thrill_of_the_fight_damage.up || ! prev_gcd.1.death_sweep || ! variable.rg_inc ) & active_enemies < 3 & ! action.reavers_glaive.last_used < 5 & debuff.essence_break.down || fight_remains < 10",
							["action"] = "reavers_glaive",
						},
						{
							["enabled"] = true,
							["criteria"] = "buff.glaive_flurry.down & buff.rending_strike.down & buff.thrill_of_the_fight_damage.remains < 4 & ( buff.thrill_of_the_fight_damage.up || ! prev_gcd.1.death_sweep || ! variable.rg_inc ) & active_enemies > 2 || fight_remains < 10",
							["action"] = "reavers_glaive",
						},
						{
							["enabled"] = true,
							["action"] = "call_action_list",
							["list_name"] = "cooldown",
						},
						{
							["enabled"] = true,
							["criteria"] = "( cooldown.eye_beam.up || cooldown.metamorphosis.up || cooldown.essence_break.up ) & time < 15 & ( raid_event.adds.in > 40 ) & buff.demonsurge.stack < 5",
							["action"] = "call_action_list",
							["list_name"] = "opener",
						},
						{
							["enabled"] = true,
							["criteria"] = "debuff.essence_break.down & debuff.reavers_mark.remains >= 2 - talent.quickened_sigils.enabled",
							["action"] = "sigil_of_spite",
						},
						{
							["enabled"] = true,
							["criteria"] = "variable.fel_barrage & raid_event.adds.up",
							["action"] = "run_action_list",
							["list_name"] = "fel_barrage",
						},
						{
							["enabled"] = true,
							["criteria"] = "active_enemies > 2 & talent.ragefire.enabled & buff.unbound_chaos.down & ( ! talent.fel_barrage.enabled || cooldown.fel_barrage.remains > recharge_time ) & debuff.essence_break.down & cooldown.eye_beam.remains > recharge_time + 5 & ( buff.metamorphosis.down || buff.metamorphosis.remains > 5 )",
							["action"] = "immolation_aura",
						},
						{
							["enabled"] = true,
							["description"] = "actions.default+=/immolation_aura,if=cooldown.eye_beam.remains>24&buff.metamorphosis.down&debuff.essence_break.down actions.default+=/immolation_aura,if=cooldown.eye_beam.remains<8&cooldown.blade_dance.remains&debuff.essence_break.down&buff.student_of_suffering.down",
							["criteria"] = "hero_tree.felscarred & cooldown.metamorphosis.remains < 10 & cooldown.eye_beam.remains < 10 & ( buff.unbound_chaos.down || action.fel_rush.charges = 0 || ( cooldown.eye_beam.remains <? cooldown.metamorphosis.remains ) < 5 ) & talent.a_fire_inside.enabled",
							["action"] = "immolation_aura",
						},
						{
							["enabled"] = true,
							["criteria"] = "active_enemies > 2 & talent.ragefire.enabled & raid_event.adds.up & raid_event.adds.remains < 15 & raid_event.adds.remains > 5 & debuff.essence_break.down",
							["action"] = "immolation_aura",
						},
						{
							["enabled"] = true,
							["criteria"] = "buff.unbound_chaos.up & active_enemies > 2 & ( ! talent.inertia.enabled || cooldown.eye_beam.remains + 2 > buff.unbound_chaos.remains )",
							["action"] = "fel_rush",
						},
						{
							["enabled"] = true,
							["action"] = "vengeful_retreat",
							["criteria"] = "talent.initiative.enabled & ( cooldown.eye_beam.remains > 15 & gcd.remains < 0.3 || gcd.remains < 0.2 & cooldown.eye_beam.remains <= gcd.remains & ( buff.unbound_chaos.up || action.immolation_aura.recharge_time > 6 || ! talent.inertia.enabled || talent.momentum.enabled ) & ( cooldown.metamorphosis.remains > 10 || cooldown.blade_dance.remains < gcd.max * 2 & ( talent.inertia.enabled || talent.momentum.enabled || buff.metamorphosis.up ) ) ) & ( ! talent.student_of_suffering.enabled || cooldown.sigil_of_flame.remains ) & time > 10 & ( ! variable.trinket1_steroids & ! variable.trinket2_steroids || variable.trinket1_steroids & ( trinket.t1.cooldown.remains < gcd.max * 3 || trinket.t1.cooldown.remains > 20 ) || variable.trinket2_steroids & ( trinket.t2.cooldown.remains < gcd.max * 3 || trinket.t2.cooldown.remains > 20 || talent.shattered_destiny.enabled ) )",
							["use_off_gcd"] = 1,
						},
						{
							["enabled"] = true,
							["criteria"] = "variable.fel_barrage || ! talent.demon_blades.enabled & talent.fel_barrage.enabled & ( buff.fel_barrage.up || cooldown.fel_barrage.up ) & buff.metamorphosis.down",
							["action"] = "run_action_list",
							["list_name"] = "fel_barrage",
						},
						{
							["enabled"] = true,
							["action"] = "run_action_list",
							["strict"] = 1,
							["criteria"] = "buff.metamorphosis.up",
							["list_name"] = "meta",
						},
						{
							["enabled"] = true,
							["criteria"] = "buff.unbound_chaos.up & talent.inertia.enabled & buff.inertia.down & cooldown.blade_dance.remains < 4 & cooldown.eye_beam.remains > 5 & ( action.immolation_aura.charges > 0 || action.immolation_aura.recharge_time + 2 < cooldown.eye_beam.remains || cooldown.eye_beam.remains > buff.unbound_chaos.remains - 2 )",
							["action"] = "fel_rush",
						},
						{
							["enabled"] = true,
							["criteria"] = "talent.momentum.enabled & cooldown.eye_beam.remains < gcd.max * 2",
							["action"] = "fel_rush",
						},
						{
							["enabled"] = true,
							["criteria"] = "active_enemies > desired_targets & buff.unbound_chaos.down & ( active_enemies >= desired_targets + raid_event.adds.count || raid_event.adds.in > full_recharge_time )",
							["action"] = "immolation_aura",
						},
						{
							["enabled"] = true,
							["criteria"] = "talent.inertia.enabled & buff.unbound_chaos.down & cooldown.eye_beam.remains < 5 & ( active_enemies >= desired_targets + raid_event.adds.count || raid_event.adds.in > full_recharge_time & ( ! talent.essence_break.enabled || cooldown.essence_break.remains < 5 ) ) & ( ! variable.trinket1_steroids & ! variable.trinket2_steroids || variable.trinket1_steroids & ( trinket.t1.cooldown.remains < gcd.max * 3 || trinket.t1.cooldown.remains > 20 ) || variable.trinket2_steroids & ( trinket.t2.cooldown.remains < gcd.max * 3 || trinket.t2.cooldown.remains > 20 ) )",
							["action"] = "immolation_aura",
						},
						{
							["enabled"] = true,
							["criteria"] = "talent.inertia.enabled & buff.inertia.down & ( ! talent.unbound_chaos.enabled || buff.unbound_chaos.down ) & recharge_time + 5 < cooldown.eye_beam.remains & cooldown.blade_dance.remains & cooldown.blade_dance.remains < 4 & ( active_enemies >= desired_targets + raid_event.adds.count || raid_event.adds.in > full_recharge_time ) & charges_fractional > 1.00",
							["action"] = "immolation_aura",
						},
						{
							["enabled"] = true,
							["criteria"] = "boss & fight_remains < 15 & cooldown.blade_dance.remains & ( talent.inertia.enabled || talent.ragefire.enabled )",
							["action"] = "immolation_aura",
						},
						{
							["enabled"] = true,
							["criteria"] = "talent.student_of_suffering.enabled & cooldown.eye_beam.remains < gcd.max & ( ! talent.inertia.enabled || buff.inertia_trigger.up ) & ( cooldown.essence_break.remains < gcd.max * 4 || ! talent.essence_break.enabled ) & ( cooldown.metamorphosis.remains > 10 || cooldown.blade_dance.remains < gcd.max * 3 ) & ( ! variable.trinket1_steroids & ! variable.trinket2_steroids || variable.trinket1_steroids & ( trinket.t1.cooldown.remains < gcd.max * 3 || trinket.t1.cooldown.remains > 20 ) || variable.trinket2_steroids & ( trinket.t2.cooldown.remains < gcd.max * 3 || trinket.t2.cooldown.remains > 20 ) )",
							["action"] = "sigil_of_flame",
						},
						{
							["enabled"] = true,
							["criteria"] = "! talent.essence_break.enabled & ( ! talent.chaotic_transformation.enabled || cooldown.metamorphosis.remains < 5 + 3 * talent.shattered_destiny.enabled || cooldown.metamorphosis.remains > 10 ) & ( active_enemies > desired_targets * 2 || raid_event.adds.in > 30 - talent.cycle_of_hatred.rank * 13 ) & ( ! talent.initiative.enabled || cooldown.vengeful_retreat.remains > 5 || cooldown.vengeful_retreat.up || talent.shattered_destiny.enabled ) & ( ! talent.student_of_suffering.enabled || cooldown.sigil_of_flame.remains )",
							["action"] = "eye_beam",
						},
						{
							["enabled"] = true,
							["criteria"] = "talent.essence_break.enabled & ( cooldown.essence_break.remains < gcd.max * 2 + 5 * talent.shattered_destiny.enabled || talent.shattered_destiny.enabled & cooldown.essence_break.remains > 10 ) & ( cooldown.blade_dance.remains < 7 || raid_event.adds.up ) & ( ! talent.initiative.enabled || cooldown.vengeful_retreat.remains > 10 || ! talent.inertia.enabled & ! talent.momentum.enabled || raid_event.adds.up ) & ( active_enemies + 3 >= desired_targets + raid_event.adds.count || raid_event.adds.in > 30 - talent.cycle_of_hatred.rank * 6 ) & ( ! talent.inertia.enabled || buff.inertia_trigger.up || action.immolation_aura.charges = 0 & action.immolation_aura.recharge_time > 5 ) & ( ! raid_event.adds.up || raid_event.adds.remains > 8 ) & ( ! variable.trinket1_steroids & ! variable.trinket2_steroids || variable.trinket1_steroids & ( trinket.t1.cooldown.remains < gcd.max * 3 || trinket.t1.cooldown.remains > 20 ) || variable.trinket2_steroids & ( trinket.t2.cooldown.remains < gcd.max * 3 || trinket.t2.cooldown.remains > 20 ) ) || fight_remains < 10",
							["action"] = "eye_beam",
						},
						{
							["enabled"] = true,
							["criteria"] = "cooldown.eye_beam.remains > gcd.max * 2 & buff.rending_strike.down",
							["action"] = "blade_dance",
						},
						{
							["enabled"] = true,
							["criteria"] = "buff.rending_strike.up",
							["action"] = "chaos_strike",
						},
						{
							["enabled"] = true,
							["criteria"] = "buff.metamorphosis.down & fury.deficit > 40 & action.felblade.cooldown_react",
							["action"] = "felblade",
						},
						{
							["enabled"] = true,
							["criteria"] = "active_enemies >= desired_targets + raid_event.adds.count || raid_event.adds.in > 10",
							["action"] = "glaive_tempest",
						},
						{
							["enabled"] = true,
							["criteria"] = "active_enemies > 3 & ! talent.student_of_suffering.enabled || buff.out_of_range.down & talent.art_of_the_glaive.enabled",
							["action"] = "sigil_of_flame",
						},
						{
							["enabled"] = true,
							["criteria"] = "debuff.essence_break.up",
							["action"] = "chaos_strike",
						},
						{
							["enabled"] = true,
							["criteria"] = "( buff.out_of_range.down || fury.deficit > 40 ) & action.felblade.cooldown_react",
							["action"] = "felblade",
						},
						{
							["enabled"] = true,
							["criteria"] = "active_enemies > 1 & talent.furious_throws.enabled",
							["action"] = "throw_glaive",
						},
						{
							["enabled"] = true,
							["criteria"] = "cooldown.eye_beam.remains > gcd.max * 2 || fury > 80 || talent.cycle_of_hatred.enabled",
							["action"] = "chaos_strike",
						},
						{
							["enabled"] = true,
							["criteria"] = "! talent.inertia.enabled & ( raid_event.adds.in > full_recharge_time || active_enemies > desired_targets & active_enemies > 2 )",
							["action"] = "immolation_aura",
						},
						{
							["enabled"] = true,
							["criteria"] = "buff.out_of_range.down & debuff.essence_break.down & ! talent.student_of_suffering.enabled & ( ! talent.fel_barrage.enabled || cooldown.fel_barrage.remains > 25 || ( active_enemies = 1 & ! raid_event.adds.exists ) )",
							["action"] = "sigil_of_flame",
						},
						{
							["action"] = "demons_bite",
							["enabled"] = true,
						},
						{
							["enabled"] = true,
							["criteria"] = "buff.unbound_chaos.down & recharge_time < cooldown.eye_beam.remains & debuff.essence_break.down & ( cooldown.eye_beam.remains > 8 || charges_fractional > 1.01 ) & buff.out_of_range.down & active_enemies > 1",
							["action"] = "throw_glaive",
						},
						{
							["enabled"] = true,
							["criteria"] = "buff.unbound_chaos.down & recharge_time < cooldown.eye_beam.remains & debuff.essence_break.down & ( cooldown.eye_beam.remains > 8 || charges_fractional > 1.01 ) & active_enemies > 1",
							["action"] = "fel_rush",
						},
						{
							["enabled"] = true,
							["criteria"] = "buff.out_of_range.down & debuff.essence_break.down & fury < 100",
							["action"] = "arcane_torrent",
						},
					},
					["precombat"] = {
						{
							["enabled"] = true,
							["op"] = "set",
							["action"] = "variable",
							["value"] = "trinket.t1.has_stat.any_dps",
							["var_name"] = "trinket1_steroids",
						},
						{
							["enabled"] = true,
							["op"] = "set",
							["action"] = "variable",
							["value"] = "trinket.t2.has_stat.any_dps",
							["var_name"] = "trinket2_steroids",
						},
						{
							["enabled"] = true,
							["op"] = "reset",
							["action"] = "variable",
							["var_name"] = "rg_ds",
							["default"] = "0",
						},
						{
							["action"] = "sigil_of_flame",
							["enabled"] = true,
						},
						{
							["enabled"] = true,
							["criteria"] = "buff.immolation_aura.down",
							["action"] = "immolation_aura",
						},
					},
					["meta"] = {
						{
							["enabled"] = true,
							["criteria"] = "buff.metamorphosis.remains < gcd.max || ( hero_tree.felscarred & talent.chaos_theory.enabled & talent.essence_break.enabled & ( ( cooldown.metamorphosis.up & ( ! buff.unbound_chaos.up || ! talent.inertia.enabled ) ) || prev_gcd.1.metamorphosis ) & buff.demonsurge.stack = 0 )",
							["action"] = "death_sweep",
						},
						{
							["enabled"] = true,
							["criteria"] = "buff.metamorphosis.remains < gcd.max || debuff.essence_break.remains & debuff.essence_break.remains < 0.5",
							["action"] = "annihilation",
						},
						{
							["enabled"] = true,
							["criteria"] = "( hero_tree.felscarred & buff.demonsurge_annihilation.up & ( talent.restless_hunter.enabled || ! talent.chaos_theory.enabled || buff.chaos_theory.up ) ) & ( cooldown.eye_beam.remains < gcd.max * 3 & cooldown.blade_dance.remains || cooldown.metamorphosis.remains < gcd.max * 3 )",
							["action"] = "annihilation",
						},
						{
							["enabled"] = true,
							["criteria"] = "buff.inertia_trigger.up & talent.inertia.enabled & cooldown.metamorphosis.up & ( ! hero_tree.felscarred || cooldown.eye_beam.remains )",
							["action"] = "fel_rush",
						},
						{
							["enabled"] = true,
							["criteria"] = "buff.inertia_trigger.up & talent.inertia.enabled & cooldown.blade_dance.remains < gcd.max * 3 & ( ! hero_tree.felscarred || cooldown.eye_beam.remains )",
							["action"] = "fel_rush",
						},
						{
							["enabled"] = true,
							["criteria"] = "talent.momentum.enabled & buff.momentum.remains < gcd.max * 2",
							["action"] = "fel_rush",
						},
						{
							["enabled"] = true,
							["criteria"] = "charges = 2 & active_enemies > 1 & debuff.essence_break.down",
							["action"] = "immolation_aura",
						},
						{
							["enabled"] = true,
							["criteria"] = "( buff.inner_demon.up ) & ( cooldown.eye_beam.remains < gcd.max * 3 & cooldown.blade_dance.remains || cooldown.metamorphosis.remains < gcd.max * 3 )",
							["action"] = "annihilation",
						},
						{
							["enabled"] = true,
							["criteria"] = "fury > 20 & ( cooldown.metamorphosis.remains > 10 || cooldown.blade_dance.remains < gcd.max * 2 ) & ( buff.unbound_chaos.down || buff.inertia.up || ! talent.inertia.enabled ) & buff.out_of_range.remains < gcd.max & ( ! talent.shattered_destiny.enabled || cooldown.eye_beam.remains > 4 ) & ( ! hero_tree.felscarred || active_enemies > 1 || cooldown.metamorphosis.remains > 5 & cooldown.eye_beam.remains ) || fight_remains < 10",
							["action"] = "essence_break",
						},
						{
							["enabled"] = true,
							["criteria"] = "cooldown.blade_dance.remains & talent.inertia.enabled & buff.metamorphosis.remains > 10 & hero_tree.felscarred & full_recharge_time < gcd.max * 2 & buff.unbound_chaos.down & debuff.essence_break.down",
							["action"] = "immolation_aura",
						},
						{
							["enabled"] = true,
							["criteria"] = "fury > 20 & ( cooldown.metamorphosis.remains > 10 || cooldown.blade_dance.remains < gcd.max * 2 ) & ( buff.unbound_chaos.down || buff.inertia.up || ! talent.inertia.enabled ) & buff.out_of_range.remains < gcd.max & ( ! talent.shattered_destiny.enabled || cooldown.eye_beam.remains > 4 ) || fight_remains < 10",
							["action"] = "essence_break",
						},
						{
							["enabled"] = true,
							["criteria"] = "cooldown.blade_dance.remains & debuff.essence_break.down",
							["action"] = "sigil_of_flame",
						},
						{
							["enabled"] = true,
							["criteria"] = "buff.demonsurge.up & buff.demonsurge.remains < gcd.max * 3 & buff.demonsurge_consuming_fire.up",
							["action"] = "immolation_aura",
						},
						{
							["enabled"] = true,
							["criteria"] = "debuff.essence_break.down & cooldown.blade_dance.remains > gcd.max + 0.5 & buff.unbound_chaos.down & talent.inertia.enabled & buff.inertia.down & full_recharge_time + 3 < cooldown.eye_beam.remains & buff.metamorphosis.remains > 5",
							["action"] = "immolation_aura",
						},
						{
							["enabled"] = true,
							["description"] = "actions.meta+=/death_sweep",
							["criteria"] = "debuff.essence_break.up || cooldown.essence_break.remains >= gcd.max * 2 || ( cooldown.metamorphosis.up & cooldown.eye_beam.remains & ! talent.restless_hunter.enabled )",
							["action"] = "death_sweep",
						},
						{
							["enabled"] = true,
							["criteria"] = "debuff.essence_break.down & buff.inner_demon.down",
							["action"] = "eye_beam",
						},
						{
							["enabled"] = true,
							["criteria"] = "debuff.essence_break.down & buff.inner_demon.down & buff.demonsurge_abyssal_gaze.up",
							["action"] = "eye_beam",
						},
						{
							["enabled"] = true,
							["criteria"] = "debuff.essence_break.down & ( cooldown.blade_dance.remains > gcd.max * 2 || fury > 60 ) & ( active_enemies >= desired_targets + raid_event.adds.count || raid_event.adds.in > 10 )",
							["action"] = "glaive_tempest",
						},
						{
							["enabled"] = true,
							["criteria"] = "active_enemies > 2 & debuff.essence_break.down",
							["action"] = "sigil_of_flame",
						},
						{
							["enabled"] = true,
							["criteria"] = "talent.soulscar.enabled & talent.furious_throws.enabled & active_enemies > 1 & debuff.essence_break.down",
							["action"] = "throw_glaive",
						},
						{
							["enabled"] = true,
							["criteria"] = "cooldown.blade_dance.remains || fury > 60 || soul_fragments > 0 || buff.metamorphosis.remains < 5 & cooldown.felblade.up",
							["action"] = "annihilation",
						},
						{
							["enabled"] = true,
							["criteria"] = "buff.metamorphosis.remains > 5 & buff.out_of_range.down",
							["action"] = "sigil_of_flame",
						},
						{
							["enabled"] = true,
							["criteria"] = "( buff.out_of_range.down || fury.deficit > 40 ) & action.felblade.cooldown_react",
							["action"] = "felblade",
						},
						{
							["enabled"] = true,
							["criteria"] = "debuff.essence_break.down & buff.out_of_range.down",
							["action"] = "sigil_of_flame",
						},
						{
							["enabled"] = true,
							["criteria"] = "buff.out_of_range.down & recharge_time < ( cooldown.eye_beam.remains <? buff.metamorphosis.remains ) & ( active_enemies >= desired_targets + raid_event.adds.count || raid_event.adds.in > full_recharge_time )",
							["action"] = "immolation_aura",
						},
						{
							["enabled"] = true,
							["criteria"] = "talent.momentum.enabled",
							["action"] = "fel_rush",
						},
						{
							["action"] = "annihilation",
							["enabled"] = true,
						},
						{
							["enabled"] = true,
							["criteria"] = "buff.unbound_chaos.down & recharge_time < cooldown.eye_beam.remains & debuff.essence_break.down & ( cooldown.eye_beam.remains > 8 || charges_fractional > 1.01 ) & buff.out_of_range.down & active_enemies > 1",
							["action"] = "throw_glaive",
						},
						{
							["enabled"] = true,
							["criteria"] = "buff.unbound_chaos.down & recharge_time < cooldown.eye_beam.remains & debuff.essence_break.down & ( cooldown.eye_beam.remains > 8 || charges_fractional > 1.01 ) & buff.out_of_range.down & active_enemies > 1",
							["action"] = "fel_rush",
						},
						{
							["action"] = "demons_bite",
							["enabled"] = true,
						},
					},
					["cooldown"] = {
						{
							["enabled"] = true,
							["criteria"] = "( ( ! talent.initiative.enabled || cooldown.vengeful_retreat.remains ) & ( cooldown.eye_beam.remains >= 20 & ( ! talent.essence_break.enabled || debuff.essence_break.up ) & buff.fel_barrage.down & ( raid_event.adds.in > 40 || ( raid_event.adds.remains > 8 || ! talent.fel_barrage.enabled ) & active_enemies > 2 ) || ! talent.chaotic_transformation.enabled || fight_remains < 30 ) & buff.inner_demon.down & ( ! talent.restless_hunter.enabled & cooldown.blade_dance.remains > gcd.max * 3 || prev_gcd.1.death_sweep ) ) & ! talent.inertia.enabled & ! talent.essence_break.enabled & ( hero_tree.aldrachi_reaver || buff.demonsurge_death_sweep.down ) & time > 15",
							["action"] = "metamorphosis",
						},
						{
							["enabled"] = true,
							["criteria"] = "( ( ! talent.initiative.enabled || cooldown.vengeful_retreat.remains ) & cooldown.blade_dance.remains & ( ( cooldown.death_sweep.remains || buff.metamorphosis.up & buff.metamorphosis.remains < ( gcd.max * 1.5 ) ) & cooldown.eye_beam.remains & ( ! talent.essence_break.enabled || debuff.essence_break.up || talent.shattered_destiny.enabled || hero_tree.felscarred ) & buff.fel_barrage.down & ( raid_event.adds.in > 40 || ( raid_event.adds.remains > 8 || ! talent.fel_barrage.enabled ) & active_enemies > 2 ) || ! talent.chaotic_transformation.enabled || fight_remains < 30 ) & ( buff.inner_demon.down & ( buff.rending_strike.down || ! talent.restless_hunter.enabled || prev_gcd.1.death_sweep ) ) ) & ( talent.inertia.enabled || talent.essence_break.enabled ) & ( hero_tree.aldrachi_reaver || ( buff.demonsurge_death_sweep.down || buff.metamorphosis.remains < gcd.max ) & ( buff.demonsurge_annihilation.down ) ) & time > 15",
							["action"] = "metamorphosis",
						},
						{
							["enabled"] = true,
							["criteria"] = "boss & fight_remains < 35 || buff.metamorphosis.up || debuff.essence_break.up",
							["action"] = "potion",
						},
						{
							["enabled"] = true,
							["op"] = "set",
							["action"] = "variable",
							["value"] = "equipped.mad_queens_mandate || equipped.treacherous_transmitter || equipped.skardyns_grace",
							["var_name"] = "special_trinket",
						},
						{
							["enabled"] = false,
							["criteria"] = "( ( ! talent.initiative.enabled || buff.initiative.up || time > 5 ) & ( buff.metamorphosis.remains > 5 || buff.metamorphosis.down ) & ( trinket.t1.is.mad_queens_mandate & ( trinket.t2.cooldown.duration < 10 || trinket.t2.cooldown.remains > 10 || ! trinket.t2.has_use_buff ) || trinket.t2.is.mad_queens_mandate & ( trinket.t1.cooldown.duration < 10 || trinket.t1.cooldown.remains > 10 || ! trinket.t1.has_use_buff ) ) & fight_remains > 120 || fight_remains < 10 & fight_remains < buff.metamorphosis.remains ) & debuff.essence_break.down || fight_remains < 5",
							["name"] = "mad_queens_mandate",
						},
						{
							["enabled"] = true,
							["criteria"] = "! equipped.mad_queens_mandate || equipped.mad_queens_mandate & ( trinket.t1.is.mad_queens_mandate & trinket.t1.cooldown.remains > fight_remains || trinket.t2.is.mad_queens_mandate & trinket.t2.cooldown.remains > fight_remains ) || fight_remains > 25",
							["name"] = "treacherous_transmitter",
							["action"] = "treacherous_transmitter",
						},
						{
							["enabled"] = true,
							["criteria"] = "( ! equipped.mad_queens_mandate || fight_remains > 25 || trinket.t2.is.skardyns_grace & trinket.t1.cooldown.remains > fight_remains || trinket.t1.is.skardyns_grace & trinket.t2.cooldown.remains > fight_remains || trinket.t1.cooldown.duration < 10 || trinket.t2.cooldown.duration < 10 ) & buff.metamorphosis.up",
							["name"] = "skardyns_grace",
							["action"] = "skardyns_grace",
						},
						{
							["enabled"] = true,
							["action"] = "trinket1",
							["criteria"] = "( ( cooldown.eye_beam.remains < gcd.max & active_enemies > 1 || buff.metamorphosis.up ) & ( raid_event.adds.in > trinket.t1.cooldown.duration - 15 || raid_event.adds.remains > 8 ) || ! trinket.t1.has_use_buff || fight_remains < 25 ) & ! trinket.t1.is.skardyns_grace & ! trinket.t1.is.mad_queens_mandate & ! trinket.t1.is.treacherous_transmitter & ( ! variable.special_trinket || trinket.t2.cooldown.remains > 20 )",
							["slot"] = "trinket1",
						},
						{
							["enabled"] = true,
							["action"] = "trinket2",
							["criteria"] = "( ( cooldown.eye_beam.remains < gcd.max & active_enemies > 1 || buff.metamorphosis.up ) & ( raid_event.adds.in > trinket.t2.cooldown.duration - 15 || raid_event.adds.remains > 8 ) || ! trinket.t2.has_use_buff || fight_remains < 25 ) & ! trinket.t2.is.skardyns_grace & ! trinket.t2.is.mad_queens_mandate & ! trinket.t2.is.treacherous_transmitter & ( ! variable.special_trinket || trinket.t1.cooldown.remains > 20 )",
							["slot"] = "trinket2",
						},
						{
							["enabled"] = true,
							["criteria"] = "debuff.essence_break.down & ( active_enemies >= desired_targets + raid_event.adds.count || raid_event.adds.in > 90 ) & ( debuff.reavers_mark.up || ! hero_tree.aldrachi_reaver ) & buff.reavers_glaive.down & ( buff.metamorphosis.remains > 5 || buff.metamorphosis.down ) & ( ! talent.initiative.enabled || buff.initiative.up || time > 5 )",
							["action"] = "the_hunt",
						},
						{
							["enabled"] = true,
							["criteria"] = "debuff.essence_break.down & ( debuff.reavers_mark.remains >= 2 - talent.quickened_sigils.enabled || ! hero_tree.aldrachi_reaver ) & cooldown.blade_dance.remains & time > 15",
							["action"] = "sigil_of_spite",
						},
					},
					["fel_barrage"] = {
						{
							["enabled"] = true,
							["op"] = "set",
							["action"] = "variable",
							["value"] = "cooldown.felblade.remains < gcd.max || cooldown.sigil_of_flame.remains < gcd.max",
							["var_name"] = "generator_up",
						},
						{
							["enabled"] = true,
							["op"] = "set",
							["action"] = "variable",
							["value"] = "talent.demon_blades.enabled * ( 1 / ( 2.6 * attack_haste ) * 12 * ( ( hero_tree.felscarred & buff.metamorphosis.up ) * 0.33 + 1 ) ) + buff.immolation_aura.stack * 6 + buff.tactical_retreat.up * 10",
							["var_name"] = "fury_gen",
						},
						{
							["enabled"] = true,
							["op"] = "set",
							["action"] = "variable",
							["value"] = "gcd.max * 32",
							["var_name"] = "gcd_drain",
						},
						{
							["enabled"] = true,
							["criteria"] = "buff.inner_demon.up",
							["action"] = "annihilation",
						},
						{
							["enabled"] = true,
							["criteria"] = "buff.fel_barrage.down & ( active_enemies > 1 & raid_event.adds.up || raid_event.adds.in > 40 )",
							["action"] = "eye_beam",
						},
						{
							["enabled"] = true,
							["criteria"] = "buff.fel_barrage.down & ( active_enemies > 1 & raid_event.adds.up || raid_event.adds.in > 40 )",
							["action"] = "eye_beam",
						},
						{
							["enabled"] = true,
							["criteria"] = "buff.fel_barrage.down & buff.metamorphosis.up",
							["action"] = "essence_break",
						},
						{
							["enabled"] = true,
							["criteria"] = "buff.fel_barrage.down",
							["action"] = "death_sweep",
						},
						{
							["enabled"] = true,
							["criteria"] = "buff.unbound_chaos.down & ( active_enemies > 2 || buff.fel_barrage.up ) & ( ! talent.inertia.enabled || cooldown.eye_beam.remains > recharge_time + 3 )",
							["action"] = "immolation_aura",
						},
						{
							["enabled"] = true,
							["criteria"] = "buff.fel_barrage.down & active_enemies > 1",
							["action"] = "glaive_tempest",
						},
						{
							["enabled"] = true,
							["criteria"] = "buff.fel_barrage.down",
							["action"] = "blade_dance",
						},
						{
							["enabled"] = true,
							["criteria"] = "fury > 100 & ( raid_event.adds.in > 90 || raid_event.adds.in < gcd.max || raid_event.adds.remains > 4 & active_enemies > 2 )",
							["action"] = "fel_barrage",
						},
						{
							["enabled"] = true,
							["criteria"] = "buff.unbound_chaos.up & fury > 20 & buff.fel_barrage.up",
							["action"] = "fel_rush",
						},
						{
							["enabled"] = true,
							["criteria"] = "fury.deficit > 40 & buff.fel_barrage.up & ( ! talent.student_of_suffering.enabled || cooldown.eye_beam.remains > 30 )",
							["action"] = "sigil_of_flame",
						},
						{
							["enabled"] = true,
							["criteria"] = "fury.deficit > 40 & buff.fel_barrage.up",
							["action"] = "sigil_of_flame",
						},
						{
							["enabled"] = true,
							["criteria"] = "buff.fel_barrage.up & fury.deficit > 40 & action.felblade.cooldown_react",
							["action"] = "felblade",
						},
						{
							["enabled"] = true,
							["criteria"] = "fury - variable.gcd_drain - 35 > 0 & ( buff.fel_barrage.remains < 3 || variable.generator_up || fury > 80 || variable.fury_gen > 18 )",
							["action"] = "death_sweep",
						},
						{
							["enabled"] = true,
							["criteria"] = "fury - variable.gcd_drain - 30 > 0 & ( buff.fel_barrage.remains < 3 || variable.generator_up || fury > 80 || variable.fury_gen > 18 )",
							["action"] = "glaive_tempest",
						},
						{
							["enabled"] = true,
							["criteria"] = "fury - variable.gcd_drain - 35 > 0 & ( buff.fel_barrage.remains < 3 || variable.generator_up || fury > 80 || variable.fury_gen > 18 )",
							["action"] = "blade_dance",
						},
						{
							["enabled"] = true,
							["criteria"] = "fury.deficit > 40 & buff.fel_barrage.up",
							["action"] = "arcane_torrent",
						},
						{
							["enabled"] = true,
							["criteria"] = "buff.unbound_chaos.up",
							["action"] = "fel_rush",
						},
						{
							["enabled"] = true,
							["criteria"] = "fury > 40 & ( active_enemies >= desired_targets + raid_event.adds.count || raid_event.adds.in > 80 )",
							["action"] = "the_hunt",
						},
						{
							["enabled"] = true,
							["criteria"] = "fury - variable.gcd_drain - 40 > 20 & ( buff.fel_barrage.remains < 3 || variable.generator_up || fury > 80 || variable.fury_gen > 18 )",
							["action"] = "annihilation",
						},
						{
							["enabled"] = true,
							["criteria"] = "fury - variable.gcd_drain - 40 > 20 & ( cooldown.fel_barrage.remains & cooldown.fel_barrage.remains < 10 & fury > 100 || buff.fel_barrage.up & ( buff.fel_barrage.remains * variable.fury_gen - buff.fel_barrage.remains * 32 ) > 0 )",
							["action"] = "chaos_strike",
						},
						{
							["action"] = "demons_bite",
							["enabled"] = true,
						},
					},
				},
			},
			["Vengeance"] = {
				["source"] = "https://github.com/simulationcraft/simc/",
				["builtIn"] = true,
				["date"] = 20240910,
				["spec"] = 581,
				["desc"] = "2024-09-10: SimC update\n\n2024-09-09: Tweak variable names to be consistent for FS vs. AR; fix wait loop\n\n2024-09-01, 09-08: SimC update\n\n2024-07-23: The War Within",
				["lists"] = {
					["fs"] = {
						{
							["enabled"] = true,
							["op"] = "set",
							["action"] = "variable",
							["value"] = "( crit + ( talent.aura_of_pain.enabled * 6 ) ) / 100",
							["criteria"] = "active_dot.sigil_of_flame > 0 & talent.volatile_flameblood.enabled",
							["var_name"] = "crit_pct",
						},
						{
							["enabled"] = true,
							["op"] = "set",
							["action"] = "variable",
							["value"] = "2 + ( 2 * gcd.max )",
							["var_name"] = "fel_dev_sequence_time",
						},
						{
							["enabled"] = true,
							["op"] = "add",
							["action"] = "variable",
							["value"] = "gcd.max",
							["criteria"] = "talent.fiery_demise.enabled & cooldown.fiery_brand.up",
							["var_name"] = "fel_dev_sequence_time",
						},
						{
							["enabled"] = true,
							["op"] = "add",
							["action"] = "variable",
							["value"] = "gcd.max",
							["criteria"] = "cooldown.sigil_of_flame.up || cooldown.sigil_of_flame.remains < variable.fel_dev_sequence_time",
							["var_name"] = "fel_dev_sequence_time",
						},
						{
							["enabled"] = true,
							["op"] = "add",
							["action"] = "variable",
							["value"] = "gcd.max",
							["criteria"] = "cooldown.immolation_aura.up || cooldown.immolation_aura.remains < variable.fel_dev_sequence_time",
							["var_name"] = "fel_dev_sequence_time",
						},
						{
							["enabled"] = true,
							["op"] = "set",
							["action"] = "variable",
							["value"] = "0",
							["var_name"] = "fel_dev_passive_fury_gen",
						},
						{
							["enabled"] = true,
							["op"] = "add",
							["action"] = "variable",
							["value"] = "2.5 * floor ( ( buff.student_of_suffering.remains >? variable.fel_dev_sequence_time ) )",
							["criteria"] = "talent.student_of_suffering.enabled & ( buff.student_of_suffering.remains > 1 || prev_gcd.1.sigil_of_flame )",
							["var_name"] = "fel_dev_passive_fury_gen",
						},
						{
							["enabled"] = true,
							["op"] = "add",
							["action"] = "variable",
							["value"] = "30 + ( 2 * talent.flames_of_fury.enabled * spell_targets.sigil_of_flame )",
							["criteria"] = "( cooldown.sigil_of_flame.remains < variable.fel_dev_sequence_time ) & ! variable.hold_sof",
							["var_name"] = "fel_dev_passive_fury_gen",
						},
						{
							["enabled"] = true,
							["op"] = "add",
							["action"] = "variable",
							["value"] = "8",
							["criteria"] = "cooldown.immolation_aura.remains < variable.fel_dev_sequence_time",
							["var_name"] = "fel_dev_passive_fury_gen",
						},
						{
							["enabled"] = true,
							["op"] = "add",
							["action"] = "variable",
							["value"] = "2 * floor ( ( buff.immolation_aura.remains >? variable.fel_dev_sequence_time ) )",
							["criteria"] = "buff.immolation_aura.remains > 1",
							["var_name"] = "fel_dev_passive_fury_gen",
						},
						{
							["enabled"] = true,
							["op"] = "add",
							["action"] = "variable",
							["value"] = "7.5 * variable.crit_pct * floor ( ( buff.immolation_aura.remains >? variable.fel_dev_sequence_time ) )",
							["criteria"] = "talent.volatile_flameblood.enabled & buff.immolation_aura.remains > 1",
							["var_name"] = "fel_dev_passive_fury_gen",
						},
						{
							["enabled"] = true,
							["op"] = "add",
							["action"] = "variable",
							["value"] = "22",
							["criteria"] = "talent.darkglare_boon.enabled",
							["var_name"] = "fel_dev_passive_fury_gen",
						},
						{
							["enabled"] = true,
							["op"] = "setif",
							["action"] = "variable",
							["var_name"] = "spbomb_threshold",
							["criteria"] = "talent.fiery_demise.enabled & dot.fiery_brand.ticking",
							["value_else"] = "( variable.single_target * 5 ) + ( variable.small_aoe * 4 ) + ( variable.big_aoe * 4 )",
							["value"] = "( variable.single_target * 5 ) + ( variable.small_aoe * 4 ) + ( variable.big_aoe * 4 )",
						},
						{
							["enabled"] = true,
							["op"] = "setif",
							["action"] = "variable",
							["var_name"] = "can_spbomb",
							["criteria"] = "talent.spirit_bomb.enabled",
							["value_else"] = "0",
							["value"] = "soul_fragments >= variable.spbomb_threshold",
						},
						{
							["enabled"] = true,
							["op"] = "setif",
							["action"] = "variable",
							["var_name"] = "can_spbomb_soon",
							["criteria"] = "talent.spirit_bomb.enabled",
							["value_else"] = "0",
							["value"] = "soul_fragments >= variable.spbomb_threshold",
						},
						{
							["enabled"] = true,
							["op"] = "setif",
							["action"] = "variable",
							["var_name"] = "can_spbomb_one_gcd",
							["criteria"] = "talent.spirit_bomb.enabled",
							["value_else"] = "0",
							["value"] = "( soul_fragments + variable.num_spawnable_souls ) >= variable.spbomb_threshold",
						},
						{
							["enabled"] = true,
							["op"] = "setif",
							["action"] = "variable",
							["var_name"] = "spburst_threshold",
							["criteria"] = "talent.fiery_demise.enabled & dot.fiery_brand.ticking",
							["value_else"] = "( variable.single_target * 5 ) + ( variable.small_aoe * 4 ) + ( variable.big_aoe * 4 )",
							["value"] = "( variable.single_target * 5 ) + ( variable.small_aoe * 4 ) + ( variable.big_aoe * 4 )",
						},
						{
							["enabled"] = true,
							["op"] = "setif",
							["action"] = "variable",
							["var_name"] = "can_spburst",
							["criteria"] = "talent.spirit_bomb.enabled",
							["value_else"] = "0",
							["value"] = "soul_fragments >= variable.spburst_threshold",
						},
						{
							["enabled"] = true,
							["op"] = "setif",
							["action"] = "variable",
							["var_name"] = "can_spburst_soon",
							["criteria"] = "talent.spirit_bomb.enabled",
							["value_else"] = "0",
							["value"] = "soul_fragments >= variable.spburst_threshold",
						},
						{
							["enabled"] = true,
							["op"] = "setif",
							["action"] = "variable",
							["var_name"] = "can_spburst_one_gcd",
							["criteria"] = "talent.spirit_bomb.enabled",
							["value_else"] = "0",
							["value"] = "( soul_fragments + variable.num_spawnable_souls ) >= variable.spburst_threshold",
						},
						{
							["enabled"] = true,
							["op"] = "set",
							["action"] = "variable",
							["value"] = "0",
							["var_name"] = "meta_prep_time",
						},
						{
							["enabled"] = true,
							["op"] = "add",
							["action"] = "variable",
							["value"] = "action.fiery_brand.execute_time",
							["criteria"] = "talent.fiery_demise.enabled & cooldown.fiery_brand.up",
							["var_name"] = "meta_prep_time",
						},
						{
							["enabled"] = true,
							["op"] = "add",
							["action"] = "variable",
							["value"] = "action.sigil_of_flame.execute_time * action.sigil_of_flame.charges",
							["var_name"] = "meta_prep_time",
						},
						{
							["enabled"] = true,
							["op"] = "setif",
							["action"] = "variable",
							["var_name"] = "dont_soul_cleave",
							["criteria"] = "buff.metamorphosis.up & buff.demonsurge_hardcast.up",
							["value_else"] = "( cooldown.fel_devastation.remains < ( gcd.max * 3 ) & ( ! ( ( fury + variable.fel_dev_passive_fury_gen ) >= 120 ) || ! ( variable.can_spburst || variable.can_spburst_soon || soul_fragments >= 4 ) ) )",
							["value"] = "buff.demonsurge_spirit_burst.up || ( buff.metamorphosis.remains < ( gcd.max * 2 ) & ( ! ( ( fury + variable.fel_dev_passive_fury_gen ) >= 120 ) || ! ( variable.can_spburst || variable.can_spburst_soon || soul_fragments >= 4 ) ) )",
						},
						{
							["enabled"] = true,
							["op"] = "setif",
							["action"] = "variable",
							["var_name"] = "fiery_brand_back_before_meta",
							["criteria"] = "talent.down_in_flames.enabled",
							["value_else"] = "cooldown.fiery_brand.duration <= cooldown.metamorphosis.remains",
							["value"] = "charges >= max_charges || ( charges_fractional >= 1 & cooldown.fiery_brand.full_recharge_time <= gcd.remains + execute_time ) || ( charges_fractional >= 1 & ( ( max_charges - ( charges_fractional - 1 ) ) * cooldown.fiery_brand.duration ) <= cooldown.metamorphosis.remains )",
						},
						{
							["enabled"] = true,
							["op"] = "setif",
							["action"] = "variable",
							["var_name"] = "hold_sof",
							["criteria"] = "talent.student_of_suffering.enabled",
							["value_else"] = "( cooldown.metamorphosis.up & ( talent.ascending_flame.enabled || ( ! talent.ascending_flame.enabled & cooldown.sigil_of_flame.charges_fractional < 2 ) ) ) || ( cooldown.sigil_of_flame.max_charges > 1 & talent.ascending_flame.enabled & ( ( cooldown.sigil_of_flame.max_charges - ( cooldown.sigil_of_flame.charges_fractional - 1 ) ) * cooldown.sigil_of_flame.duration ) > cooldown.metamorphosis.remains )",
							["value"] = "( buff.student_of_suffering.remains > ( 4 - talent.quickened_sigils.enabled ) ) || ( ! talent.ascending_flame.enabled & ( dot.sigil_of_flame.remains > ( 4 - talent.quickened_sigils.enabled ) ) ) || prev_gcd.1.sigil_of_flame || ( talent.illuminated_sigils.enabled & charges = 1 & time < ( 2 - talent.quickened_sigils.enabled ) ) || cooldown.metamorphosis.up || cooldown.metamorphosis.remains < cooldown.sigil_of_flame.recharge_time || cooldown.fel_devastation.remains < ( cooldown.sigil_of_flame.recharge_time + ( 3 * gcd.max ) )",
						},
						{
							["use_off_gcd"] = 1,
							["action"] = "use_items",
							["criteria"] = "! buff.metamorphosis.up",
							["enabled"] = true,
						},
						{
							["enabled"] = true,
							["criteria"] = "! ( cooldown.metamorphosis.up & prev_gcd.1.sigil_of_flame ) & ! ( talent.fallout.enabled & talent.spirit_bomb.enabled & spell_targets.spirit_bomb >= 3 & ( ( buff.metamorphosis.up & ( variable.can_spburst || variable.can_spburst_soon ) ) || ( ! buff.metamorphosis.up & ( variable.can_spbomb || variable.can_spbomb_soon ) ) ) ) & ! ( buff.metamorphosis.up & buff.demonsurge_hardcast.up )",
							["action"] = "immolation_aura",
						},
						{
							["enabled"] = true,
							["criteria"] = "! variable.hold_sof",
							["action"] = "sigil_of_flame",
						},
						{
							["enabled"] = true,
							["criteria"] = "! talent.fiery_demise.enabled || talent.fiery_demise.enabled & ( ( talent.down_in_flames.enabled & charges >= max_charges ) || ( active_dot.fiery_brand = 0 & variable.fiery_brand_back_before_meta ) )",
							["action"] = "fiery_brand",
						},
						{
							["enabled"] = true,
							["criteria"] = "boss & fight_remains < 20",
							["action"] = "call_action_list",
							["list_name"] = "fs_execute",
						},
						{
							["enabled"] = true,
							["criteria"] = "buff.metamorphosis.up & ! buff.demonsurge_hardcast.up & ( buff.demonsurge_soul_sunder.up || buff.demonsurge_spirit_burst.up )",
							["action"] = "run_action_list",
							["list_name"] = "fel_dev",
						},
						{
							["enabled"] = true,
							["criteria"] = "buff.metamorphosis.up & buff.demonsurge_hardcast.up",
							["stricct"] = "1",
							["action"] = "run_action_list",
							["list_name"] = "metamorphosis",
						},
						{
							["enabled"] = true,
							["criteria"] = "! buff.demonsurge_hardcast.up & ( cooldown.fel_devastation.up || ( cooldown.fel_devastation.remains <= ( gcd.max * 3 ) ) )",
							["action"] = "run_action_list",
							["list_name"] = "fel_dev_prep",
						},
						{
							["enabled"] = true,
							["criteria"] = "( cooldown.metamorphosis.remains <= variable.meta_prep_time ) & ! cooldown.fel_devastation.up & ! cooldown.fel_devastation.remains < 10 & ! buff.demonsurge_soul_sunder.up & ! buff.demonsurge_spirit_burst.up",
							["action"] = "run_action_list",
							["list_name"] = "meta_prep",
						},
						{
							["action"] = "the_hunt",
							["enabled"] = true,
						},
						{
							["enabled"] = true,
							["criteria"] = "( ( cooldown.sigil_of_spite.remains < execute_time || cooldown.soul_carver.remains < execute_time ) & cooldown.fel_devastation.remains < ( execute_time + gcd.max ) & fury < 50 )",
							["action"] = "felblade",
						},
						{
							["enabled"] = true,
							["criteria"] = "( ! talent.fiery_demise.enabled || talent.fiery_demise.enabled & dot.fiery_brand.ticking ) & ( ( ! talent.spirit_bomb.enabled || variable.single_target ) || ( talent.spirit_bomb.enabled & ! prev_gcd.1.sigil_of_spite & ( ( soul_fragments + 3 <= 5 & fury >= 40 ) || ( soul_fragments = 0 & fury >= 15 ) ) ) )",
							["action"] = "soul_carver",
						},
						{
							["enabled"] = true,
							["criteria"] = "( ! talent.spirit_bomb.enabled || variable.single_target ) || cooldown.fel_devastation.remains > ( gcd.max * 3 ) & ( ( fury >= 75 & talent.spirit_bomb.enabled & ( variable.can_spbomb || variable.can_spbomb_soon || ( buff.metamorphosis.up & ( variable.can_spburst || variable.can_spburst_soon ) ) ) ) || soul_fragments <= 1 )",
							["action"] = "sigil_of_spite",
						},
						{
							["enabled"] = true,
							["criteria"] = "variable.single_target & ! variable.dont_soul_cleave",
							["action"] = "soul_cleave",
						},
						{
							["enabled"] = true,
							["criteria"] = "variable.single_target & ! variable.dont_soul_cleave",
							["action"] = "soul_cleave",
						},
						{
							["enabled"] = true,
							["criteria"] = "variable.can_spburst & ! cooldown.fel_devastation.remains < ( gcd.max * 3 )",
							["action"] = "spirit_bomb",
						},
						{
							["enabled"] = true,
							["criteria"] = "variable.can_spbomb & ! cooldown.fel_devastation.remains < ( gcd.max * 3 )",
							["action"] = "spirit_bomb",
						},
						{
							["enabled"] = true,
							["criteria"] = "fury.deficit < 25 & ! variable.dont_soul_cleave",
							["action"] = "soul_cleave",
						},
						{
							["enabled"] = true,
							["criteria"] = "fury.deficit < 25 & ! variable.dont_soul_cleave",
							["action"] = "soul_cleave",
						},
						{
							["enabled"] = true,
							["criteria"] = "( fury < 40 & ( ( buff.metamorphosis.up & ( variable.can_spburst || variable.can_spburst_soon ) ) || ( ! buff.metamorphosis.up & ( variable.can_spbomb || variable.can_spbomb_soon ) ) ) ) || fury < 30",
							["action"] = "felblade",
						},
						{
							["enabled"] = true,
							["criteria"] = "! prev_gcd.1.fracture & talent.spirit_bomb.enabled & ( ( fury < 40 & ( ( buff.metamorphosis.up & ( variable.can_spburst || variable.can_spburst_soon ) ) || ( ! buff.metamorphosis.up & ( variable.can_spbomb || variable.can_spbomb_soon ) ) ) ) || ( buff.metamorphosis.up & variable.can_spburst_one_gcd ) || ( ! buff.metamorphosis.up & variable.can_spbomb_one_gcd ) )",
							["action"] = "fracture",
						},
						{
							["enabled"] = true,
							["criteria"] = "! variable.dont_soul_cleave",
							["action"] = "soul_cleave",
						},
						{
							["enabled"] = true,
							["criteria"] = "! variable.dont_soul_cleave",
							["action"] = "soul_cleave",
						},
						{
							["enabled"] = true,
							["criteria"] = "fury.deficit >= 40",
							["action"] = "felblade",
						},
						{
							["action"] = "fracture",
							["enabled"] = true,
						},
						{
							["action"] = "throw_glaive",
							["enabled"] = true,
						},
					},
					["rg_overflow"] = {
						{
							["enabled"] = true,
							["op"] = "set",
							["action"] = "variable",
							["value"] = "1",
							["var_name"] = "rg_enhance_cleave",
						},
						{
							["enabled"] = true,
							["criteria"] = "( variable.rg_enhance_cleave & fury >= 5 || ! variable.rg_enhance_cleave & fury >= 30 ) & ! buff.rending_strike.up & ! buff.glaive_flurry.up",
							["action"] = "reavers_glaive",
						},
					},
					["fel_dev"] = {
						{
							["enabled"] = true,
							["criteria"] = "buff.demonsurge_spirit_burst.up & ( variable.can_spburst || soul_fragments >= 4 || ( buff.metamorphosis.remains < ( gcd.max * 2 ) ) )",
							["action"] = "spirit_bomb",
						},
						{
							["enabled"] = true,
							["criteria"] = "buff.demonsurge_soul_sunder.up & ( ! buff.demonsurge_spirit_burst.up || ( buff.metamorphosis.remains < ( gcd.max * 2 ) ) )",
							["action"] = "soul_cleave",
						},
						{
							["enabled"] = true,
							["criteria"] = "soul_fragments <= 2 & buff.demonsurge_spirit_burst.up",
							["action"] = "sigil_of_spite",
						},
						{
							["enabled"] = true,
							["criteria"] = "soul_fragments <= 2 & ! prev_gcd.1.sigil_of_spite & buff.demonsurge_spirit_burst.up",
							["action"] = "soul_carver",
						},
						{
							["enabled"] = true,
							["criteria"] = "soul_fragments <= 2 & buff.demonsurge_spirit_burst.up",
							["action"] = "fracture",
						},
						{
							["action"] = "felblade",
							["enabled"] = true,
						},
						{
							["action"] = "fracture",
							["enabled"] = true,
						},
					},
					["meta_prep"] = {
						{
							["use_off_gcd"] = 1,
							["action"] = "metamorphosis",
							["criteria"] = "cooldown.sigil_of_flame.charges < 1 & gcd.remains = 0",
							["enabled"] = true,
						},
						{
							["enabled"] = true,
							["criteria"] = "talent.fiery_demise.enabled & ( ( talent.down_in_flames.enabled & charges >= max_charges ) || active_dot.fiery_brand = 0 )",
							["action"] = "fiery_brand",
						},
						{
							["use_off_gcd"] = 1,
							["action"] = "potion",
							["criteria"] = "gcd.remains = 0",
							["enabled"] = true,
						},
						{
							["action"] = "sigil_of_flame",
							["enabled"] = true,
						},
					},
					["fs_execute"] = {
						{
							["use_off_gcd"] = 1,
							["action"] = "metamorphosis",
							["enabled"] = true,
						},
						{
							["action"] = "the_hunt",
							["enabled"] = true,
						},
						{
							["action"] = "sigil_of_flame",
							["enabled"] = true,
						},
						{
							["action"] = "fiery_brand",
							["enabled"] = true,
						},
						{
							["action"] = "sigil_of_spite",
							["enabled"] = true,
						},
						{
							["action"] = "soul_carver",
							["enabled"] = true,
						},
						{
							["action"] = "fel_devastation",
							["enabled"] = true,
						},
					},
					["rg_sequence"] = {
						{
							["enabled"] = true,
							["criteria"] = "( fury < 30 & ( ! variable.rg_enhance_cleave & buff.glaive_flurry.up & buff.rending_strike.up || variable.rg_enhance_cleave & ! buff.rending_strike.up ) ) || ( action.fracture.charges_fractional < 1 & ( variable.rg_enhance_cleave & buff.rending_strike.up & buff.glaive_flurry.up || ! variable.rg_enhance_cleave & ! buff.glaive_flurry.up ) )",
							["action"] = "call_action_list",
							["list_name"] = "rg_sequence_filler",
						},
						{
							["enabled"] = true,
							["criteria"] = "( variable.rg_enhance_cleave & buff.rending_strike.up & buff.glaive_flurry.up || ! variable.rg_enhance_cleave & ! buff.glaive_flurry.up )",
							["action"] = "fracture",
						},
						{
							["enabled"] = true,
							["criteria"] = "( variable.rg_enhance_cleave & buff.rending_strike.up & buff.glaive_flurry.up || ! variable.rg_enhance_cleave & ! buff.glaive_flurry.up )",
							["action"] = "shear",
						},
						{
							["enabled"] = true,
							["criteria"] = "( ! variable.rg_enhance_cleave & buff.glaive_flurry.up & buff.rending_strike.up || variable.rg_enhance_cleave & ! buff.rending_strike.up )",
							["action"] = "soul_cleave",
						},
					},
					["metamorphosis"] = {
						{
							["enabled"] = true,
							["criteria"] = "buff.metamorphosis.remains < ( gcd.max * 3 )",
							["action"] = "fel_devastation",
						},
						{
							["enabled"] = true,
							["criteria"] = "fury < 50 & ( buff.metamorphosis.remains < ( gcd.max * 3 ) ) & cooldown.fel_desolation.up",
							["action"] = "felblade",
						},
						{
							["enabled"] = true,
							["criteria"] = "fury < 50 & ! cooldown.felblade.up & ( buff.metamorphosis.remains < ( gcd.max * 3 ) ) & cooldown.fel_desolation.up",
							["action"] = "fracture",
						},
						{
							["enabled"] = true,
							["criteria"] = "talent.illuminated_sigils.enabled & talent.cycle_of_binding.enabled & charges = max_charges",
							["action"] = "sigil_of_flame",
						},
						{
							["action"] = "immolation_aura",
							["enabled"] = true,
						},
						{
							["enabled"] = true,
							["criteria"] = "! talent.student_of_suffering.enabled & ( talent.ascending_flame.enabled || ( ! talent.ascending_flame.enabled & ! prev_gcd.1.sigil_of_doom & ( dot.sigil_of_doom.remains < ( 4 - talent.quickened_sigils.enabled ) ) ) )",
							["action"] = "sigil_of_flame",
						},
						{
							["enabled"] = true,
							["criteria"] = "talent.student_of_suffering.enabled & ! prev_gcd.1.sigil_of_flame & ! prev_gcd.1.sigil_of_doom & ( buff.student_of_suffering.remains < ( 4 - talent.quickened_sigils.enabled ) )",
							["action"] = "sigil_of_flame",
						},
						{
							["enabled"] = true,
							["criteria"] = "buff.metamorphosis.remains < ( ( 2 - talent.quickened_sigils.enabled ) + ( charges * gcd.max ) )",
							["action"] = "sigil_of_flame",
						},
						{
							["enabled"] = true,
							["criteria"] = "soul_fragments <= 3 & ( prev_gcd.1.sigil_of_spite )",
							["action"] = "fel_devastation",
						},
						{
							["enabled"] = true,
							["criteria"] = "( ( cooldown.sigil_of_spite.remains < execute_time || cooldown.soul_carver.remains < execute_time ) & cooldown.fel_desolation.remains < ( execute_time + gcd.max ) & fury < 50 )",
							["action"] = "felblade",
						},
						{
							["enabled"] = true,
							["criteria"] = "( ! talent.spirit_bomb.enabled || ( variable.single_target & ! buff.demonsurge_spirit_burst.up ) ) || ( ( ( soul_fragments + 3 ) <= 6 ) & fury >= 40 & ! prev_gcd.1.sigil_of_spite )",
							["action"] = "soul_carver",
						},
						{
							["enabled"] = true,
							["criteria"] = "! talent.spirit_bomb.enabled || ( fury >= 80 & ( variable.can_spburst || variable.can_spburst_soon || soul_fragments <= ( 2 - talent.soul_sigils.rank ) ) ) || ( soul_fragments <= 2 & buff.demonsurge_fel_desolation.up & fury >= 50 )",
							["action"] = "sigil_of_spite",
						},
						{
							["enabled"] = true,
							["criteria"] = "variable.can_spburst & ( buff.demonsurge_spirit_burst.up || talent.fiery_demise.enabled & dot.fiery_brand.ticking & soul_fragments >= 4 )",
							["action"] = "spirit_bomb",
						},
						{
							["enabled"] = true,
							["criteria"] = "soul_fragments <= ( 2 - talent.soul_sigils.rank )",
							["action"] = "sigil_of_spite",
						},
						{
							["action"] = "fel_devastation",
							["enabled"] = true,
						},
						{
							["action"] = "the_hunt",
							["enabled"] = true,
						},
						{
							["enabled"] = true,
							["criteria"] = "talent.spirit_bomb.enabled & buff.demonsurge_spirit_burst.up & ! ( variable.can_spburst || variable.can_spburst_soon )",
							["action"] = "fracture",
						},
						{
							["enabled"] = true,
							["criteria"] = "buff.demonsurge_soul_sunder.up || ( variable.single_target & ! variable.dont_soul_cleave )",
							["action"] = "soul_cleave",
						},
						{
							["enabled"] = true,
							["criteria"] = "variable.can_spburst & buff.metamorphosis.remains > ( gcd.max * 2 )",
							["action"] = "spirit_bomb",
						},
						{
							["enabled"] = true,
							["criteria"] = "fury < 40 & ( variable.can_spburst || variable.can_spburst_soon )",
							["action"] = "felblade",
						},
						{
							["enabled"] = true,
							["criteria"] = "variable.big_aoe & talent.spirit_bomb.enabled & ( soul_fragments >= 2 & soul_fragments <= 3 )",
							["action"] = "fracture",
						},
						{
							["enabled"] = true,
							["criteria"] = "fury < 30",
							["action"] = "felblade",
						},
						{
							["enabled"] = true,
							["criteria"] = "! variable.dont_soul_cleave",
							["action"] = "soul_cleave",
						},
						{
							["action"] = "felblade",
							["enabled"] = true,
						},
						{
							["action"] = "fracture",
							["enabled"] = true,
						},
					},
					["default"] = {
						{
							["enabled"] = true,
							["op"] = "reset",
							["action"] = "variable",
							["var_name"] = "num_spawnable_souls",
							["default"] = "0",
						},
						{
							["enabled"] = true,
							["op"] = "max",
							["action"] = "variable",
							["value"] = "1",
							["criteria"] = "talent.soul_sigils.enabled & cooldown.sigil_of_flame.up",
							["var_name"] = "num_spawnable_souls",
						},
						{
							["enabled"] = true,
							["op"] = "max",
							["action"] = "variable",
							["value"] = "2",
							["criteria"] = "talent.fracture.enabled & cooldown.fracture.charges_fractional >= 1 & ! buff.metamorphosis.up",
							["var_name"] = "num_spawnable_souls",
						},
						{
							["enabled"] = true,
							["op"] = "max",
							["action"] = "variable",
							["value"] = "3",
							["criteria"] = "talent.fracture.enabled & cooldown.fracture.charges_fractional >= 1 & buff.metamorphosis.up",
							["var_name"] = "num_spawnable_souls",
						},
						{
							["enabled"] = true,
							["op"] = "add",
							["action"] = "variable",
							["value"] = "1",
							["criteria"] = "talent.soul_carver.enabled & ( cooldown.soul_carver.remains > ( cooldown.soul_carver.duration - 3 ) )",
							["var_name"] = "num_spawnable_souls",
						},
						{
							["enabled"] = true,
							["criteria"] = "target.debuff.casting.up",
							["action"] = "disrupt",
						},
						{
							["use_off_gcd"] = 1,
							["action"] = "infernal_strike",
							["enabled"] = true,
						},
						{
							["use_off_gcd"] = 1,
							["action"] = "demon_spikes",
							["criteria"] = "! buff.demon_spikes.up & tanking",
							["enabled"] = true,
						},
						{
							["enabled"] = true,
							["criteria"] = "hero_tree.aldrachi_reaver || level < 71",
							["strict"] = 1,
							["action"] = "run_action_list",
							["list_name"] = "ar",
						},
						{
							["enabled"] = true,
							["criteria"] = "hero_tree.felscarred",
							["strict"] = 1,
							["action"] = "run_action_list",
							["list_name"] = "fs",
						},
					},
					["precombat"] = {
						{
							["enabled"] = true,
							["op"] = "set",
							["action"] = "variable",
							["value"] = "spell_targets.spirit_bomb = 1",
							["var_name"] = "single_target",
						},
						{
							["enabled"] = true,
							["op"] = "set",
							["action"] = "variable",
							["value"] = "spell_targets.spirit_bomb >= 2 & spell_targets.spirit_bomb <= 5",
							["var_name"] = "small_aoe",
						},
						{
							["enabled"] = true,
							["op"] = "set",
							["action"] = "variable",
							["value"] = "spell_targets.spirit_bomb >= 6",
							["var_name"] = "big_aoe",
						},
						{
							["action"] = "arcane_torrent",
							["enabled"] = true,
						},
						{
							["enabled"] = true,
							["criteria"] = "hero_tree.aldrachi_reaver || level < 71 || ( hero_tree.felscarred & talent.student_of_suffering.enabled )",
							["action"] = "sigil_of_flame",
						},
						{
							["action"] = "immolation_aura",
							["enabled"] = true,
						},
					},
					["rg_sequence_filler"] = {
						{
							["enabled"] = true,
							["criteria"] = "fury.deficit > 30",
							["action"] = "felblade",
						},
						{
							["enabled"] = true,
							["criteria"] = "! buff.rending_strike.up",
							["action"] = "fracture",
						},
						{
							["action"] = "sigil_of_flame",
							["enabled"] = true,
						},
						{
							["action"] = "sigil_of_spite",
							["enabled"] = true,
						},
						{
							["action"] = "soul_carver",
							["enabled"] = true,
						},
						{
							["action"] = "fel_devastation",
							["enabled"] = true,
						},
						{
							["action"] = "throw_glaive",
							["enabled"] = true,
						},
					},
					["fel_dev_prep"] = {
						{
							["use_off_gcd"] = 1,
							["action"] = "potion",
							["criteria"] = "prev_gcd.1.fiery_brand",
							["enabled"] = true,
						},
						{
							["enabled"] = true,
							["criteria"] = "cooldown.metamorphosis.remains > recharge_time",
							["action"] = "sigil_of_flame",
						},
						{
							["enabled"] = true,
							["criteria"] = "talent.fiery_demise.enabled & ( ( fury + variable.fel_dev_passive_fury_gen ) >= 120 ) & ( variable.can_spburst || variable.can_spburst_soon || soul_fragments >= 4 ) & active_dot.fiery_brand = 0 & ( cooldown.metamorphosis.remains < ( execute_time + action.fel_devastation.execute_time + ( gcd.max * 2 ) ) )",
							["action"] = "fiery_brand",
						},
						{
							["enabled"] = true,
							["criteria"] = "( ( fury + variable.fel_dev_passive_fury_gen ) >= 120 ) & ( variable.can_spburst || variable.can_spburst_soon || soul_fragments >= 4 )",
							["action"] = "fel_devastation",
						},
						{
							["enabled"] = true,
							["criteria"] = "( ! talent.cycle_of_binding.enabled || cooldown.metamorphosis.remains > 20 ) & ( soul_fragments <= 1 || ( ! ( variable.can_spburst || variable.can_spburst_soon || soul_fragments >= 4 ) & action.fracture.charges_fractional < 1 ) )",
							["action"] = "sigil_of_spite",
						},
						{
							["enabled"] = true,
							["criteria"] = "( ! talent.cycle_of_binding.enabled || cooldown.metamorphosis.remains > 20 ) & ( soul_fragments <= 1 || ( ! ( variable.can_spburst || variable.can_spburst_soon || soul_fragments >= 4 ) & action.fracture.charges_fractional < 1 ) ) & ! prev_gcd.1.sigil_of_spite & ! prev_gcd.2.sigil_of_spite",
							["action"] = "soul_carver",
						},
						{
							["enabled"] = true,
							["criteria"] = "! ( ( fury + variable.fel_dev_passive_fury_gen ) >= 120 )",
							["action"] = "felblade",
						},
						{
							["enabled"] = true,
							["criteria"] = "! ( variable.can_spburst || variable.can_spburst_soon || soul_fragments >= 4 ) || ! ( ( fury + variable.fel_dev_passive_fury_gen ) >= 120 )",
							["action"] = "fracture",
						},
						{
							["action"] = "felblade",
							["enabled"] = true,
						},
						{
							["action"] = "fracture",
							["enabled"] = true,
						},
						{
							["enabled"] = true,
							["description"] = "actions.fel_dev_prep+=/wait,sec=0.1,if=(!(variable.can_spburst||variable.can_spburst_soon||soul_fragments>=4)||!((fury+variable.fel_dev_passive_fury_gen)>=120))&action.fracture.charges_fractional>=0.7",
							["action"] = "fel_devastation",
						},
						{
							["enabled"] = true,
							["criteria"] = "( ( fury + variable.fel_dev_passive_fury_gen ) >= 150 )",
							["action"] = "soul_cleave",
						},
						{
							["action"] = "throw_glaive",
							["enabled"] = true,
						},
					},
					["ar"] = {
						{
							["enabled"] = true,
							["op"] = "setif",
							["action"] = "variable",
							["var_name"] = "spb_threshold",
							["criteria"] = "talent.fiery_demise.enabled & dot.fiery_brand.ticking",
							["value_else"] = "( variable.single_target * 5 ) + ( variable.small_aoe * 5 ) + ( variable.big_aoe * 4 )",
							["value"] = "( variable.single_target * 5 ) + ( variable.small_aoe * 4 ) + ( variable.big_aoe * 4 )",
						},
						{
							["enabled"] = true,
							["op"] = "setif",
							["action"] = "variable",
							["var_name"] = "can_spbomb",
							["criteria"] = "talent.spirit_bomb.enabled",
							["value_else"] = "0",
							["value"] = "soul_fragments >= variable.spb_threshold",
						},
						{
							["enabled"] = true,
							["op"] = "setif",
							["action"] = "variable",
							["var_name"] = "can_spbomb_soon",
							["criteria"] = "talent.spirit_bomb.enabled",
							["value_else"] = "0",
							["value"] = "soul_fragments >= variable.spb_threshold",
						},
						{
							["enabled"] = true,
							["op"] = "setif",
							["action"] = "variable",
							["var_name"] = "can_spbomb_one_gcd",
							["criteria"] = "talent.spirit_bomb.enabled",
							["value_else"] = "0",
							["value"] = "( soul_fragments + variable.num_spawnable_souls ) >= variable.spb_threshold",
						},
						{
							["enabled"] = true,
							["op"] = "set",
							["action"] = "variable",
							["value"] = "talent.spirit_bomb.enabled & ( ( variable.can_spbomb || variable.can_spbomb_soon || variable.can_spbomb_one_gcd ) || prev_gcd.1.fracture )",
							["var_name"] = "dont_soul_cleave",
						},
						{
							["enabled"] = true,
							["op"] = "set",
							["action"] = "variable",
							["value"] = "time + 20",
							["criteria"] = "prev_gcd.1.fracture & debuff.reavers_mark.stack = 2 & debuff.reavers_mark.remains > ( 20 - gcd.max ) & ! buff.rending_strike.up & ! buff.glaive_flurry.up",
							["var_name"] = "double_rm_expires",
						},
						{
							["enabled"] = true,
							["op"] = "setif",
							["action"] = "variable",
							["var_name"] = "double_rm_remains",
							["criteria"] = "( variable.double_rm_expires - time ) > 0",
							["value_else"] = "0",
							["value"] = "variable.double_rm_expires - time",
						},
						{
							["enabled"] = true,
							["op"] = "set",
							["action"] = "variable",
							["value"] = "action.fracture.execute_time + action.soul_cleave.execute_time + action.reavers_glaive.execute_time",
							["var_name"] = "rg_sequence_duration",
						},
						{
							["enabled"] = true,
							["op"] = "add",
							["action"] = "variable",
							["value"] = "gcd.max",
							["criteria"] = "! talent.keen_engagement.enabled",
							["var_name"] = "rg_sequence_duration",
						},
						{
							["enabled"] = true,
							["op"] = "set",
							["action"] = "variable",
							["value"] = "0",
							["criteria"] = "! buff.glaive_flurry.up & ! buff.rending_strike.up",
							["var_name"] = "trigger_overflow",
						},
						{
							["enabled"] = true,
							["op"] = "setif",
							["action"] = "variable",
							["var_name"] = "rg_enhance_cleave",
							["criteria"] = "spell_targets.spirit_bomb > 4 || fight_remains < 8 || variable.trigger_overflow",
							["value_else"] = "0",
							["value"] = "1",
						},
						{
							["enabled"] = true,
							["op"] = "set",
							["action"] = "variable",
							["value"] = "( debuff.reavers_mark.remains > gcd.max & debuff.reavers_mark.stack = 2 & buff.thrill_of_the_fight_damage.remains > gcd.max ) || fight_remains < 20",
							["var_name"] = "cooldown_sync",
						},
						{
							["use_off_gcd"] = 1,
							["action"] = "potion",
							["criteria"] = "gcd.remains = 0 & ( variable.cooldown_sync || ( buff.rending_strike.up & buff.glaive_flurry.up ) )",
							["enabled"] = true,
						},
						{
							["use_off_gcd"] = 1,
							["action"] = "use_items",
							["criteria"] = "variable.cooldown_sync",
							["enabled"] = true,
						},
						{
							["enabled"] = true,
							["criteria"] = "buff.glaive_flurry.up || buff.rending_strike.up",
							["action"] = "run_action_list",
							["list_name"] = "rg_sequence",
						},
						{
							["use_off_gcd"] = 1,
							["action"] = "metamorphosis",
							["criteria"] = "! buff.metamorphosis.up & gcd.remains = 0 & cooldown.the_hunt.remains > 5 & ! ( buff.rending_strike.up & buff.glaive_flurry.up )",
							["enabled"] = true,
						},
						{
							["use_off_gcd"] = 1,
							["action"] = "vengeful_retreat",
							["criteria"] = "talent.unhindered_assault.enabled & ! cooldown.felblade.up & ( ( ( talent.spirit_bomb.enabled & ( fury < 40 & ( variable.can_spbomb || variable.can_spbomb_soon ) ) ) || ( talent.spirit_bomb.enabled & ( cooldown.sigil_of_spite.remains < gcd.max || cooldown.soul_carver.remains < gcd.max ) & ( cooldown.fel_devastation.remains < ( gcd.max * 2 ) ) & fury < 50 ) ) || ( fury < 30 & ( soul_fragments <= 2 || cooldown.fracture.charges_fractional < 1 ) ) )",
							["enabled"] = true,
						},
						{
							["enabled"] = true,
							["criteria"] = "! buff.reavers_glaive.up & ( buff.art_of_the_glaive.stack + soul_fragments ) < 20",
							["action"] = "the_hunt",
						},
						{
							["enabled"] = true,
							["criteria"] = "! ( buff.glaive_flurry.up || buff.rending_strike.up )",
							["action"] = "immolation_aura",
						},
						{
							["enabled"] = true,
							["criteria"] = "! ( buff.glaive_flurry.up || buff.rending_strike.up ) & ( talent.ascending_flame.enabled || ( ! talent.ascending_flame.enabled & ! prev_gcd.1.sigil_of_flame & ( dot.sigil_of_flame.remains < ( 1 + talent.quickened_sigils.enabled ) ) ) )",
							["action"] = "sigil_of_flame",
						},
						{
							["enabled"] = true,
							["criteria"] = "buff.reavers_glaive.up & buff.thrill_of_the_fight_damage.up & buff.thrill_of_the_fight_damage.remains < variable.rg_sequence_duration & ( ( ( ( ( 1.2 * ( 1 + raw_haste_pct ) ) * ( variable.double_rm_remains - variable.rg_sequence_duration ) ) + soul_fragments + buff.art_of_the_glaive.stack ) >= 20 ) || ( ( cooldown.the_hunt.remains ) < ( variable.double_rm_remains - ( variable.rg_sequence_duration + action.the_hunt.execute_time ) ) ) )",
							["action"] = "call_action_list",
							["list_name"] = "rg_overflow",
						},
						{
							["enabled"] = true,
							["criteria"] = "fight_remains < 20",
							["action"] = "call_action_list",
							["list_name"] = "ar_execute",
						},
						{
							["enabled"] = true,
							["criteria"] = "( variable.double_rm_remains <= ( execute_time + variable.rg_sequence_duration ) ) & ( soul_fragments >= 2 & buff.art_of_the_glaive.stack >= ( 20 - 2 ) ) & ( fury < 40 || ! variable.can_spbomb )",
							["action"] = "soul_cleave",
						},
						{
							["enabled"] = true,
							["criteria"] = "( variable.double_rm_remains <= ( execute_time + variable.rg_sequence_duration ) ) & ( buff.art_of_the_glaive.stack + soul_fragments >= 20 )",
							["action"] = "spirit_bomb",
						},
						{
							["enabled"] = true,
							["criteria"] = "( variable.double_rm_remains <= ( execute_time + variable.rg_sequence_duration ) ) & ( buff.art_of_the_glaive.stack + ( spell_targets >? 5 ) >= 20 )",
							["action"] = "bulk_extraction",
						},
						{
							["enabled"] = true,
							["criteria"] = "( variable.rg_enhance_cleave & fury >= 5 || ! variable.rg_enhance_cleave & fury >= 30 ) & buff.thrill_of_the_fight_damage.remains < variable.rg_sequence_duration & ( ! buff.thrill_of_the_fight_attack_speed.up || ( variable.double_rm_remains <= variable.rg_sequence_duration ) || variable.rg_enhance_cleave )",
							["action"] = "reavers_glaive",
						},
						{
							["enabled"] = true,
							["criteria"] = "! talent.fiery_demise.enabled || ( talent.fiery_demise.enabled & ( ( talent.down_in_flames.enabled & charges >= max_charges ) || ( active_dot.fiery_brand = 0 ) ) )",
							["action"] = "fiery_brand",
						},
						{
							["enabled"] = true,
							["criteria"] = "! talent.spirit_bomb.enabled || ( talent.spirit_bomb.enabled & fury >= 40 & ( variable.can_spbomb || variable.can_spbomb_soon || soul_fragments <= ( 2 - talent.soul_sigils.rank ) ) )",
							["action"] = "sigil_of_spite",
						},
						{
							["enabled"] = true,
							["criteria"] = "variable.can_spb",
							["action"] = "spirit_bomb",
						},
						{
							["enabled"] = true,
							["criteria"] = "talent.spirit_bomb.enabled & ! variable.can_spbomb & ( variable.can_spbomb_soon || prev_gcd.1.sigil_of_spite || prev_gcd.1.soul_carver )",
							["action"] = "fel_devastation",
						},
						{
							["enabled"] = true,
							["criteria"] = "! talent.spirit_bomb.enabled || ( ( soul_fragments + 3 ) <= 5 )",
							["action"] = "soul_carver",
						},
						{
							["enabled"] = true,
							["criteria"] = "fury.deficit < 25",
							["action"] = "soul_cleave",
						},
						{
							["enabled"] = true,
							["criteria"] = "talent.spirit_bomb.enabled & ( variable.can_spbomb || variable.can_spbomb_soon || variable.can_spbomb_one_gcd ) & fury < 40 & ! cooldown.felblade.up & ( ! talent.unhindered_assault.enabled || ( talent.unhindered_assault.enabled & ! cooldown.vengeful_retreat.up ) )",
							["action"] = "fracture",
						},
						{
							["enabled"] = true,
							["criteria"] = "! variable.single_target || buff.thrill_of_the_fight_damage.up",
							["action"] = "fel_devastation",
						},
						{
							["enabled"] = true,
							["criteria"] = "spell_targets >= 5",
							["action"] = "bulk_extraction",
						},
						{
							["enabled"] = true,
							["criteria"] = "( ( ( talent.spirit_bomb.enabled & ( fury < 40 & ( variable.can_spbomb || variable.can_spbomb_soon ) ) ) || ( talent.spirit_bomb.enabled & ( cooldown.sigil_of_spite.remains < gcd.max || cooldown.soul_carver.remains < gcd.max ) & ( cooldown.fel_devastation.remains < ( gcd.max * 2 ) ) & fury < 50 ) ) || ( fury < 30 & ( soul_fragments <= 2 || cooldown.fracture.charges_fractional < 1 ) ) )",
							["action"] = "felblade",
						},
						{
							["enabled"] = true,
							["criteria"] = "fury.deficit <= 25 || ( ! talent.spirit_bomb.enabled || ! variable.dont_soul_cleave )",
							["action"] = "soul_cleave",
						},
						{
							["action"] = "fracture",
							["enabled"] = true,
						},
						{
							["action"] = "shear",
							["enabled"] = true,
						},
						{
							["action"] = "felblade",
							["enabled"] = true,
						},
						{
							["action"] = "throw_glaive",
							["enabled"] = true,
						},
					},
					["ar_execute"] = {
						{
							["use_off_gcd"] = 1,
							["action"] = "metamorphosis",
							["enabled"] = true,
						},
						{
							["enabled"] = true,
							["criteria"] = "fury >= 30",
							["action"] = "reavers_glaive",
						},
						{
							["enabled"] = true,
							["criteria"] = "! buff.reavers_glaive.up",
							["action"] = "the_hunt",
						},
						{
							["enabled"] = true,
							["criteria"] = "spell_targets >= 3 & buff.art_of_the_glaive.stack >= 20",
							["action"] = "bulk_extraction",
						},
						{
							["action"] = "sigil_of_flame",
							["enabled"] = true,
						},
						{
							["action"] = "fiery_brand",
							["enabled"] = true,
						},
						{
							["action"] = "sigil_of_spite",
							["enabled"] = true,
						},
						{
							["action"] = "soul_carver",
							["enabled"] = true,
						},
						{
							["action"] = "fel_devastation",
							["enabled"] = true,
						},
					},
				},
				["version"] = 20240910,
				["warnings"] = "The import for 'fs' required some automated changes.\nLine 1: Converted 'talent.aura_of_pain' to 'talent.aura_of_pain.enabled' (1x).\nLine 1: Converted operations in '(crit+(talent.aura_of_pain.enabled*6))%100' to '(crit+(talent.aura_of_pain.enabled*6))/100'.\nLine 1: Converted 'talent.volatile_flameblood' to 'talent.volatile_flameblood.enabled' (1x).\nLine 3: Converted 'talent.fiery_demise' to 'talent.fiery_demise.enabled' (1x).\nLine 8: Converted 'talent.flames_of_fury' to 'talent.flames_of_fury.enabled' (1x).\nLine 11: Converted 'talent.volatile_flameblood' to 'talent.volatile_flameblood.enabled' (1x).\nLine 13: Converted 'talent.fiery_demise' to 'talent.fiery_demise.enabled' (1x).\nLine 14: Converted 'talent.spirit_bomb' to 'talent.spirit_bomb.enabled' (1x).\nLine 15: Converted 'talent.spirit_bomb' to 'talent.spirit_bomb.enabled' (1x).\nLine 16: Converted 'talent.spirit_bomb' to 'talent.spirit_bomb.enabled' (1x).\nLine 17: Converted 'talent.fiery_demise' to 'talent.fiery_demise.enabled' (1x).\nLine 18: Converted 'talent.spirit_bomb' to 'talent.spirit_bomb.enabled' (1x).\nLine 19: Converted 'talent.spirit_bomb' to 'talent.spirit_bomb.enabled' (1x).\nLine 20: Converted 'talent.spirit_bomb' to 'talent.spirit_bomb.enabled' (1x).\nLine 22: Converted 'talent.fiery_demise' to 'talent.fiery_demise.enabled' (1x).\nLine 25: Converted 'talent.down_in_flames' to 'talent.down_in_flames.enabled' (1x).\nLine 26: Converted 'talent.student_of_suffering' to 'talent.student_of_suffering.enabled' (1x).\nLine 26: Converted 'talent.quickened_sigils' to 'talent.quickened_sigils.enabled' (1x).\nLine 26: Converted 'talent.ascending_flame' to 'talent.ascending_flame.enabled' (1x).\nLine 26: Converted 'talent.quickened_sigils' to 'talent.quickened_sigils.enabled' (1x).\nLine 26: Converted 'talent.illuminated_sigils' to 'talent.illuminated_sigils.enabled' (1x).\nLine 26: Converted 'talent.quickened_sigils' to 'talent.quickened_sigils.enabled' (1x).\nLine 26: Converted 'talent.ascending_flame' to 'talent.ascending_flame.enabled' (1x).\nLine 26: Converted 'talent.ascending_flame' to 'talent.ascending_flame.enabled' (1x).\nLine 26: Converted 'talent.ascending_flame' to 'talent.ascending_flame.enabled' (1x).\nLine 28: Converted 'talent.fallout' to 'talent.fallout.enabled' (1x).\nLine 28: Converted 'talent.spirit_bomb' to 'talent.spirit_bomb.enabled' (1x).\nLine 30: Converted 'talent.fiery_demise' to 'talent.fiery_demise.enabled' (1x).\nLine 30: Converted 'talent.fiery_demise' to 'talent.fiery_demise.enabled' (1x).\nLine 30: Converted 'talent.down_in_flames' to 'talent.down_in_flames.enabled' (1x).\nLine 38: Converted 'talent.fiery_demise' to 'talent.fiery_demise.enabled' (1x).\nLine 38: Converted 'talent.fiery_demise' to 'talent.fiery_demise.enabled' (1x).\nLine 38: Converted 'talent.spirit_bomb' to 'talent.spirit_bomb.enabled' (1x).\nLine 38: Converted 'talent.spirit_bomb' to 'talent.spirit_bomb.enabled' (1x).\nLine 39: Converted 'talent.spirit_bomb' to 'talent.spirit_bomb.enabled' (1x).\nLine 39: Converted 'talent.spirit_bomb' to 'talent.spirit_bomb.enabled' (1x).\nLine 47: Converted 'talent.spirit_bomb' to 'talent.spirit_bomb.enabled' (1x).\n\nThe import for 'metamorphosis' required some automated changes.\nLine 4: Converted 'talent.illuminated_sigils' to 'talent.illuminated_sigils.enabled' (1x).\nLine 4: Converted 'talent.cycle_of_binding' to 'talent.cycle_of_binding.enabled' (1x).\nLine 6: Converted 'talent.student_of_suffering' to 'talent.student_of_suffering.enabled' (1x).\nLine 6: Converted 'talent.ascending_flame' to 'talent.ascending_flame.enabled' (1x).\nLine 6: Converted 'talent.ascending_flame' to 'talent.ascending_flame.enabled' (1x).\nLine 6: Converted 'talent.quickened_sigils' to 'talent.quickened_sigils.enabled' (1x).\nLine 7: Converted 'talent.student_of_suffering' to 'talent.student_of_suffering.enabled' (1x).\nLine 7: Converted 'talent.quickened_sigils' to 'talent.quickened_sigils.enabled' (1x).\nLine 8: Converted 'talent.quickened_sigils' to 'talent.quickened_sigils.enabled' (1x).\nLine 11: Converted 'talent.spirit_bomb' to 'talent.spirit_bomb.enabled' (1x).\nLine 12: Converted 'talent.spirit_bomb' to 'talent.spirit_bomb.enabled' (1x).\nLine 13: Converted 'talent.fiery_demise' to 'talent.fiery_demise.enabled' (1x).\nLine 17: Converted 'talent.spirit_bomb' to 'talent.spirit_bomb.enabled' (1x).\nLine 21: Converted 'talent.spirit_bomb' to 'talent.spirit_bomb.enabled' (1x).\n\nThe import for 'default' required some automated changes.\nLine 2: Converted 'talent.soul_sigils' to 'talent.soul_sigils.enabled' (1x).\nLine 3: Converted 'talent.fracture' to 'talent.fracture.enabled' (1x).\nLine 4: Converted 'talent.fracture' to 'talent.fracture.enabled' (1x).\nLine 5: Converted 'talent.soul_carver' to 'talent.soul_carver.enabled' (1x).\n\nThe import for 'precombat' required some automated changes.\nLine 5: Converted 'talent.student_of_suffering' to 'talent.student_of_suffering.enabled' (1x).\n\nThe import for 'meta_prep' required some automated changes.\nLine 2: Converted 'talent.fiery_demise' to 'talent.fiery_demise.enabled' (1x).\nLine 2: Converted 'talent.down_in_flames' to 'talent.down_in_flames.enabled' (1x).\n\nThe import for 'ar' required some automated changes.\nLine 1: Converted 'talent.fiery_demise' to 'talent.fiery_demise.enabled' (1x).\nLine 2: Converted 'talent.spirit_bomb' to 'talent.spirit_bomb.enabled' (1x).\nLine 3: Converted 'talent.spirit_bomb' to 'talent.spirit_bomb.enabled' (1x).\nLine 4: Converted 'talent.spirit_bomb' to 'talent.spirit_bomb.enabled' (1x).\nLine 5: Converted 'talent.spirit_bomb' to 'talent.spirit_bomb.enabled' (1x).\nLine 9: Converted 'talent.keen_engagement' to 'talent.keen_engagement.enabled' (1x).\nLine 17: Converted 'talent.unhindered_assault' to 'talent.unhindered_assault.enabled' (1x).\nLine 17: Converted 'talent.spirit_bomb' to 'talent.spirit_bomb.enabled' (1x).\nLine 17: Converted 'talent.spirit_bomb' to 'talent.spirit_bomb.enabled' (1x).\nLine 20: Converted 'talent.ascending_flame' to 'talent.ascending_flame.enabled' (1x).\nLine 20: Converted 'talent.ascending_flame' to 'talent.ascending_flame.enabled' (1x).\nLine 20: Converted 'talent.quickened_sigils' to 'talent.quickened_sigils.enabled' (1x).\nLine 27: Converted 'talent.fiery_demise' to 'talent.fiery_demise.enabled' (1x).\nLine 27: Converted 'talent.fiery_demise' to 'talent.fiery_demise.enabled' (1x).\nLine 27: Converted 'talent.down_in_flames' to 'talent.down_in_flames.enabled' (1x).\nLine 28: Converted 'talent.spirit_bomb' to 'talent.spirit_bomb.enabled' (1x).\nLine 28: Converted 'talent.spirit_bomb' to 'talent.spirit_bomb.enabled' (1x).\nLine 30: Converted 'talent.spirit_bomb' to 'talent.spirit_bomb.enabled' (1x).\nLine 31: Converted 'talent.spirit_bomb' to 'talent.spirit_bomb.enabled' (1x).\nLine 33: Converted 'talent.spirit_bomb' to 'talent.spirit_bomb.enabled' (1x).\nLine 33: Converted 'talent.unhindered_assault' to 'talent.unhindered_assault.enabled' (1x).\nLine 33: Converted 'talent.unhindered_assault' to 'talent.unhindered_assault.enabled' (1x).\nLine 36: Converted 'talent.spirit_bomb' to 'talent.spirit_bomb.enabled' (1x).\nLine 36: Converted 'talent.spirit_bomb' to 'talent.spirit_bomb.enabled' (1x).\nLine 37: Converted 'talent.spirit_bomb' to 'talent.spirit_bomb.enabled' (1x).\n\nThe import for 'fel_dev_prep' required some automated changes.\nLine 3: Converted 'talent.fiery_demise' to 'talent.fiery_demise.enabled' (1x).\nLine 5: Converted 'talent.cycle_of_binding' to 'talent.cycle_of_binding.enabled' (1x).\nLine 6: Converted 'talent.cycle_of_binding' to 'talent.cycle_of_binding.enabled' (1x).\n\nImported 13 action lists.\n",
				["profile"] = "actions.precombat+=/variable,name=single_target,value=spell_targets.spirit_bomb=1\nactions.precombat+=/variable,name=small_aoe,value=spell_targets.spirit_bomb>=2&spell_targets.spirit_bomb<=5\nactions.precombat+=/variable,name=big_aoe,value=spell_targets.spirit_bomb>=6\nactions.precombat+=/arcane_torrent\nactions.precombat+=/sigil_of_flame,if=hero_tree.aldrachi_reaver||level<71||(hero_tree.felscarred&talent.student_of_suffering)\nactions.precombat+=/immolation_aura\n\nactions+=/variable,name=num_spawnable_souls,op=reset,default=0\nactions+=/variable,name=num_spawnable_souls,op=max,value=1,if=talent.soul_sigils&cooldown.sigil_of_flame.up\nactions+=/variable,name=num_spawnable_souls,op=max,value=2,if=talent.fracture&cooldown.fracture.charges_fractional>=1&!buff.metamorphosis.up\nactions+=/variable,name=num_spawnable_souls,op=max,value=3,if=talent.fracture&cooldown.fracture.charges_fractional>=1&buff.metamorphosis.up\nactions+=/variable,name=num_spawnable_souls,op=add,value=1,if=talent.soul_carver&(cooldown.soul_carver.remains>(cooldown.soul_carver.duration-3))\nactions+=/disrupt,if=target.debuff.casting.up\nactions+=/infernal_strike,use_off_gcd=1\nactions+=/demon_spikes,use_off_gcd=1,if=!buff.demon_spikes.up&tanking\nactions+=/run_action_list,name=ar,strict=1,if=hero_tree.aldrachi_reaver||level<71\nactions+=/run_action_list,name=fs,strict=1,if=hero_tree.felscarred\n\nactions.ar+=/variable,name=spb_threshold,op=setif,condition=talent.fiery_demise&dot.fiery_brand.ticking,value=(variable.single_target*5)+(variable.small_aoe*4)+(variable.big_aoe*4),value_else=(variable.single_target*5)+(variable.small_aoe*5)+(variable.big_aoe*4)\nactions.ar+=/variable,name=can_spbomb,op=setif,condition=talent.spirit_bomb,value=soul_fragments>=variable.spb_threshold,value_else=0\nactions.ar+=/variable,name=can_spbomb_soon,op=setif,condition=talent.spirit_bomb,value=soul_fragments>=variable.spb_threshold,value_else=0\nactions.ar+=/variable,name=can_spbomb_one_gcd,op=setif,condition=talent.spirit_bomb,value=(soul_fragments+variable.num_spawnable_souls)>=variable.spb_threshold,value_else=0\nactions.ar+=/variable,name=dont_soul_cleave,value=talent.spirit_bomb&((variable.can_spbomb||variable.can_spbomb_soon||variable.can_spbomb_one_gcd)||prev_gcd.1.fracture)\nactions.ar+=/variable,name=double_rm_expires,op=set,value=time+20,if=prev_gcd.1.fracture&debuff.reavers_mark.stack=2&debuff.reavers_mark.remains>(20-gcd.max)&!buff.rending_strike.up&!buff.glaive_flurry.up\nactions.ar+=/variable,name=double_rm_remains,op=setif,condition=(variable.double_rm_expires-time)>0,value=variable.double_rm_expires-time,value_else=0\nactions.ar+=/variable,name=rg_sequence_duration,op=set,value=action.fracture.execute_time+action.soul_cleave.execute_time+action.reavers_glaive.execute_time\nactions.ar+=/variable,name=rg_sequence_duration,op=add,value=gcd.max,if=!talent.keen_engagement\nactions.ar+=/variable,name=trigger_overflow,op=set,value=0,if=!buff.glaive_flurry.up&!buff.rending_strike.up\nactions.ar+=/variable,name=rg_enhance_cleave,op=setif,condition=spell_targets.spirit_bomb>4||fight_remains<8||variable.trigger_overflow,value=1,value_else=0\nactions.ar+=/variable,name=cooldown_sync,value=(debuff.reavers_mark.remains>gcd.max&debuff.reavers_mark.stack=2&buff.thrill_of_the_fight_damage.remains>gcd.max)||fight_remains<20\nactions.ar+=/potion,use_off_gcd=1,if=gcd.remains=0&(variable.cooldown_sync||(buff.rending_strike.up&buff.glaive_flurry.up))\nactions.ar+=/use_items,use_off_gcd=1,if=variable.cooldown_sync\n## actions.ar+=/call_action_list,name=externals,if=variable.cooldown_sync\nactions.ar+=/run_action_list,name=rg_sequence,if=buff.glaive_flurry.up||buff.rending_strike.up\nactions.ar+=/metamorphosis,use_off_gcd=1,if=!buff.metamorphosis.up&gcd.remains=0&cooldown.the_hunt.remains>5&!(buff.rending_strike.up&buff.glaive_flurry.up)\nactions.ar+=/vengeful_retreat,use_off_gcd=1,if=talent.unhindered_assault&!cooldown.felblade.up&(((talent.spirit_bomb&(fury<40&(variable.can_spbomb||variable.can_spbomb_soon)))||(talent.spirit_bomb&(cooldown.sigil_of_spite.remains<gcd.max||cooldown.soul_carver.remains<gcd.max)&(cooldown.fel_devastation.remains<(gcd.max*2))&fury<50))||(fury<30&(soul_fragments<=2||cooldown.fracture.charges_fractional<1)))\nactions.ar+=/the_hunt,if=!buff.reavers_glaive.up&(buff.art_of_the_glaive.stack+soul_fragments)<20\nactions.ar+=/immolation_aura,if=!(buff.glaive_flurry.up||buff.rending_strike.up)\nactions.ar+=/sigil_of_flame,if=!(buff.glaive_flurry.up||buff.rending_strike.up)&(talent.ascending_flame||(!talent.ascending_flame&!prev_gcd.1.sigil_of_flame&(dot.sigil_of_flame.remains<(1+talent.quickened_sigils))))\nactions.ar+=/call_action_list,name=rg_overflow,if=buff.reavers_glaive.up&buff.thrill_of_the_fight_damage.up&buff.thrill_of_the_fight_damage.remains<variable.rg_sequence_duration&(((((1.2*(1+raw_haste_pct))*(variable.double_rm_remains-variable.rg_sequence_duration))+soul_fragments+buff.art_of_the_glaive.stack)>=20)||((cooldown.the_hunt.remains)<(variable.double_rm_remains-(variable.rg_sequence_duration+action.the_hunt.execute_time))))\nactions.ar+=/call_action_list,name=ar_execute,if=fight_remains<20\nactions.ar+=/soul_cleave,if=(variable.double_rm_remains<=(execute_time+variable.rg_sequence_duration))&(soul_fragments>=2&buff.art_of_the_glaive.stack>=(20-2))&(fury<40||!variable.can_spbomb)\nactions.ar+=/spirit_bomb,if=(variable.double_rm_remains<=(execute_time+variable.rg_sequence_duration))&(buff.art_of_the_glaive.stack+soul_fragments>=20)\nactions.ar+=/bulk_extraction,if=(variable.double_rm_remains<=(execute_time+variable.rg_sequence_duration))&(buff.art_of_the_glaive.stack+(spell_targets>?5)>=20)\nactions.ar+=/reavers_glaive,if=(variable.rg_enhance_cleave&fury>=5||!variable.rg_enhance_cleave&fury>=30)&buff.thrill_of_the_fight_damage.remains<variable.rg_sequence_duration&(!buff.thrill_of_the_fight_attack_speed.up||(variable.double_rm_remains<=variable.rg_sequence_duration)||variable.rg_enhance_cleave)\nactions.ar+=/fiery_brand,if=!talent.fiery_demise||(talent.fiery_demise&((talent.down_in_flames&charges>=max_charges)||(active_dot.fiery_brand=0)))\nactions.ar+=/sigil_of_spite,if=!talent.spirit_bomb||(talent.spirit_bomb&fury>=40&(variable.can_spbomb||variable.can_spbomb_soon||soul_fragments<=(2-talent.soul_sigils.rank)))\nactions.ar+=/spirit_bomb,if=variable.can_spb\nactions.ar+=/fel_devastation,if=talent.spirit_bomb&!variable.can_spbomb&(variable.can_spbomb_soon||prev_gcd.1.sigil_of_spite||prev_gcd.1.soul_carver)\nactions.ar+=/soul_carver,if=!talent.spirit_bomb||((soul_fragments+3)<=5)\nactions.ar+=/soul_cleave,if=fury.deficit<25\nactions.ar+=/fracture,if=talent.spirit_bomb&(variable.can_spbomb||variable.can_spbomb_soon||variable.can_spbomb_one_gcd)&fury<40&!cooldown.felblade.up&(!talent.unhindered_assault||(talent.unhindered_assault&!cooldown.vengeful_retreat.up))\nactions.ar+=/fel_devastation,if=!variable.single_target||buff.thrill_of_the_fight_damage.up\nactions.ar+=/bulk_extraction,if=spell_targets>=5\nactions.ar+=/felblade,if=(((talent.spirit_bomb&(fury<40&(variable.can_spbomb||variable.can_spbomb_soon)))||(talent.spirit_bomb&(cooldown.sigil_of_spite.remains<gcd.max||cooldown.soul_carver.remains<gcd.max)&(cooldown.fel_devastation.remains<(gcd.max*2))&fury<50))||(fury<30&(soul_fragments<=2||cooldown.fracture.charges_fractional<1)))\nactions.ar+=/soul_cleave,if=fury.deficit<=25||(!talent.spirit_bomb||!variable.dont_soul_cleave)\nactions.ar+=/fracture\nactions.ar+=/shear\nactions.ar+=/felblade\nactions.ar+=/throw_glaive\n\nactions.ar_execute+=/metamorphosis,use_off_gcd=1\nactions.ar_execute+=/reavers_glaive,if=fury>=30\nactions.ar_execute+=/the_hunt,if=!buff.reavers_glaive.up\nactions.ar_execute+=/bulk_extraction,if=spell_targets>=3&buff.art_of_the_glaive.stack>=20\nactions.ar_execute+=/sigil_of_flame\nactions.ar_execute+=/fiery_brand\nactions.ar_execute+=/sigil_of_spite\nactions.ar_execute+=/soul_carver\nactions.ar_execute+=/fel_devastation\n\n## actions.externals+=/invoke_external_buff,name=symbol_of_hope\n## actions.externals+=/invoke_external_buff,name=power_infusion\n\nactions.fel_dev+=/spirit_burst,if=buff.demonsurge_spirit_burst.up&(variable.can_spburst||soul_fragments>=4||(buff.metamorphosis.remains<(gcd.max*2)))\nactions.fel_dev+=/soul_sunder,if=buff.demonsurge_soul_sunder.up&(!buff.demonsurge_spirit_burst.up||(buff.metamorphosis.remains<(gcd.max*2)))\nactions.fel_dev+=/sigil_of_spite,if=soul_fragments<=2&buff.demonsurge_spirit_burst.up\nactions.fel_dev+=/soul_carver,if=soul_fragments<=2&!prev_gcd.1.sigil_of_spite&buff.demonsurge_spirit_burst.up\nactions.fel_dev+=/fracture,if=soul_fragments<=2&buff.demonsurge_spirit_burst.up\nactions.fel_dev+=/felblade\nactions.fel_dev+=/fracture\n\nactions.fel_dev_prep+=/potion,use_off_gcd=1,if=prev_gcd.1.fiery_brand\nactions.fel_dev_prep+=/sigil_of_flame,if=cooldown.metamorphosis.remains>recharge_time\nactions.fel_dev_prep+=/fiery_brand,if=talent.fiery_demise&((fury+variable.fel_dev_passive_fury_gen)>=120)&(variable.can_spburst||variable.can_spburst_soon||soul_fragments>=4)&active_dot.fiery_brand=0&(cooldown.metamorphosis.remains<(execute_time+action.fel_devastation.execute_time+(gcd.max*2)))\nactions.fel_dev_prep+=/fel_devastation,if=((fury+variable.fel_dev_passive_fury_gen)>=120)&(variable.can_spburst||variable.can_spburst_soon||soul_fragments>=4)\nactions.fel_dev_prep+=/sigil_of_spite,if=(!talent.cycle_of_binding||cooldown.metamorphosis.remains>20)&(soul_fragments<=1||(!(variable.can_spburst||variable.can_spburst_soon||soul_fragments>=4)&action.fracture.charges_fractional<1))\nactions.fel_dev_prep+=/soul_carver,if=(!talent.cycle_of_binding||cooldown.metamorphosis.remains>20)&(soul_fragments<=1||(!(variable.can_spburst||variable.can_spburst_soon||soul_fragments>=4)&action.fracture.charges_fractional<1))&!prev_gcd.1.sigil_of_spite&!prev_gcd.2.sigil_of_spite\nactions.fel_dev_prep+=/felblade,if=!((fury+variable.fel_dev_passive_fury_gen)>=120)\nactions.fel_dev_prep+=/fracture,if=!(variable.can_spburst||variable.can_spburst_soon||soul_fragments>=4)||!((fury+variable.fel_dev_passive_fury_gen)>=120)\nactions.fel_dev_prep+=/felblade\nactions.fel_dev_prep+=/fracture\n# actions.fel_dev_prep+=/wait,sec=0.1,if=(!(variable.can_spburst||variable.can_spburst_soon||soul_fragments>=4)||!((fury+variable.fel_dev_passive_fury_gen)>=120))&action.fracture.charges_fractional>=0.7\nactions.fel_dev_prep+=/fel_devastation\nactions.fel_dev_prep+=/soul_cleave,if=((fury+variable.fel_dev_passive_fury_gen)>=150)\nactions.fel_dev_prep+=/throw_glaive\n\nactions.fs+=/variable,name=crit_pct,op=set,value=(crit+(talent.aura_of_pain*6))%100,if=active_dot.sigil_of_flame>0&talent.volatile_flameblood\nactions.fs+=/variable,name=fel_dev_sequence_time,op=set,value=2+(2*gcd.max)\nactions.fs+=/variable,name=fel_dev_sequence_time,op=add,value=gcd.max,if=talent.fiery_demise&cooldown.fiery_brand.up\nactions.fs+=/variable,name=fel_dev_sequence_time,op=add,value=gcd.max,if=cooldown.sigil_of_flame.up||cooldown.sigil_of_flame.remains<variable.fel_dev_sequence_time\nactions.fs+=/variable,name=fel_dev_sequence_time,op=add,value=gcd.max,if=cooldown.immolation_aura.up||cooldown.immolation_aura.remains<variable.fel_dev_sequence_time\nactions.fs+=/variable,name=fel_dev_passive_fury_gen,op=set,value=0\nactions.fs+=/variable,name=fel_dev_passive_fury_gen,op=add,value=2.5*floor((buff.student_of_suffering.remains>?variable.fel_dev_sequence_time)),if=talent.student_of_suffering.enabled&(buff.student_of_suffering.remains>1||prev_gcd.1.sigil_of_flame)\nactions.fs+=/variable,name=fel_dev_passive_fury_gen,op=add,value=30+(2*talent.flames_of_fury*spell_targets.sigil_of_flame),if=(cooldown.sigil_of_flame.remains<variable.fel_dev_sequence_time)&!variable.hold_sof\nactions.fs+=/variable,name=fel_dev_passive_fury_gen,op=add,value=8,if=cooldown.immolation_aura.remains<variable.fel_dev_sequence_time\nactions.fs+=/variable,name=fel_dev_passive_fury_gen,op=add,value=2*floor((buff.immolation_aura.remains>?variable.fel_dev_sequence_time)),if=buff.immolation_aura.remains>1\nactions.fs+=/variable,name=fel_dev_passive_fury_gen,op=add,value=7.5*variable.crit_pct*floor((buff.immolation_aura.remains>?variable.fel_dev_sequence_time)),if=talent.volatile_flameblood&buff.immolation_aura.remains>1\nactions.fs+=/variable,name=fel_dev_passive_fury_gen,op=add,value=22,if=talent.darkglare_boon.enabled\nactions.fs+=/variable,name=spbomb_threshold,op=setif,condition=talent.fiery_demise&dot.fiery_brand.ticking,value=(variable.single_target*5)+(variable.small_aoe*4)+(variable.big_aoe*4),value_else=(variable.single_target*5)+(variable.small_aoe*4)+(variable.big_aoe*4)\nactions.fs+=/variable,name=can_spbomb,op=setif,condition=talent.spirit_bomb,value=soul_fragments>=variable.spbomb_threshold,value_else=0\nactions.fs+=/variable,name=can_spbomb_soon,op=setif,condition=talent.spirit_bomb,value=soul_fragments>=variable.spbomb_threshold,value_else=0\nactions.fs+=/variable,name=can_spbomb_one_gcd,op=setif,condition=talent.spirit_bomb,value=(soul_fragments+variable.num_spawnable_souls)>=variable.spbomb_threshold,value_else=0\nactions.fs+=/variable,name=spburst_threshold,op=setif,condition=talent.fiery_demise&dot.fiery_brand.ticking,value=(variable.single_target*5)+(variable.small_aoe*4)+(variable.big_aoe*4),value_else=(variable.single_target*5)+(variable.small_aoe*4)+(variable.big_aoe*4)\nactions.fs+=/variable,name=can_spburst,op=setif,condition=talent.spirit_bomb,value=soul_fragments>=variable.spburst_threshold,value_else=0\nactions.fs+=/variable,name=can_spburst_soon,op=setif,condition=talent.spirit_bomb,value=soul_fragments>=variable.spburst_threshold,value_else=0\nactions.fs+=/variable,name=can_spburst_one_gcd,op=setif,condition=talent.spirit_bomb,value=(soul_fragments+variable.num_spawnable_souls)>=variable.spburst_threshold,value_else=0\nactions.fs+=/variable,name=meta_prep_time,op=set,value=0\nactions.fs+=/variable,name=meta_prep_time,op=add,value=action.fiery_brand.execute_time,if=talent.fiery_demise&cooldown.fiery_brand.up\nactions.fs+=/variable,name=meta_prep_time,op=add,value=action.sigil_of_flame.execute_time*action.sigil_of_flame.charges\nactions.fs+=/variable,name=dont_soul_cleave,op=setif,condition=buff.metamorphosis.up&buff.demonsurge_hardcast.up,value=buff.demonsurge_spirit_burst.up||(buff.metamorphosis.remains<(gcd.max*2)&(!((fury+variable.fel_dev_passive_fury_gen)>=120)||!(variable.can_spburst||variable.can_spburst_soon||soul_fragments>=4))),value_else=(cooldown.fel_devastation.remains<(gcd.max*3)&(!((fury+variable.fel_dev_passive_fury_gen)>=120)||!(variable.can_spburst||variable.can_spburst_soon||soul_fragments>=4)))\nactions.fs+=/variable,name=fiery_brand_back_before_meta,op=setif,condition=talent.down_in_flames,value=charges>=max_charges||(charges_fractional>=1&cooldown.fiery_brand.full_recharge_time<=gcd.remains+execute_time)||(charges_fractional>=1&((max_charges-(charges_fractional-1))*cooldown.fiery_brand.duration)<=cooldown.metamorphosis.remains),value_else=cooldown.fiery_brand.duration<=cooldown.metamorphosis.remains\nactions.fs+=/variable,name=hold_sof,op=setif,condition=talent.student_of_suffering,value=(buff.student_of_suffering.remains>(4-talent.quickened_sigils))||(!talent.ascending_flame&(dot.sigil_of_flame.remains>(4-talent.quickened_sigils)))||prev_gcd.1.sigil_of_flame||(talent.illuminated_sigils&charges=1&time<(2-talent.quickened_sigils))||cooldown.metamorphosis.up||cooldown.metamorphosis.remains<cooldown.sigil_of_flame.recharge_time||cooldown.fel_devastation.remains<(cooldown.sigil_of_flame.recharge_time+(3*gcd.max)),value_else=(cooldown.metamorphosis.up&(talent.ascending_flame||(!talent.ascending_flame&cooldown.sigil_of_flame.charges_fractional<2)))||(cooldown.sigil_of_flame.max_charges>1&talent.ascending_flame&((cooldown.sigil_of_flame.max_charges-(cooldown.sigil_of_flame.charges_fractional-1))*cooldown.sigil_of_flame.duration)>cooldown.metamorphosis.remains)\nactions.fs+=/use_items,use_off_gcd=1,if=!buff.metamorphosis.up\nactions.fs+=/immolation_aura,if=!(cooldown.metamorphosis.up&prev_gcd.1.sigil_of_flame)&!(talent.fallout&talent.spirit_bomb&spell_targets.spirit_bomb>=3&((buff.metamorphosis.up&(variable.can_spburst||variable.can_spburst_soon))||(!buff.metamorphosis.up&(variable.can_spbomb||variable.can_spbomb_soon))))&!(buff.metamorphosis.up&buff.demonsurge_hardcast.up)\nactions.fs+=/sigil_of_flame,if=!variable.hold_sof\nactions.fs+=/fiery_brand,if=!talent.fiery_demise||talent.fiery_demise&((talent.down_in_flames&charges>=max_charges)||(active_dot.fiery_brand=0&variable.fiery_brand_back_before_meta))\nactions.fs+=/call_action_list,name=fs_execute,if=boss&fight_remains<20\nactions.fs+=/run_action_list,name=fel_dev,if=buff.metamorphosis.up&!buff.demonsurge_hardcast.up&(buff.demonsurge_soul_sunder.up||buff.demonsurge_spirit_burst.up)\nactions.fs+=/run_action_list,name=metamorphosis,stricct=1,if=buff.metamorphosis.up&buff.demonsurge_hardcast.up\nactions.fs+=/run_action_list,name=fel_dev_prep,if=!buff.demonsurge_hardcast.up&(cooldown.fel_devastation.up||(cooldown.fel_devastation.remains<=(gcd.max*3)))\nactions.fs+=/run_action_list,name=meta_prep,if=(cooldown.metamorphosis.remains<=variable.meta_prep_time)&!cooldown.fel_devastation.up&!cooldown.fel_devastation.remains<10&!buff.demonsurge_soul_sunder.up&!buff.demonsurge_spirit_burst.up\nactions.fs+=/the_hunt\nactions.fs+=/felblade,if=((cooldown.sigil_of_spite.remains<execute_time||cooldown.soul_carver.remains<execute_time)&cooldown.fel_devastation.remains<(execute_time+gcd.max)&fury<50)\nactions.fs+=/soul_carver,if=(!talent.fiery_demise||talent.fiery_demise&dot.fiery_brand.ticking)&((!talent.spirit_bomb||variable.single_target)||(talent.spirit_bomb&!prev_gcd.1.sigil_of_spite&((soul_fragments+3<=5&fury>=40)||(soul_fragments=0&fury>=15))))\nactions.fs+=/sigil_of_spite,if=(!talent.spirit_bomb||variable.single_target)||cooldown.fel_devastation.remains>(gcd.max*3)&((fury>=75&talent.spirit_bomb&(variable.can_spbomb||variable.can_spbomb_soon||(buff.metamorphosis.up&(variable.can_spburst||variable.can_spburst_soon))))||soul_fragments<=1)\nactions.fs+=/soul_sunder,if=variable.single_target&!variable.dont_soul_cleave\nactions.fs+=/soul_cleave,if=variable.single_target&!variable.dont_soul_cleave\nactions.fs+=/spirit_burst,if=variable.can_spburst&!cooldown.fel_devastation.remains<(gcd.max*3)\nactions.fs+=/spirit_bomb,if=variable.can_spbomb&!cooldown.fel_devastation.remains<(gcd.max*3)\nactions.fs+=/soul_sunder,if=fury.deficit<25&!variable.dont_soul_cleave\nactions.fs+=/soul_cleave,if=fury.deficit<25&!variable.dont_soul_cleave\nactions.fs+=/felblade,if=(fury<40&((buff.metamorphosis.up&(variable.can_spburst||variable.can_spburst_soon))||(!buff.metamorphosis.up&(variable.can_spbomb||variable.can_spbomb_soon))))||fury<30\nactions.fs+=/fracture,if=!prev_gcd.1.fracture&talent.spirit_bomb&((fury<40&((buff.metamorphosis.up&(variable.can_spburst||variable.can_spburst_soon))||(!buff.metamorphosis.up&(variable.can_spbomb||variable.can_spbomb_soon))))||(buff.metamorphosis.up&variable.can_spburst_one_gcd)||(!buff.metamorphosis.up&variable.can_spbomb_one_gcd))\nactions.fs+=/soul_sunder,if=!variable.dont_soul_cleave\nactions.fs+=/soul_cleave,if=!variable.dont_soul_cleave\nactions.fs+=/felblade,if=fury.deficit>=40\nactions.fs+=/fracture\nactions.fs+=/throw_glaive\n\nactions.fs_execute+=/metamorphosis,use_off_gcd=1\nactions.fs_execute+=/the_hunt\nactions.fs_execute+=/sigil_of_flame\nactions.fs_execute+=/fiery_brand\nactions.fs_execute+=/sigil_of_spite\nactions.fs_execute+=/soul_carver\nactions.fs_execute+=/fel_devastation\n\nactions.meta_prep+=/metamorphosis,use_off_gcd=1,if=cooldown.sigil_of_flame.charges<1&gcd.remains=0\nactions.meta_prep+=/fiery_brand,if=talent.fiery_demise&((talent.down_in_flames&charges>=max_charges)||active_dot.fiery_brand=0)\nactions.meta_prep+=/potion,use_off_gcd=1,if=gcd.remains=0\nactions.meta_prep+=/sigil_of_flame\n\n## actions.metamorphosis+=/call_action_list,name=externals\nactions.metamorphosis+=/fel_desolation,if=buff.metamorphosis.remains<(gcd.max*3)\nactions.metamorphosis+=/felblade,if=fury<50&(buff.metamorphosis.remains<(gcd.max*3))&cooldown.fel_desolation.up\nactions.metamorphosis+=/fracture,if=fury<50&!cooldown.felblade.up&(buff.metamorphosis.remains<(gcd.max*3))&cooldown.fel_desolation.up\nactions.metamorphosis+=/sigil_of_doom,if=talent.illuminated_sigils&talent.cycle_of_binding&charges=max_charges\nactions.metamorphosis+=/immolation_aura\nactions.metamorphosis+=/sigil_of_doom,if=!talent.student_of_suffering&(talent.ascending_flame||(!talent.ascending_flame&!prev_gcd.1.sigil_of_doom&(dot.sigil_of_doom.remains<(4-talent.quickened_sigils))))\nactions.metamorphosis+=/sigil_of_doom,if=talent.student_of_suffering&!prev_gcd.1.sigil_of_flame&!prev_gcd.1.sigil_of_doom&(buff.student_of_suffering.remains<(4-talent.quickened_sigils))\nactions.metamorphosis+=/sigil_of_doom,if=buff.metamorphosis.remains<((2-talent.quickened_sigils)+(charges*gcd.max))\nactions.metamorphosis+=/fel_desolation,if=soul_fragments<=3&(prev_gcd.1.sigil_of_spite)\nactions.metamorphosis+=/felblade,if=((cooldown.sigil_of_spite.remains<execute_time||cooldown.soul_carver.remains<execute_time)&cooldown.fel_desolation.remains<(execute_time+gcd.max)&fury<50)\nactions.metamorphosis+=/soul_carver,if=(!talent.spirit_bomb||(variable.single_target&!buff.demonsurge_spirit_burst.up))||(((soul_fragments+3)<=6)&fury>=40&!prev_gcd.1.sigil_of_spite)\nactions.metamorphosis+=/sigil_of_spite,if=!talent.spirit_bomb||(fury>=80&(variable.can_spburst||variable.can_spburst_soon||soul_fragments<=(2-talent.soul_sigils.rank)))||(soul_fragments<=2&buff.demonsurge_fel_desolation.up&fury>=50)\nactions.metamorphosis+=/spirit_burst,if=variable.can_spburst&(buff.demonsurge_spirit_burst.up||talent.fiery_demise&dot.fiery_brand.ticking&soul_fragments>=4)\nactions.metamorphosis+=/sigil_of_spite,if=soul_fragments<=(2-talent.soul_sigils.rank)\nactions.metamorphosis+=/fel_desolation\nactions.metamorphosis+=/the_hunt\nactions.metamorphosis+=/fracture,if=talent.spirit_bomb&buff.demonsurge_spirit_burst.up&!(variable.can_spburst||variable.can_spburst_soon)\nactions.metamorphosis+=/soul_sunder,if=buff.demonsurge_soul_sunder.up||(variable.single_target&!variable.dont_soul_cleave)\nactions.metamorphosis+=/spirit_burst,if=variable.can_spburst&buff.metamorphosis.remains>(gcd.max*2)\nactions.metamorphosis+=/felblade,if=fury<40&(variable.can_spburst||variable.can_spburst_soon)\nactions.metamorphosis+=/fracture,if=variable.big_aoe&talent.spirit_bomb&(soul_fragments>=2&soul_fragments<=3)\nactions.metamorphosis+=/felblade,if=fury<30\nactions.metamorphosis+=/soul_sunder,if=!variable.dont_soul_cleave\nactions.metamorphosis+=/felblade\nactions.metamorphosis+=/fracture\n\nactions.rg_overflow+=/variable,name=rg_enhance_cleave,op=set,value=1\nactions.rg_overflow+=/reavers_glaive,if=(variable.rg_enhance_cleave&fury>=5||!variable.rg_enhance_cleave&fury>=30)&!buff.rending_strike.up&!buff.glaive_flurry.up\n\nactions.rg_sequence+=/call_action_list,name=rg_sequence_filler,if=(fury<30&(!variable.rg_enhance_cleave&buff.glaive_flurry.up&buff.rending_strike.up||variable.rg_enhance_cleave&!buff.rending_strike.up))||(action.fracture.charges_fractional<1&(variable.rg_enhance_cleave&buff.rending_strike.up&buff.glaive_flurry.up||!variable.rg_enhance_cleave&!buff.glaive_flurry.up))\nactions.rg_sequence+=/fracture,if=(variable.rg_enhance_cleave&buff.rending_strike.up&buff.glaive_flurry.up||!variable.rg_enhance_cleave&!buff.glaive_flurry.up)\nactions.rg_sequence+=/shear,if=(variable.rg_enhance_cleave&buff.rending_strike.up&buff.glaive_flurry.up||!variable.rg_enhance_cleave&!buff.glaive_flurry.up)\nactions.rg_sequence+=/soul_cleave,if=(!variable.rg_enhance_cleave&buff.glaive_flurry.up&buff.rending_strike.up||variable.rg_enhance_cleave&!buff.rending_strike.up)\n\nactions.rg_sequence_filler+=/felblade,if=fury.deficit>30\nactions.rg_sequence_filler+=/fracture,if=!buff.rending_strike.up\n## actions.rg_sequence_filler+=/wait,sec=0.1,if=action.fracture.charges_fractional>=0.8&(variable.rg_enhance_cleave&buff.rending_strike.up&buff.glaive_flurry.up||!variable.rg_enhance_cleave&!buff.glaive_flurry.up)\nactions.rg_sequence_filler+=/sigil_of_flame\nactions.rg_sequence_filler+=/sigil_of_spite\nactions.rg_sequence_filler+=/soul_carver\nactions.rg_sequence_filler+=/fel_devastation\nactions.rg_sequence_filler+=/throw_glaive",
				["author"] = "SimC",
			},
			["Frost Mage"] = {
				["source"] = "https://github.com/simulationcraft/simc/",
				["builtIn"] = true,
				["date"] = 20240908,
				["author"] = "SimC",
				["desc"] = "2024-09-01, 09-08: SimC update\n\n2024-08-22: SimC priority update\n\n2024-07-29: The War Within",
				["lists"] = {
					["cleave"] = {
						{
							["enabled"] = true,
							["criteria"] = "prev_gcd.1.flurry || prev_gcd.1.cone_of_cold",
							["action"] = "comet_storm",
						},
						{
							["enabled"] = true,
							["action"] = "flurry",
							["criteria"] = "cooldown_react & ( ( ( prev_gcd.1.frostbolt || prev_gcd.1.frostfire_bolt ) & buff.icicles.stack >= 3 ) || prev_gcd.1.glacial_spike || ( buff.icicles.stack >= 3 & buff.icicles.stack < 5 & charges_fractional = 2 ) )",
							["cycle_targets"] = 1,
						},
						{
							["enabled"] = true,
							["action"] = "ice_lance",
							["criteria"] = "talent.glacial_spike.enabled & debuff.winters_chill.down & buff.icicles.stack = 4 & buff.fingers_of_frost.up",
							["cycle_targets"] = 1,
						},
						{
							["enabled"] = true,
							["action"] = "ray_of_frost",
							["criteria"] = "remaining_winters_chill = 1",
							["cycle_targets"] = 1,
						},
						{
							["enabled"] = true,
							["criteria"] = "buff.icicles.stack = 5 & ( action.flurry.cooldown_react || remaining_winters_chill )",
							["action"] = "glacial_spike",
						},
						{
							["enabled"] = true,
							["criteria"] = "buff.fingers_of_frost.stack < 2 & ( ! talent.ray_of_frost.enabled || cooldown.ray_of_frost.remains )",
							["action"] = "frozen_orb",
						},
						{
							["enabled"] = true,
							["criteria"] = "talent.coldest_snap.enabled & cooldown.comet_storm.remains > 10 & cooldown.frozen_orb.remains > 10 & remaining_winters_chill = 0 & active_enemies >= 3",
							["action"] = "cone_of_cold",
						},
						{
							["enabled"] = true,
							["criteria"] = "cooldown.frozen_orb.remains > 10 & ( ! talent.comet_storm.enabled || cooldown.comet_storm.remains > 10 ) & ( ! talent.ray_of_frost.enabled || cooldown.ray_of_frost.remains > 10 ) || cooldown.icy_veins.remains < 20",
							["action"] = "shifting_power",
						},
						{
							["enabled"] = true,
							["criteria"] = "buff.icicles.stack = 5",
							["action"] = "glacial_spike",
						},
						{
							["enabled"] = true,
							["action"] = "ice_lance",
							["criteria"] = "buff.fingers_of_frost.up & ! prev_gcd.1.glacial_spike || remaining_winters_chill",
							["cycle_targets"] = 1,
						},
						{
							["enabled"] = true,
							["criteria"] = "active_enemies >= 4",
							["action"] = "ice_nova",
						},
						{
							["action"] = "frostbolt",
							["enabled"] = true,
						},
						{
							["enabled"] = true,
							["action"] = "call_action_list",
							["list_name"] = "movement",
						},
					},
					["st"] = {
						{
							["enabled"] = true,
							["criteria"] = "prev_gcd.1.flurry || prev_gcd.1.cone_of_cold",
							["action"] = "comet_storm",
						},
						{
							["enabled"] = true,
							["criteria"] = "cooldown_react & remaining_winters_chill = 0 & debuff.winters_chill.down & ( ( ( prev_gcd.1.frostbolt || prev_gcd.1.frostfire_bolt ) & buff.icicles.stack >= 3 || ( prev_gcd.1.frostbolt || prev_gcd.1.frostfire_bolt ) & buff.brain_freeze.up ) || prev_gcd.1.glacial_spike || talent.glacial_spike.enabled & buff.icicles.stack = 4 & ! buff.fingers_of_frost.up ) || buff.excess_frost.up & buff.frostfire_empowerment.up",
							["action"] = "flurry",
						},
						{
							["enabled"] = true,
							["criteria"] = "talent.glacial_spike.enabled & debuff.winters_chill.down & buff.icicles.stack = 4 & buff.fingers_of_frost.up",
							["action"] = "ice_lance",
						},
						{
							["enabled"] = true,
							["criteria"] = "remaining_winters_chill = 1",
							["action"] = "ray_of_frost",
						},
						{
							["enabled"] = true,
							["criteria"] = "buff.icicles.stack = 5 & ( action.flurry.cooldown_react || remaining_winters_chill )",
							["action"] = "glacial_spike",
						},
						{
							["enabled"] = true,
							["criteria"] = "buff.fingers_of_frost.stack < 2 & ( ! talent.ray_of_frost.enabled || cooldown.ray_of_frost.remains )",
							["action"] = "frozen_orb",
						},
						{
							["enabled"] = true,
							["criteria"] = "talent.coldest_snap.enabled & cooldown.comet_storm.remains > 10 & cooldown.frozen_orb.remains > 10 & remaining_winters_chill = 0 & active_enemies >= 3",
							["action"] = "cone_of_cold",
						},
						{
							["enabled"] = true,
							["criteria"] = "active_enemies >= 2 & talent.ice_caller.enabled & talent.freezing_rain.enabled & ( ! talent.splintering_cold.enabled & ! talent.ray_of_frost.enabled || buff.freezing_rain.up || active_enemies >= 3 )",
							["action"] = "blizzard",
						},
						{
							["enabled"] = true,
							["criteria"] = "( buff.icy_veins.down || ! talent.deaths_chill.enabled ) & cooldown.frozen_orb.remains > 10 & ( ! talent.comet_storm.enabled || cooldown.comet_storm.remains > 10 ) & ( ! talent.ray_of_frost.enabled || cooldown.ray_of_frost.remains > 10 ) || cooldown.icy_veins.remains < 20",
							["action"] = "shifting_power",
						},
						{
							["enabled"] = true,
							["criteria"] = "buff.icicles.stack = 5",
							["action"] = "glacial_spike",
						},
						{
							["enabled"] = true,
							["criteria"] = "buff.fingers_of_frost.up & ! prev_gcd.1.glacial_spike || remaining_winters_chill",
							["action"] = "ice_lance",
						},
						{
							["enabled"] = true,
							["criteria"] = "active_enemies >= 4",
							["action"] = "ice_nova",
						},
						{
							["action"] = "frostbolt",
							["enabled"] = true,
						},
						{
							["enabled"] = true,
							["action"] = "call_action_list",
							["list_name"] = "movement",
						},
					},
					["ss_st"] = {
						{
							["enabled"] = true,
							["criteria"] = "cooldown_react & remaining_winters_chill = 0 & debuff.winters_chill.down & ( prev_gcd.1.frostbolt || prev_gcd.1.glacial_spike )",
							["action"] = "flurry",
						},
						{
							["enabled"] = true,
							["criteria"] = "buff.icy_veins.up & debuff.winters_chill.stack = 2",
							["action"] = "ice_lance",
						},
						{
							["enabled"] = true,
							["criteria"] = "buff.icy_veins.down & buff.freezing_winds.down & remaining_winters_chill = 1",
							["action"] = "ray_of_frost",
						},
						{
							["action"] = "frozen_orb",
							["enabled"] = true,
						},
						{
							["action"] = "shifting_power",
							["enabled"] = true,
						},
						{
							["enabled"] = true,
							["criteria"] = "remaining_winters_chill || buff.fingers_of_frost.up",
							["action"] = "ice_lance",
						},
						{
							["enabled"] = true,
							["criteria"] = "prev_gcd.1.flurry || prev_gcd.1.cone_of_cold || action.splinterstorm.in_flight",
							["action"] = "comet_storm",
						},
						{
							["enabled"] = true,
							["criteria"] = "buff.icicles.stack = 5",
							["action"] = "glacial_spike",
						},
						{
							["enabled"] = true,
							["criteria"] = "cooldown_react & buff.icy_veins.up",
							["action"] = "flurry",
						},
						{
							["action"] = "frostbolt",
							["enabled"] = true,
						},
						{
							["enabled"] = true,
							["action"] = "call_action_list",
							["list_name"] = "movement",
						},
					},
					["default"] = {
						{
							["action"] = "counterspell",
							["enabled"] = true,
						},
						{
							["enabled"] = true,
							["action"] = "call_action_list",
							["list_name"] = "cds",
						},
						{
							["enabled"] = true,
							["action"] = "run_action_list",
							["strict"] = 1,
							["criteria"] = "active_enemies >= 7 & ! set_bonus.tier30_2pc || active_enemies >= 4 & talent.ice_caller.enabled",
							["list_name"] = "aoe",
						},
						{
							["enabled"] = true,
							["action"] = "run_action_list",
							["strict"] = 1,
							["criteria"] = "active_enemies >= 2 & active_enemies <= 3 & talent.splinterstorm.enabled",
							["list_name"] = "ss_cleave",
						},
						{
							["enabled"] = true,
							["action"] = "run_action_list",
							["strict"] = 1,
							["criteria"] = "active_enemies >= 2 & active_enemies <= 3",
							["list_name"] = "cleave",
						},
						{
							["enabled"] = true,
							["action"] = "run_action_list",
							["strict"] = 1,
							["criteria"] = "talent.splinterstorm.enabled",
							["list_name"] = "ss_st",
						},
						{
							["enabled"] = true,
							["action"] = "run_action_list",
							["list_name"] = "st",
						},
					},
					["ss_cleave"] = {
						{
							["enabled"] = true,
							["action"] = "flurry",
							["criteria"] = "cooldown_react & remaining_winters_chill = 0 & debuff.winters_chill.down & ( prev_gcd.1.frostbolt || prev_gcd.1.glacial_spike )",
							["cycle_targets"] = 1,
						},
						{
							["enabled"] = true,
							["action"] = "ice_lance",
							["criteria"] = "buff.icy_veins.up & debuff.winters_chill.stack = 2",
							["cycle_targets"] = 1,
						},
						{
							["enabled"] = true,
							["criteria"] = "buff.icy_veins.down & buff.freezing_winds.down & remaining_winters_chill = 1",
							["action"] = "ray_of_frost",
						},
						{
							["action"] = "frozen_orb",
							["enabled"] = true,
						},
						{
							["action"] = "shifting_power",
							["enabled"] = true,
						},
						{
							["enabled"] = true,
							["action"] = "ice_lance",
							["criteria"] = "remaining_winters_chill || buff.fingers_of_frost.react",
							["cycle_targets"] = 1,
						},
						{
							["enabled"] = true,
							["criteria"] = "prev_gcd.1.flurry || prev_gcd.1.cone_of_cold || action.splinterstorm.in_flight",
							["action"] = "comet_storm",
						},
						{
							["enabled"] = true,
							["criteria"] = "buff.icicles.react = 5",
							["action"] = "glacial_spike",
						},
						{
							["enabled"] = true,
							["action"] = "flurry",
							["criteria"] = "cooldown_react & buff.icy_veins.up",
							["cycle_targets"] = 1,
						},
						{
							["action"] = "frostbolt",
							["enabled"] = true,
						},
						{
							["enabled"] = true,
							["action"] = "call_action_list",
							["list_name"] = "movement",
						},
					},
					["aoe"] = {
						{
							["enabled"] = true,
							["criteria"] = "talent.coldest_snap.enabled & ( prev_gcd.1.comet_storm || prev_gcd.1.frozen_orb & ! talent.comet_storm.enabled )",
							["action"] = "cone_of_cold",
						},
						{
							["enabled"] = true,
							["criteria"] = "( ! prev_gcd.1.cone_of_cold || ! talent.isothermic_core.enabled ) & ( ! prev_gcd.1.glacial_spike || ! freezable )",
							["action"] = "frozen_orb",
						},
						{
							["enabled"] = true,
							["criteria"] = "! prev_gcd.1.glacial_spike || ! freezable",
							["action"] = "blizzard",
						},
						{
							["enabled"] = true,
							["criteria"] = "buff.icy_veins.up & ( buff.deaths_chill.stack < 9 || buff.deaths_chill.stack = 9 & ! action.frostbolt.in_flight ) & buff.icy_veins.remains > 8 & talent.deaths_chill.enabled",
							["action"] = "frostbolt",
						},
						{
							["enabled"] = true,
							["criteria"] = "! prev_gcd.1.glacial_spike & ( ! talent.coldest_snap.enabled || cooldown.cone_of_cold.ready & cooldown.frozen_orb.remains > 25 || ( cooldown.cone_of_cold.remains > 10 & talent.frostfire_bolt.enabled || cooldown.cone_of_cold.remains > 20 & ! talent.frostfire_bolt.enabled ) )",
							["action"] = "comet_storm",
						},
						{
							["enabled"] = true,
							["criteria"] = "freezable & debuff.frozen.down & ( ! talent.glacial_spike.enabled || prev_gcd.1.glacial_spike )",
							["action"] = "freeze",
						},
						{
							["enabled"] = true,
							["criteria"] = "freezable & ! prev_off_gcd.freeze & ( prev_gcd.1.glacial_spike )",
							["action"] = "ice_nova",
						},
						{
							["enabled"] = true,
							["criteria"] = "freezable & ! prev_off_gcd.freeze & ( prev_gcd.1.glacial_spike & ! remaining_winters_chill )",
							["action"] = "frost_nova",
						},
						{
							["enabled"] = true,
							["criteria"] = "cooldown.comet_storm.remains > 10",
							["action"] = "shifting_power",
						},
						{
							["enabled"] = true,
							["criteria"] = "buff.frostfire_empowerment.up & ! buff.excess_frost.up & ! buff.excess_fire.up",
							["action"] = "frostbolt",
						},
						{
							["enabled"] = true,
							["criteria"] = "cooldown_react & ! remaining_winters_chill & ( buff.brain_freeze.up & ! talent.excess_frost.enabled || buff.excess_frost.up )",
							["action"] = "flurry",
						},
						{
							["enabled"] = true,
							["criteria"] = "buff.fingers_of_frost.up || debuff.frozen.remains > travel_time || remaining_winters_chill",
							["action"] = "ice_lance",
						},
						{
							["enabled"] = true,
							["criteria"] = "cooldown_react & ! remaining_winters_chill",
							["action"] = "flurry",
						},
						{
							["enabled"] = true,
							["criteria"] = "active_enemies >= 4 & ( ! talent.glacial_spike.enabled || ! freezable ) & ! talent.frostfire_bolt.enabled",
							["action"] = "ice_nova",
						},
						{
							["enabled"] = true,
							["criteria"] = "target.within10 & ! talent.coldest_snap.enabled & active_enemies >= 7",
							["action"] = "cone_of_cold",
						},
						{
							["action"] = "frostbolt",
							["enabled"] = true,
						},
						{
							["enabled"] = true,
							["action"] = "call_action_list",
							["list_name"] = "movement",
						},
					},
					["cds"] = {
						{
							["enabled"] = true,
							["action"] = "spymasters_web",
							["criteria"] = "( buff.icy_veins.remains > 19 & fight_remains < 100 ) || boss & fight_remains < 25",
							["name"] = "spymasters_web",
						},
						{
							["enabled"] = true,
							["action"] = "spoils_of_neltharus",
							["criteria"] = "buff.spoils_of_neltharus_mastery.up || buff.spoils_of_neltharus_haste.up & buff.bloodlust.down || buff.spoils_of_neltharus_vers.up & ( buff.bloodlust.up )",
							["name"] = "spoils_of_neltharus",
						},
						{
							["enabled"] = true,
							["criteria"] = "prev_off_gcd.icy_veins || boss & fight_remains < 60",
							["action"] = "potion",
						},
						{
							["enabled"] = true,
							["action"] = "dreambinder_loom_of_the_great_cycle",
							["criteria"] = "( equipped.nymues_unraveling_spindle & prev_gcd.1.nymues_unraveling_spindle ) || fight_remains > 2",
							["name"] = "dreambinder_loom_of_the_great_cycle",
						},
						{
							["enabled"] = true,
							["action"] = "belorrelos_the_suncaller",
							["criteria"] = "time > 5 & ! prev_gcd.1.flurry",
							["name"] = "belorrelos_the_suncaller",
						},
						{
							["enabled"] = true,
							["criteria"] = "time < 0.1 & active_enemies <= 2",
							["action"] = "flurry",
						},
						{
							["action"] = "icy_veins",
							["enabled"] = true,
						},
						{
							["action"] = "use_items",
							["enabled"] = true,
						},
						{
							["action"] = "blood_fury",
							["enabled"] = true,
						},
						{
							["action"] = "berserking",
							["enabled"] = true,
						},
						{
							["action"] = "lights_judgment",
							["enabled"] = true,
						},
						{
							["action"] = "fireblood",
							["enabled"] = true,
						},
						{
							["action"] = "ancestral_call",
							["enabled"] = true,
						},
					},
					["precombat"] = {
						{
							["action"] = "arcane_intellect",
							["enabled"] = true,
						},
						{
							["action"] = "mirror_image",
							["enabled"] = true,
						},
						{
							["enabled"] = true,
							["criteria"] = "active_enemies >= 2 & talent.ice_caller.enabled & ! talent.fractured_frost.enabled || active_enemies >= 3",
							["action"] = "blizzard",
						},
						{
							["enabled"] = true,
							["criteria"] = "active_enemies <= 2",
							["action"] = "frostbolt",
						},
					},
					["movement"] = {
						{
							["enabled"] = true,
							["criteria"] = "movement.distance > 10",
							["action"] = "blink",
						},
						{
							["enabled"] = true,
							["criteria"] = "buff.ice_floes.down",
							["action"] = "ice_floes",
						},
						{
							["action"] = "ice_nova",
							["enabled"] = true,
						},
						{
							["enabled"] = true,
							["criteria"] = "target.within10 & ! talent.coldest_snap.enabled & active_enemies >= 2",
							["action"] = "cone_of_cold",
						},
						{
							["enabled"] = true,
							["criteria"] = "mana.pct > 30 & active_enemies >= 2",
							["action"] = "arcane_explosion",
						},
						{
							["action"] = "fire_blast",
							["enabled"] = true,
						},
						{
							["action"] = "ice_lance",
							["enabled"] = true,
						},
					},
				},
				["version"] = 20240908,
				["warnings"] = "The import for 'cleave' required some automated changes.\nLine 3: Converted 'talent.glacial_spike' to 'talent.glacial_spike.enabled' (1x).\nLine 6: Converted 'talent.ray_of_frost' to 'talent.ray_of_frost.enabled' (1x).\nLine 7: Converted 'talent.coldest_snap' to 'talent.coldest_snap.enabled' (1x).\nLine 8: Converted 'talent.comet_storm' to 'talent.comet_storm.enabled' (1x).\nLine 8: Converted 'talent.ray_of_frost' to 'talent.ray_of_frost.enabled' (1x).\n\nThe import for 'st' required some automated changes.\nLine 2: Converted 'talent.glacial_spike' to 'talent.glacial_spike.enabled' (1x).\nLine 3: Converted 'talent.glacial_spike' to 'talent.glacial_spike.enabled' (1x).\nLine 6: Converted 'talent.ray_of_frost' to 'talent.ray_of_frost.enabled' (1x).\nLine 7: Converted 'talent.coldest_snap' to 'talent.coldest_snap.enabled' (1x).\nLine 8: Converted 'talent.ice_caller' to 'talent.ice_caller.enabled' (1x).\nLine 8: Converted 'talent.freezing_rain' to 'talent.freezing_rain.enabled' (1x).\nLine 8: Converted 'talent.splintering_cold' to 'talent.splintering_cold.enabled' (1x).\nLine 8: Converted 'talent.ray_of_frost' to 'talent.ray_of_frost.enabled' (1x).\nLine 9: Converted 'talent.deaths_chill' to 'talent.deaths_chill.enabled' (1x).\nLine 9: Converted 'talent.comet_storm' to 'talent.comet_storm.enabled' (1x).\nLine 9: Converted 'talent.ray_of_frost' to 'talent.ray_of_frost.enabled' (1x).\n\nThe import for 'default' required some automated changes.\nLine 3: Converted 'talent.ice_caller' to 'talent.ice_caller.enabled' (1x).\nLine 4: Converted 'talent.splinterstorm' to 'talent.splinterstorm.enabled' (1x).\nLine 6: Converted 'talent.splinterstorm' to 'talent.splinterstorm.enabled' (1x).\n\nThe import for 'aoe' required some automated changes.\nLine 1: Converted 'talent.coldest_snap' to 'talent.coldest_snap.enabled' (1x).\nLine 1: Converted 'talent.comet_storm' to 'talent.comet_storm.enabled' (1x).\nLine 2: Converted 'talent.isothermic_core' to 'talent.isothermic_core.enabled' (1x).\nLine 4: Converted 'talent.deaths_chill' to 'talent.deaths_chill.enabled' (1x).\nLine 5: Converted 'talent.coldest_snap' to 'talent.coldest_snap.enabled' (1x).\nLine 5: Converted 'talent.frostfire_bolt' to 'talent.frostfire_bolt.enabled' (1x).\nLine 5: Converted 'talent.frostfire_bolt' to 'talent.frostfire_bolt.enabled' (1x).\nLine 6: Converted 'talent.glacial_spike' to 'talent.glacial_spike.enabled' (1x).\nLine 11: Converted 'talent.excess_frost' to 'talent.excess_frost.enabled' (1x).\nLine 14: Converted 'talent.glacial_spike' to 'talent.glacial_spike.enabled' (1x).\nLine 14: Converted 'talent.frostfire_bolt' to 'talent.frostfire_bolt.enabled' (1x).\nLine 15: Converted 'talent.coldest_snap' to 'talent.coldest_snap.enabled' (1x).\n\nThe import for 'movement' required some automated changes.\nLine 4: Converted 'talent.coldest_snap' to 'talent.coldest_snap.enabled' (1x).\n\nThe import for 'precombat' required some automated changes.\nLine 3: Converted 'talent.ice_caller' to 'talent.ice_caller.enabled' (1x).\nLine 3: Converted 'talent.fractured_frost' to 'talent.fractured_frost.enabled' (1x).\n\nImported 9 action lists.\n",
				["spec"] = 64,
				["profile"] = "actions.precombat+=/arcane_intellect\nactions.precombat+=/mirror_image\nactions.precombat+=/blizzard,if=active_enemies>=2&talent.ice_caller&!talent.fractured_frost||active_enemies>=3\nactions.precombat+=/frostbolt,if=active_enemies<=2\n\nactions+=/counterspell\nactions+=/call_action_list,name=cds\nactions+=/run_action_list,name=aoe,strict=1,if=active_enemies>=7&!set_bonus.tier30_2pc||active_enemies>=4&talent.ice_caller\nactions+=/run_action_list,name=ss_cleave,strict=1,if=active_enemies>=2&active_enemies<=3&talent.splinterstorm\nactions+=/run_action_list,name=cleave,strict=1,if=active_enemies>=2&active_enemies<=3\nactions+=/run_action_list,name=ss_st,strict=1,if=talent.splinterstorm\nactions+=/run_action_list,name=st\n\nactions.aoe+=/cone_of_cold,if=talent.coldest_snap&(prev_gcd.1.comet_storm||prev_gcd.1.frozen_orb&!talent.comet_storm)\nactions.aoe+=/frozen_orb,if=(!prev_gcd.1.cone_of_cold||!talent.isothermic_core)&(!prev_gcd.1.glacial_spike||!freezable)\nactions.aoe+=/blizzard,if=!prev_gcd.1.glacial_spike||!freezable\nactions.aoe+=/frostbolt,if=buff.icy_veins.up&(buff.deaths_chill.stack<9||buff.deaths_chill.stack=9&!action.frostbolt.in_flight)&buff.icy_veins.remains>8&talent.deaths_chill\nactions.aoe+=/comet_storm,if=!prev_gcd.1.glacial_spike&(!talent.coldest_snap||cooldown.cone_of_cold.ready&cooldown.frozen_orb.remains>25||(cooldown.cone_of_cold.remains>10&talent.frostfire_bolt||cooldown.cone_of_cold.remains>20&!talent.frostfire_bolt))\nactions.aoe+=/freeze,if=freezable&debuff.frozen.down&(!talent.glacial_spike||prev_gcd.1.glacial_spike)\nactions.aoe+=/ice_nova,if=freezable&!prev_off_gcd.freeze&(prev_gcd.1.glacial_spike)\nactions.aoe+=/frost_nova,if=freezable&!prev_off_gcd.freeze&(prev_gcd.1.glacial_spike&!remaining_winters_chill)\nactions.aoe+=/shifting_power,if=cooldown.comet_storm.remains>10\nactions.aoe+=/frostbolt,if=buff.frostfire_empowerment.up&!buff.excess_frost.up&!buff.excess_fire.up\nactions.aoe+=/flurry,if=cooldown_react&!remaining_winters_chill&(buff.brain_freeze.up&!talent.excess_frost||buff.excess_frost.up)\nactions.aoe+=/ice_lance,if=buff.fingers_of_frost.up||debuff.frozen.remains>travel_time||remaining_winters_chill\nactions.aoe+=/flurry,if=cooldown_react&!remaining_winters_chill\nactions.aoe+=/ice_nova,if=active_enemies>=4&(!talent.glacial_spike||!freezable)&!talent.frostfire_bolt\nactions.aoe+=/cone_of_cold,if=target.within10&!talent.coldest_snap&active_enemies>=7\nactions.aoe+=/frostbolt\nactions.aoe+=/call_action_list,name=movement\n\n## actions.cds+=/use_item,name=imperfect_ascendancy_serum,if=buff.icy_veins.remains>19||boss&fight_remains<25\nactions.cds+=/use_item,name=spymasters_web,if=(buff.icy_veins.remains>19&fight_remains<100)||boss&fight_remains<25\nactions.cds+=/use_item,name=spoils_of_neltharus,if=buff.spoils_of_neltharus_mastery.up||buff.spoils_of_neltharus_haste.up&buff.bloodlust.down||buff.spoils_of_neltharus_vers.up&(buff.bloodlust.up)\nactions.cds+=/potion,if=prev_off_gcd.icy_veins||boss&fight_remains<60\nactions.cds+=/use_item,name=dreambinder_loom_of_the_great_cycle,if=(equipped.nymues_unraveling_spindle&prev_gcd.1.nymues_unraveling_spindle)||fight_remains>2\nactions.cds+=/use_item,name=belorrelos_the_suncaller,if=time>5&!prev_gcd.1.flurry\nactions.cds+=/flurry,if=time<0.1&active_enemies<=2\nactions.cds+=/icy_veins\nactions.cds+=/use_items\n## actions.cds+=/invoke_external_buff,name=power_infusion,if=buff.power_infusion.down\n## actions.cds+=/invoke_external_buff,name=blessing_of_summer,if=buff.blessing_of_summer.down\nactions.cds+=/blood_fury\nactions.cds+=/berserking\nactions.cds+=/lights_judgment\nactions.cds+=/fireblood\nactions.cds+=/ancestral_call\n\nactions.ss_cleave+=/flurry,cycle_targets=1,if=cooldown_react&remaining_winters_chill=0&debuff.winters_chill.down&(prev_gcd.1.frostbolt||prev_gcd.1.glacial_spike)\nactions.ss_cleave+=/ice_lance,cycle_targets=1,if=buff.icy_veins.up&debuff.winters_chill.stack=2\nactions.ss_cleave+=/ray_of_frost,if=buff.icy_veins.down&buff.freezing_winds.down&remaining_winters_chill=1\nactions.ss_cleave+=/frozen_orb\nactions.ss_cleave+=/shifting_power\nactions.ss_cleave+=/ice_lance,cycle_targets=1,if=remaining_winters_chill||buff.fingers_of_frost.react\nactions.ss_cleave+=/comet_storm,if=prev_gcd.1.flurry||prev_gcd.1.cone_of_cold||action.splinterstorm.in_flight\nactions.ss_cleave+=/glacial_spike,if=buff.icicles.react=5\nactions.ss_cleave+=/flurry,cycle_targets=1,if=cooldown_react&buff.icy_veins.up\nactions.ss_cleave+=/frostbolt\nactions.ss_cleave+=/call_action_list,name=movement\n\nactions.cleave+=/comet_storm,if=prev_gcd.1.flurry||prev_gcd.1.cone_of_cold\nactions.cleave+=/flurry,cycle_targets=1,if=cooldown_react&(((prev_gcd.1.frostbolt||prev_gcd.1.frostfire_bolt)&buff.icicles.stack>=3)||prev_gcd.1.glacial_spike||(buff.icicles.stack>=3&buff.icicles.stack<5&charges_fractional=2))\nactions.cleave+=/ice_lance,cycle_targets=1,if=talent.glacial_spike&debuff.winters_chill.down&buff.icicles.stack=4&buff.fingers_of_frost.up\nactions.cleave+=/ray_of_frost,cycle_targets=1,if=remaining_winters_chill=1\nactions.cleave+=/glacial_spike,if=buff.icicles.stack=5&(action.flurry.cooldown_react||remaining_winters_chill)\nactions.cleave+=/frozen_orb,if=buff.fingers_of_frost.stack<2&(!talent.ray_of_frost||cooldown.ray_of_frost.remains)\nactions.cleave+=/cone_of_cold,if=talent.coldest_snap&cooldown.comet_storm.remains>10&cooldown.frozen_orb.remains>10&remaining_winters_chill=0&active_enemies>=3\nactions.cleave+=/shifting_power,if=cooldown.frozen_orb.remains>10&(!talent.comet_storm||cooldown.comet_storm.remains>10)&(!talent.ray_of_frost||cooldown.ray_of_frost.remains>10)||cooldown.icy_veins.remains<20\nactions.cleave+=/glacial_spike,if=buff.icicles.stack=5\nactions.cleave+=/ice_lance,cycle_targets=1,if=buff.fingers_of_frost.up&!prev_gcd.1.glacial_spike||remaining_winters_chill\nactions.cleave+=/ice_nova,if=active_enemies>=4\nactions.cleave+=/frostbolt\nactions.cleave+=/call_action_list,name=movement\n\nactions.movement+=/any_blink,if=movement.distance>10\nactions.movement+=/ice_floes,if=buff.ice_floes.down\nactions.movement+=/ice_nova\nactions.movement+=/cone_of_cold,if=target.within10&!talent.coldest_snap&active_enemies>=2\nactions.movement+=/arcane_explosion,if=mana.pct>30&active_enemies>=2\nactions.movement+=/fire_blast\nactions.movement+=/ice_lance\n\nactions.ss_st+=/flurry,if=cooldown_react&remaining_winters_chill=0&debuff.winters_chill.down&(prev_gcd.1.frostbolt||prev_gcd.1.glacial_spike)\nactions.ss_st+=/ice_lance,if=buff.icy_veins.up&debuff.winters_chill.stack=2\nactions.ss_st+=/ray_of_frost,if=buff.icy_veins.down&buff.freezing_winds.down&remaining_winters_chill=1\nactions.ss_st+=/frozen_orb\nactions.ss_st+=/shifting_power\nactions.ss_st+=/ice_lance,if=remaining_winters_chill||buff.fingers_of_frost.up\nactions.ss_st+=/comet_storm,if=prev_gcd.1.flurry||prev_gcd.1.cone_of_cold||action.splinterstorm.in_flight\nactions.ss_st+=/glacial_spike,if=buff.icicles.stack=5\nactions.ss_st+=/flurry,if=cooldown_react&buff.icy_veins.up\nactions.ss_st+=/frostbolt\nactions.ss_st+=/call_action_list,name=movement\n\nactions.st+=/comet_storm,if=prev_gcd.1.flurry||prev_gcd.1.cone_of_cold\nactions.st+=/flurry,if=cooldown_react&remaining_winters_chill=0&debuff.winters_chill.down&(((prev_gcd.1.frostbolt||prev_gcd.1.frostfire_bolt)&buff.icicles.stack>=3||(prev_gcd.1.frostbolt||prev_gcd.1.frostfire_bolt)&buff.brain_freeze.up)||prev_gcd.1.glacial_spike||talent.glacial_spike&buff.icicles.stack=4&!buff.fingers_of_frost.up)||buff.excess_frost.up&buff.frostfire_empowerment.up\nactions.st+=/ice_lance,if=talent.glacial_spike&debuff.winters_chill.down&buff.icicles.stack=4&buff.fingers_of_frost.up\nactions.st+=/ray_of_frost,if=remaining_winters_chill=1\nactions.st+=/glacial_spike,if=buff.icicles.stack=5&(action.flurry.cooldown_react||remaining_winters_chill)\nactions.st+=/frozen_orb,if=buff.fingers_of_frost.stack<2&(!talent.ray_of_frost||cooldown.ray_of_frost.remains)\nactions.st+=/cone_of_cold,if=talent.coldest_snap&cooldown.comet_storm.remains>10&cooldown.frozen_orb.remains>10&remaining_winters_chill=0&active_enemies>=3\nactions.st+=/blizzard,if=active_enemies>=2&talent.ice_caller&talent.freezing_rain&(!talent.splintering_cold&!talent.ray_of_frost||buff.freezing_rain.up||active_enemies>=3)\nactions.st+=/shifting_power,if=(buff.icy_veins.down||!talent.deaths_chill)&cooldown.frozen_orb.remains>10&(!talent.comet_storm||cooldown.comet_storm.remains>10)&(!talent.ray_of_frost||cooldown.ray_of_frost.remains>10)||cooldown.icy_veins.remains<20\nactions.st+=/glacial_spike,if=buff.icicles.stack=5\nactions.st+=/ice_lance,if=buff.fingers_of_frost.up&!prev_gcd.1.glacial_spike||remaining_winters_chill\nactions.st+=/ice_nova,if=active_enemies>=4\nactions.st+=/frostbolt\nactions.st+=/call_action_list,name=movement",
			},
			["Fire"] = {
				["source"] = "https://github.com/simulationcraft/simc/",
				["builtIn"] = true,
				["date"] = 20240910,
				["author"] = "SimC",
				["desc"] = "2024-08-15, 09-09, 09-10: SimC update\n\n2024-07-29: The War Within",
				["lists"] = {
					["combustion_timing"] = {
						{
							["enabled"] = true,
							["op"] = "set",
							["description"] = "Helper variable that contains the actual estimated time that the next Combustion will be ready.",
							["action"] = "variable",
							["value"] = "cooldown.combustion.remains_expected",
							["use_off_gcd"] = 1,
							["var_name"] = "combustion_ready_time",
							["use_while_casting"] = 1,
						},
						{
							["enabled"] = true,
							["op"] = "set",
							["description"] = "The cast time of the spell that will be precast into Combustion.",
							["action"] = "variable",
							["value"] = "action.fireball.cast_time * ( active_enemies < variable.combustion_flamestrike ) + action.flamestrike.cast_time * ( active_enemies >= variable.combustion_flamestrike ) - variable.combustion_cast_remains",
							["use_off_gcd"] = 1,
							["var_name"] = "combustion_precast_time",
							["use_while_casting"] = 1,
						},
						{
							["enabled"] = true,
							["op"] = "set",
							["action"] = "variable",
							["use_off_gcd"] = 1,
							["value"] = "variable.combustion_ready_time",
							["var_name"] = "time_to_combustion",
							["use_while_casting"] = 1,
						},
						{
							["enabled"] = true,
							["use_while_casting"] = 1,
							["action"] = "variable",
							["op"] = "max",
							["criteria"] = "talent.firestarter.enabled & ! variable.firestarter_combustion",
							["use_off_gcd"] = 1,
							["value"] = "firestarter.remains",
							["description"] = "Delay Combustion for after Firestarter unless variable.firestarter_combustion is set.",
							["var_name"] = "time_to_combustion",
						},
						{
							["enabled"] = true,
							["use_while_casting"] = 1,
							["action"] = "variable",
							["op"] = "max",
							["criteria"] = "talent.sun_kings_blessing.enabled & firestarter.active & buff.fury_of_the_sun_king.down",
							["use_off_gcd"] = 1,
							["value"] = "( buff.sun_kings_blessing.max_stack - buff.sun_kings_blessing.stack ) * ( 3 * gcd.max )",
							["description"] = "Delay Combustion until SKB is ready during Firestarter",
							["var_name"] = "time_to_combustion",
						},
						{
							["enabled"] = true,
							["use_while_casting"] = 1,
							["action"] = "variable",
							["op"] = "max",
							["criteria"] = "equipped.gladiators_badge & cooldown.gladiators_badge.remains - 20 < variable.time_to_combustion",
							["use_off_gcd"] = 1,
							["value"] = "cooldown.gladiators_badge.remains",
							["description"] = "Delay Combustion for Gladiators Badge, unless it would be delayed longer than 20 seconds.",
							["var_name"] = "time_to_combustion",
						},
						{
							["enabled"] = true,
							["op"] = "max",
							["action"] = "variable",
							["use_off_gcd"] = 1,
							["var_name"] = "time_to_combustion",
							["description"] = "Delay Combustion until Combustion expires if it's up.",
							["use_while_casting"] = 1,
							["value"] = "buff.combustion.remains",
						},
						{
							["enabled"] = true,
							["use_while_casting"] = 1,
							["action"] = "variable",
							["op"] = "max",
							["criteria"] = "raid_event.adds.exists & raid_event.adds.count >= 3 & raid_event.adds.duration > 15",
							["use_off_gcd"] = 1,
							["value"] = "raid_event.adds.in",
							["description"] = "Raid Events: Delay Combustion for add spawns of 3 or more adds that will last longer than 15 seconds. These values aren't necessarily optimal in all cases.",
							["var_name"] = "time_to_combustion",
						},
						{
							["enabled"] = true,
							["use_while_casting"] = 1,
							["description"] = "Raid Events: Always use Combustion with vulnerability raid events, override any delays listed above to make sure it gets used here.",
							["op"] = "set",
							["criteria"] = "raid_event.vulnerable.exists & variable.combustion_ready_time < raid_event.vulnerable.in",
							["value"] = "raid_event.vulnerable.in * ! raid_event.vulnerable.up",
							["use_off_gcd"] = 1,
							["action"] = "variable",
							["var_name"] = "time_to_combustion",
						},
						{
							["enabled"] = true,
							["use_while_casting"] = 1,
							["description"] = "Use the next Combustion on cooldown if it would not be expected to delay the scheduled one or the scheduled one would happen less than 20 seconds before the fight ends.",
							["op"] = "set",
							["criteria"] = "variable.combustion_ready_time + cooldown.combustion.duration * ( 1 - ( 0.4 + 0.2 * talent.firestarter.enabled ) * talent.kindling.enabled ) <= variable.time_to_combustion || variable.time_to_combustion > fight_remains - 20",
							["value"] = "variable.combustion_ready_time",
							["use_off_gcd"] = 1,
							["action"] = "variable",
							["var_name"] = "time_to_combustion",
						},
					},
					["combustion_phase"] = {
						{
							["enabled"] = true,
							["action"] = "call_action_list",
							["description"] = "Other cooldowns that should be used with Combustion should only be used with an actual Combustion cast and not with a Sun King's Blessing proc.",
							["criteria"] = "buff.combustion.remains > variable.skb_duration || boss & fight_remains < 20",
							["list_name"] = "combustion_cooldowns",
						},
						{
							["enabled"] = true,
							["action"] = "call_action_list",
							["list_name"] = "active_talents",
						},
						{
							["enabled"] = true,
							["action"] = "flamestrike",
							["description"] = "If Combustion is down, precast something before activating it.",
							["criteria"] = "buff.combustion.down & buff.fury_of_the_sun_king.up & buff.fury_of_the_sun_king.remains > cast_time & buff.fury_of_the_sun_king.expiration_delay_remains = 0 & cooldown.combustion.remains < cast_time & active_enemies >= variable.skb_flamestrike",
						},
						{
							["enabled"] = true,
							["criteria"] = "buff.combustion.down & buff.fury_of_the_sun_king.up & buff.fury_of_the_sun_king.remains > cast_time & ( buff.fury_of_the_sun_king.expiration_delay_remains = 0 || buff.flame_accelerant.up )",
							["action"] = "pyroblast",
						},
						{
							["enabled"] = true,
							["criteria"] = "buff.combustion.down & cooldown.combustion.remains < cast_time & active_enemies < 2 & ! improved_scorch.active & ! ( talent.sun_kings_blessing.enabled & talent.flame_accelerant.enabled )",
							["action"] = "fireball",
						},
						{
							["enabled"] = true,
							["criteria"] = "buff.combustion.down & cooldown.combustion.remains < cast_time",
							["action"] = "scorch",
						},
						{
							["enabled"] = true,
							["action"] = "fireball",
							["description"] = "If no precast was available, spend Frostfire Empowerment so that Fireball can be used as a precast.",
							["criteria"] = "buff.combustion.down & buff.frostfire_empowerment.up",
						},
						{
							["enabled"] = true,
							["use_while_casting"] = 1,
							["criteria"] = "hot_streak_spells_in_flight = 0 & buff.combustion.down & variable.time_to_combustion <= 0 & ( action.scorch.executing & action.scorch.execute_remains < variable.combustion_cast_remains || action.fireball.executing & action.fireball.execute_remains < variable.combustion_cast_remains || action.pyroblast.executing & action.pyroblast.execute_remains < variable.combustion_cast_remains || action.flamestrike.executing & action.flamestrike.execute_remains < variable.combustion_cast_remains || action.meteor.in_flight & action.meteor.in_flight_remains < variable.combustion_cast_remains )",
							["use_off_gcd"] = 1,
							["action"] = "combustion",
							["description"] = "Combustion should be used when the precast is almost finished or when Meteor is about to land.",
						},
						{
							["enabled"] = true,
							["op"] = "set",
							["action"] = "variable",
							["value"] = "cooldown.combustion.remains < 10 & buff.combustion.up",
							["description"] = "Variable to determine which Fire Blast conditions are used.",
							["var_name"] = "ta_combust",
						},
						{
							["enabled"] = true,
							["use_while_casting"] = 1,
							["criteria"] = "( ! variable.ta_combust || talent.sun_kings_blessing.enabled ) & ! variable.fire_blast_pooling & ( ! improved_scorch.active || action.scorch.executing || debuff.improved_scorch.remains > 4 * gcd.max ) & ( buff.fury_of_the_sun_king.down || action.pyroblast.executing ) & buff.combustion.up & ! buff.hot_streak.react & hot_streak_spells_in_flight + buff.heating_up.react * ( gcd.remains > 0 ) < 2",
							["use_off_gcd"] = 1,
							["action"] = "fire_blast",
							["description"] = "Fire Blast usage for a standard combustion",
						},
						{
							["enabled"] = true,
							["use_while_casting"] = 1,
							["criteria"] = "variable.ta_combust & ! variable.fire_blast_pooling & charges_fractional > 2.5 & ( ! improved_scorch.active || action.scorch.executing || debuff.improved_scorch.remains > 4 * gcd.max ) & ( buff.fury_of_the_sun_king.down || action.pyroblast.executing ) & buff.combustion.up & ! buff.hot_streak.react & hot_streak_spells_in_flight + buff.heating_up.react * ( gcd.remains > 0 ) < 2",
							["use_off_gcd"] = 1,
							["action"] = "fire_blast",
							["description"] = "Fire Blast usage for a TA combustion, when a regular combustion is soon to follow.",
						},
						{
							["buff_name"] = "hyperthermia",
							["criteria"] = "buff.fury_of_the_sun_king.react",
							["action"] = "cancel_buff",
							["enabled"] = true,
							["description"] = "Cancelaura HT if SKB is ready",
						},
						{
							["enabled"] = true,
							["action"] = "flamestrike",
							["description"] = "Spend Hot Streaks during Combustion at high priority.",
							["criteria"] = "( buff.hot_streak.up & active_enemies >= variable.combustion_flamestrike ) || ( buff.hyperthermia.up & active_enemies >= variable.combustion_flamestrike - talent.hyperthermia.enabled )",
						},
						{
							["enabled"] = true,
							["criteria"] = "buff.hyperthermia.up",
							["action"] = "pyroblast",
						},
						{
							["enabled"] = true,
							["criteria"] = "buff.hot_streak.up & buff.combustion.up",
							["action"] = "pyroblast",
						},
						{
							["enabled"] = true,
							["criteria"] = "prev_gcd.1.scorch & buff.heating_up.up & active_enemies < variable.combustion_flamestrike & buff.combustion.up",
							["action"] = "pyroblast",
						},
						{
							["enabled"] = true,
							["action"] = "flamestrike",
							["description"] = "Spend Fury of the Sun King procs inside of combustion.",
							["criteria"] = "buff.fury_of_the_sun_king.up & buff.fury_of_the_sun_king.remains > cast_time & active_enemies >= variable.skb_flamestrike & buff.fury_of_the_sun_king.expiration_delay_remains = 0",
						},
						{
							["enabled"] = true,
							["criteria"] = "buff.fury_of_the_sun_king.up & buff.fury_of_the_sun_king.remains > cast_time & buff.fury_of_the_sun_king.expiration_delay_remains = 0",
							["action"] = "pyroblast",
						},
						{
							["enabled"] = true,
							["criteria"] = "buff.frostfire_empowerment.up & ! buff.hot_streak.up & ! buff.excess_frost.up",
							["action"] = "fireball",
						},
						{
							["enabled"] = true,
							["criteria"] = "talent.phoenix_reborn.enabled & buff.heating_up.up + hot_streak_spells_in_flight < 2 & buff.flames_fury.up",
							["action"] = "phoenix_flames",
						},
						{
							["enabled"] = true,
							["criteria"] = "improved_scorch.active & ( debuff.improved_scorch.remains < 4 * gcd.max ) & active_enemies < variable.combustion_flamestrike",
							["action"] = "scorch",
						},
						{
							["enabled"] = true,
							["criteria"] = "buff.heat_shimmer.up & ( talent.scald.enabled || talent.improved_scorch.enabled ) & active_enemies < variable.combustion_flamestrike",
							["action"] = "scorch",
						},
						{
							["enabled"] = true,
							["action"] = "phoenix_flames",
							["description"] = "Use Phoenix Flames and Scorch in Combustion to help generate Hot Streaks when Fire Blasts are not available or need to be conserved.",
							["criteria"] = "( ! talent.call_of_the_sun_king.enabled & travel_time < buff.combustion.remains || ( talent.call_of_the_sun_king.enabled & buff.combustion.remains < 4 || buff.sun_kings_blessing.stack < 8 ) ) & buff.heating_up.react + hot_streak_spells_in_flight < 2",
						},
						{
							["enabled"] = true,
							["criteria"] = "buff.frostfire_empowerment.up & ! buff.hot_streak.up",
							["action"] = "fireball",
						},
						{
							["enabled"] = true,
							["criteria"] = "buff.combustion.remains > cast_time & cast_time >= gcd.max",
							["action"] = "scorch",
						},
						{
							["action"] = "fireball",
							["enabled"] = true,
						},
					},
					["default"] = {
						{
							["action"] = "counterspell",
							["enabled"] = true,
						},
						{
							["enabled"] = true,
							["criteria"] = "time < 0.5",
							["action"] = "phoenix_flames",
						},
						{
							["enabled"] = true,
							["description"] = "The combustion_timing action list schedules the approximate time when Combustion should be used and stores the number of seconds until then in variable.time_to_combustion.",
							["action"] = "call_action_list",
							["list_name"] = "combustion_timing",
						},
						{
							["enabled"] = true,
							["criteria"] = "buff.potion.duration > variable.time_to_combustion + buff.combustion.duration",
							["action"] = "potion",
						},
						{
							["enabled"] = true,
							["op"] = "set",
							["action"] = "variable",
							["value"] = "variable.time_to_combustion > cooldown.shifting_power.remains",
							["description"] = "Variable that estimates whether Shifting Power will be used before the next Combustion.",
							["var_name"] = "shifting_power_before_combustion",
						},
						{
							["enabled"] = true,
							["op"] = "set",
							["action"] = "variable",
							["value"] = "( variable.time_to_combustion < variable.on_use_cutoff || buff.combustion.remains > variable.skb_duration & ! cooldown.item_cd_1141.remains ) & ( ( trinket.t1.has_cooldown & trinket.t1.cooldown.remains < variable.on_use_cutoff ) + ( trinket.t2.has_cooldown & trinket.t2.cooldown.remains < variable.on_use_cutoff ) > 1 )",
							["var_name"] = "item_cutoff_active",
						},
						{
							["enabled"] = true,
							["action"] = "treacherous_transmitter",
							["description"] = "The War Within S1 On-Use items with special use timings",
							["criteria"] = "buff.combustion.remains > 10 || boss & fight_remains < 25",
							["effect_name"] = "treacherous_transmitter",
						},
						{
							["enabled"] = false,
							["criteria"] = "variable.time_to_combustion < 3",
							["name"] = "imperfect_ascendancy_serum",
						},
						{
							["enabled"] = true,
							["action"] = "spymasters_web",
							["criteria"] = "( buff.combustion.remains > 10 & fight_remains < 60 ) || boss & fight_remains < 25",
							["effect_name"] = "spymasters_web",
						},
						{
							["enabled"] = true,
							["action"] = "gladiators_badge",
							["criteria"] = "variable.time_to_combustion > action_cooldown - 5",
							["effect_name"] = "gladiators_badge",
						},
						{
							["enabled"] = true,
							["criteria"] = "! variable.item_cutoff_active",
							["action"] = "use_items",
						},
						{
							["enabled"] = true,
							["op"] = "set",
							["description"] = "Pool as many Fire Blasts as possible for Combustion.",
							["action"] = "variable",
							["value"] = "buff.combustion.down & action.fire_blast.charges_fractional + ( variable.time_to_combustion + action.shifting_power.full_reduction * variable.shifting_power_before_combustion ) / cooldown.fire_blast.duration - 1 < cooldown.fire_blast.max_charges + variable.overpool_fire_blasts / cooldown.fire_blast.duration - ( buff.combustion.duration / cooldown.fire_blast.duration )  % 1 & variable.time_to_combustion < fight_remains",
							["use_off_gcd"] = 1,
							["var_name"] = "fire_blast_pooling",
							["use_while_casting"] = 1,
						},
						{
							["enabled"] = true,
							["criteria"] = "variable.time_to_combustion <= 0 || buff.combustion.up || variable.time_to_combustion < variable.combustion_precast_time & cooldown.combustion.remains < variable.combustion_precast_time",
							["action"] = "call_action_list",
							["list_name"] = "combustion_phase",
						},
						{
							["enabled"] = true,
							["use_while_casting"] = 1,
							["description"] = "Adjust the variable that controls Fire Blast usage to save Fire Blasts while Searing Touch is active with Sun King's Blessing.",
							["op"] = "set",
							["criteria"] = "! variable.fire_blast_pooling & talent.sun_kings_blessing.enabled",
							["value"] = "scorch_execute.active & action.fire_blast.full_recharge_time > 3 * gcd.max",
							["use_off_gcd"] = 1,
							["action"] = "variable",
							["var_name"] = "fire_blast_pooling",
						},
						{
							["enabled"] = true,
							["criteria"] = "buff.combustion.down & ( ! improved_scorch.active || debuff.improved_scorch.remains > cast_time + action.scorch.cast_time & ! buff.fury_of_the_sun_king.up ) & ! buff.hot_streak.react & buff.hyperthermia.down & ( cooldown.phoenix_flames.charges <= 1 || cooldown.combustion.remains < 20 )",
							["action"] = "shifting_power",
						},
						{
							["enabled"] = true,
							["op"] = "set",
							["action"] = "variable",
							["var_name"] = "phoenix_pooling",
							["criteria"] = "! talent.sun_kings_blessing.enabled",
							["description"] = "Variable that controls Phoenix Flames usage to ensure its charges are pooled for Combustion when needed. Only use Phoenix Flames outside of Combustion when full charges can be obtained during the next Combustion.",
							["value"] = "( variable.time_to_combustion + buff.combustion.duration - 5 < action.phoenix_flames.full_recharge_time + cooldown.phoenix_flames.duration - action.shifting_power.full_reduction * variable.shifting_power_before_combustion & variable.time_to_combustion < fight_remains || talent.sun_kings_blessing.enabled ) & ! talent.alexstraszas_fury.enabled",
						},
						{
							["enabled"] = true,
							["use_while_casting"] = 1,
							["criteria"] = "! variable.fire_blast_pooling & variable.time_to_combustion > 0 & active_enemies >= variable.hard_cast_flamestrike & ! firestarter.active & ! buff.hot_streak.up & ( buff.heating_up.up & action.flamestrike.execute_remains < 0.5 || charges_fractional >= 2 )",
							["use_off_gcd"] = 1,
							["action"] = "fire_blast",
							["description"] = "When Hardcasting Flamestrike, Fire Blasts should be used to generate Hot Streaks and to extend Feel the Burn.",
						},
						{
							["enabled"] = true,
							["criteria"] = "buff.combustion.down & firestarter.active & variable.time_to_combustion > 0",
							["action"] = "call_action_list",
							["list_name"] = "firestarter_fire_blasts",
						},
						{
							["enabled"] = true,
							["use_while_casting"] = 1,
							["action"] = "fire_blast",
							["description"] = "Avoid capping Fire Blast charges while channeling Shifting Power",
							["criteria"] = "action.shifting_power.executing & ( full_recharge_time < action.shifting_power.tick_reduction || talent.sun_kings_blessing.enabled & buff.heating_up.react )",
						},
						{
							["enabled"] = true,
							["action"] = "call_action_list",
							["strict"] = 1,
							["criteria"] = "variable.time_to_combustion > 0 & buff.combustion.down",
							["list_name"] = "standard_rotation",
						},
						{
							["enabled"] = true,
							["action"] = "ice_nova",
							["description"] = "Ice Nova can be used during movement when Searing Touch is not active.",
							["criteria"] = "! scorch_execute.active",
						},
						{
							["enabled"] = true,
							["criteria"] = "buff.combustion.down",
							["action"] = "scorch",
						},
					},
					["precombat"] = {
						{
							["action"] = "arcane_intellect",
							["enabled"] = true,
						},
						{
							["enabled"] = true,
							["op"] = "set",
							["criteria"] = "variable.firestarter_combustion < 0",
							["default"] = "-1",
							["value"] = "talent.sun_kings_blessing.enabled",
							["description"] = "APL Variable Option: This variable specifies whether Combustion should be used during Firestarter.",
							["action"] = "variable",
							["var_name"] = "firestarter_combustion",
						},
						{
							["enabled"] = true,
							["op"] = "set",
							["action"] = "variable",
							["var_name"] = "hot_streak_flamestrike",
							["criteria"] = "variable.hot_streak_flamestrike = 0",
							["description"] = "APL Variable Option: This variable specifies the number of targets at which Hot Streak Flamestrikes outside of Combustion should be used.",
							["value"] = "4 * ( talent.quickflame.enabled || talent.flame_patch.enabled ) + 999 * ( ! talent.flame_patch.enabled & ! talent.quickflame.enabled )",
						},
						{
							["enabled"] = true,
							["op"] = "set",
							["action"] = "variable",
							["var_name"] = "hard_cast_flamestrike",
							["criteria"] = "variable.hard_cast_flamestrike = 0",
							["description"] = "APL Variable Option: This variable specifies the number of targets at which Hard Cast Flamestrikes outside of Combustion should be used as filler.",
							["value"] = "999",
						},
						{
							["enabled"] = true,
							["op"] = "set",
							["action"] = "variable",
							["var_name"] = "combustion_flamestrike",
							["criteria"] = "variable.combustion_flamestrike = 0",
							["description"] = "APL Variable Option: This variable specifies the number of targets at which Hot Streak Flamestrikes are used during Combustion.",
							["value"] = "4 * ( talent.quickflame.enabled || talent.flame_patch.enabled ) + 999 * ( ! talent.flame_patch.enabled & ! talent.quickflame.enabled )",
						},
						{
							["enabled"] = true,
							["op"] = "set",
							["action"] = "variable",
							["var_name"] = "skb_flamestrike",
							["criteria"] = "variable.skb_flamestrike = 0",
							["description"] = "APL Variable Option: This variable specifies the number of targets at which Flamestrikes should be used to consume Fury of the Sun King.",
							["value"] = "3 * ( talent.quickflame.enabled || talent.flame_patch.enabled ) + 999 * ( ! talent.flame_patch.enabled & ! talent.quickflame.enabled )",
						},
						{
							["enabled"] = true,
							["op"] = "set",
							["action"] = "variable",
							["var_name"] = "arcane_explosion",
							["criteria"] = "variable.arcane_explosion = 0",
							["description"] = "APL Variable Option: This variable specifies the number of targets at which Arcane Explosion outside of Combustion should be used.",
							["value"] = "999",
						},
						{
							["enabled"] = true,
							["op"] = "reset",
							["action"] = "variable",
							["var_name"] = "arcane_explosion_mana",
							["default"] = "40",
							["description"] = "APL Variable Option: This variable specifies the percentage of mana below which Arcane Explosion will not be used.",
						},
						{
							["enabled"] = true,
							["op"] = "set",
							["action"] = "variable",
							["var_name"] = "combustion_shifting_power",
							["criteria"] = "variable.combustion_shifting_power = 0",
							["description"] = "APL Variable Option: The number of targets at which Shifting Power can used during Combustion.",
							["value"] = "999",
						},
						{
							["enabled"] = true,
							["op"] = "reset",
							["action"] = "variable",
							["var_name"] = "combustion_cast_remains",
							["default"] = "0.3",
							["description"] = "APL Variable Option: The time remaining on a cast when Combustion can be used in seconds.",
						},
						{
							["enabled"] = true,
							["op"] = "reset",
							["action"] = "variable",
							["var_name"] = "overpool_fire_blasts",
							["default"] = "0",
							["description"] = "APL Variable Option: This variable specifies the number of seconds of Fire Blast that should be pooled past the default amount.",
						},
						{
							["enabled"] = true,
							["op"] = "set",
							["action"] = "variable",
							["value"] = "6",
							["description"] = "The duration of a Sun King's Blessing Combustion.",
							["var_name"] = "skb_duration",
						},
						{
							["enabled"] = true,
							["op"] = "set",
							["action"] = "variable",
							["value"] = "equipped.gladiators_badge || equipped.moonlit_prism || equipped.irideus_fragment || equipped.spoils_of_neltharus || equipped.timebreaching_talon || equipped.horn_of_valor",
							["description"] = "Whether a usable item used to buff Combustion is equipped.",
							["var_name"] = "combustion_on_use",
						},
						{
							["enabled"] = true,
							["op"] = "set",
							["action"] = "variable",
							["var_name"] = "on_use_cutoff",
							["criteria"] = "variable.combustion_on_use",
							["description"] = "How long before Combustion should trinkets that trigger a shared category cooldown on other trinkets not be used?",
							["value"] = "20",
						},
						{
							["action"] = "mirror_image",
							["enabled"] = true,
						},
						{
							["enabled"] = true,
							["criteria"] = "active_enemies >= variable.hot_streak_flamestrike",
							["action"] = "flamestrike",
						},
						{
							["action"] = "pyroblast",
							["enabled"] = true,
						},
					},
					["combustion_cooldowns"] = {
						{
							["action"] = "potion",
							["enabled"] = true,
						},
						{
							["action"] = "blood_fury",
							["enabled"] = true,
						},
						{
							["enabled"] = true,
							["criteria"] = "buff.combustion.up",
							["action"] = "berserking",
						},
						{
							["action"] = "fireblood",
							["enabled"] = true,
						},
						{
							["action"] = "ancestral_call",
							["enabled"] = true,
						},
						{
							["enabled"] = true,
							["action"] = "gladiators_badge",
							["effect_name"] = "gladiators_badge",
						},
					},
					["active_talents"] = {
						{
							["enabled"] = true,
							["criteria"] = "buff.combustion.up || ( buff.sun_kings_blessing.max_stack - buff.sun_kings_blessing.stack > 4 || variable.time_to_combustion <= 0 || buff.combustion.remains > travel_time || ! talent.sun_kings_blessing.enabled & ( cooldown.meteor.duration < variable.time_to_combustion & fight_remains < variable.time_to_combustion ) )",
							["action"] = "meteor",
						},
						{
							["enabled"] = true,
							["action"] = "dragons_breath",
							["description"] = "With Alexstrasza's Fury when Combustion is not active, Dragon's Breath should be used to convert Heating Up to a Hot Streak.",
							["criteria"] = "talent.alexstraszas_fury.enabled & ( buff.combustion.down & ! buff.hot_streak.up ) & ( buff.feel_the_burn.up || time > 15 ) & ( ! improved_scorch.active )",
						},
					},
					["standard_rotation"] = {
						{
							["enabled"] = true,
							["criteria"] = "active_enemies >= variable.hot_streak_flamestrike & ( buff.hot_streak.up || buff.hyperthermia.up )",
							["action"] = "flamestrike",
						},
						{
							["enabled"] = true,
							["criteria"] = "buff.hot_streak.up & ! buff.frostfire_empowerment.up & buff.hyperthermia.down & ! cooldown.shifting_power.ready & cooldown.phoenix_flames.charges < 1 & ! scorch_execute.active & ! prev_gcd.1.fireball",
							["line_cd"] = "2*gcd.max",
							["action"] = "fireball",
							["description"] = "When resources are low, fish for Hot Streaks.",
						},
						{
							["enabled"] = true,
							["criteria"] = "( buff.hyperthermia.up || buff.hot_streak.up & ( buff.hot_streak.remains < action.fireball.execute_time ) || buff.hot_streak.up & ( hot_streak_spells_in_flight || firestarter.active || talent.call_of_the_sun_king.enabled & action.phoenix_flames.charges ) || buff.hot_streak.up & scorch_execute.active )",
							["action"] = "pyroblast",
						},
						{
							["enabled"] = true,
							["criteria"] = "active_enemies >= variable.skb_flamestrike & buff.fury_of_the_sun_king.up & buff.fury_of_the_sun_king.expiration_delay_remains = 0",
							["action"] = "flamestrike",
						},
						{
							["enabled"] = true,
							["criteria"] = "improved_scorch.active & debuff.improved_scorch.remains < action.pyroblast.cast_time + 5 * gcd.max & buff.fury_of_the_sun_king.up & ! action.scorch.in_flight",
							["action"] = "scorch",
						},
						{
							["enabled"] = true,
							["criteria"] = "buff.fury_of_the_sun_king.up & buff.fury_of_the_sun_king.expiration_delay_remains = 0",
							["action"] = "pyroblast",
						},
						{
							["enabled"] = true,
							["use_while_casting"] = 1,
							["criteria"] = "! firestarter.active & ( ! variable.fire_blast_pooling || talent.spontaneous_combustion.enabled ) & buff.fury_of_the_sun_king.down & ( ( ( action.fireball.executing & ( action.fireball.execute_remains < 0.5 || ! talent.hyperthermia.enabled ) || action.pyroblast.executing & ( action.pyroblast.execute_remains < 0.5 ) ) & buff.heating_up.react ) || ( scorch_execute.active & ( ! improved_scorch.active || debuff.improved_scorch.stack = debuff.improved_scorch.max_stack || full_recharge_time < 3 ) & ( buff.heating_up.react & ! action.scorch.executing || ! buff.hot_streak.react & ! buff.heating_up.react & action.scorch.executing & ! hot_streak_spells_in_flight ) ) )",
							["use_off_gcd"] = 1,
							["action"] = "fire_blast",
							["description"] = "During the standard rotation, only use Fire Blasts when they are not being pooled for  Combustion. Use Fire Blast either during a Fireball/Pyroblast cast when Heating Up is active or during execute with Searing Touch.",
						},
						{
							["enabled"] = true,
							["use_while_casting"] = 1,
							["criteria"] = "! firestarter.active & ( ! variable.fire_blast_pooling || talent.spontaneous_combustion.enabled ) & buff.fury_of_the_sun_king.down & ( buff.heating_up.up & hot_streak_spells_in_flight < 1 & ( prev_gcd.1.phoenix_flames || prev_gcd.1.scorch ) ) || ( ( ( buff.bloodlust.up & charges_fractional > 1.5 ) || charges_fractional > 2.5 || buff.feel_the_burn.remains < 0.5 || full_recharge_time * 1 - ( 0.5 * cooldown.shifting_power.ready ) < buff.hyperthermia.duration ) & buff.heating_up.react )",
							["use_off_gcd"] = 1,
							["action"] = "fire_blast",
						},
						{
							["enabled"] = true,
							["criteria"] = "improved_scorch.active & debuff.improved_scorch.remains < gcd.max",
							["action"] = "scorch",
						},
						{
							["enabled"] = true,
							["criteria"] = "buff.frostfire_empowerment.up & ! buff.hot_streak.up & ! buff.excess_frost.up",
							["action"] = "fireball",
						},
						{
							["enabled"] = true,
							["criteria"] = "buff.heat_shimmer.react & ( talent.scald.enabled || talent.improved_scorch.enabled ) & active_enemies < variable.combustion_flamestrike",
							["action"] = "scorch",
						},
						{
							["enabled"] = true,
							["criteria"] = "! buff.hot_streak.up & ( hot_streak_spells_in_flight < 1 & ( ! prev_gcd.1.fireball || ( buff.heating_up.down & buff.hot_streak.down ) ) ) || ( hot_streak_spells_in_flight < 2 & buff.flames_fury.react )",
							["action"] = "phoenix_flames",
						},
						{
							["enabled"] = true,
							["action"] = "call_action_list",
							["list_name"] = "active_talents",
						},
						{
							["enabled"] = true,
							["criteria"] = "active_enemies > 1 & talent.alexstraszas_fury.enabled",
							["action"] = "dragons_breath",
						},
						{
							["enabled"] = true,
							["criteria"] = "( scorch_execute.active || buff.heat_shimmer.up )",
							["action"] = "scorch",
						},
						{
							["enabled"] = true,
							["criteria"] = "active_enemies >= variable.arcane_explosion & mana.pct >= variable.arcane_explosion_mana",
							["action"] = "arcane_explosion",
						},
						{
							["enabled"] = true,
							["action"] = "flamestrike",
							["description"] = "With enough targets, it is a gain to cast Flamestrike as filler instead of Fireball. This is currently never true up to 10t.",
							["criteria"] = "active_enemies >= variable.hard_cast_flamestrike",
						},
						{
							["action"] = "fireball",
							["enabled"] = true,
						},
					},
					["firestarter_fire_blasts"] = {
						{
							["enabled"] = true,
							["use_while_casting"] = 1,
							["action"] = "fire_blast",
							["description"] = "While casting Fireball or Pyroblast, convert Heating Up to a Hot Streak!",
							["criteria"] = "! variable.fire_blast_pooling & ! buff.hot_streak.up & ( action.fireball.execute_remains > gcd.remains || action.pyroblast.executing ) & buff.heating_up.up + hot_streak_spells_in_flight = 1 & ( cooldown.shifting_power.ready || charges > 1 || buff.feel_the_burn.remains < 2 * gcd.max )",
						},
						{
							["enabled"] = true,
							["criteria"] = "! variable.fire_blast_pooling & buff.heating_up.react + hot_streak_spells_in_flight = 1 & ( talent.feel_the_burn.enabled & buff.feel_the_burn.remains < gcd.remains || cooldown.shifting_power.ready ) & time > 0",
							["use_off_gcd"] = 1,
							["action"] = "fire_blast",
							["description"] = "If not casting anything, use Fire Blast to trigger Hot Streak! only if Feel the Burn is talented and would expire before the GCD ends or if Shifting Power is available.",
						},
					},
				},
				["version"] = 20240910,
				["warnings"] = "The import for 'combustion_timing' required some automated changes.\nLine 4: Converted 'talent.firestarter' to 'talent.firestarter.enabled' (1x).\nLine 5: Converted 'talent.sun_kings_blessing' to 'talent.sun_kings_blessing.enabled' (1x).\nLine 10: Converted 'talent.firestarter' to 'talent.firestarter.enabled' (1x).\nLine 10: Converted 'talent.kindling' to 'talent.kindling.enabled' (1x).\n\nThe import for 'firestarter_fire_blasts' required some automated changes.\nLine 2: Converted 'talent.feel_the_burn' to 'talent.feel_the_burn.enabled' (1x).\n\nThe import for 'default' required some automated changes.\nLine 6: Converted 'trinket.1.has_cooldown' to 'trinket.t1.has_cooldown' (1x).\nLine 6: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains' (1x).\nLine 6: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains'.\nLine 6: Converted 'trinket.2.has_cooldown' to 'trinket.t2.has_cooldown' (1x).\nLine 6: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains' (1x).\nLine 6: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains'.\nLine 8: Unsupported use_item action [ imperfect_ascendancy_serum]; entry disabled.\nLine 12: Converted operations in 'buff.combustion.down&action.fire_blast.charges_fractional+(variable.time_to_combustion+action.shifting_power.full_reduction*variable.shifting_power_before_combustion)%cooldown.fire_blast.duration-1<cooldown.fire_blast.max_charges+variable.overpool_fire_blasts%cooldown.fire_blast.duration-(buff.combustion.duration%cooldown.fire_blast.duration)%%1&variable.time_to_combustion<fight_remains' to 'buff.combustion.down&action.fire_blast.charges_fractional+(variable.time_to_combustion+action.shifting_power.full_reduction*variable.shifting_power_before_combustion)/cooldown.fire_blast.duration-1<cooldown.fire_blast.max_charges+variable.overpool_fire_blasts/cooldown.fire_blast.duration-(buff.combustion.duration/cooldown.fire_blast.duration)%1&variable.time_to_combustion<fight_remains'.\nLine 14: Converted 'talent.sun_kings_blessing' to 'talent.sun_kings_blessing.enabled' (1x).\nLine 16: Converted 'talent.sun_kings_blessing' to 'talent.sun_kings_blessing.enabled' (1x).\nLine 16: Converted 'talent.sun_kings_blessing' to 'talent.sun_kings_blessing.enabled' (1x).\nLine 16: Converted 'talent.alexstraszas_fury' to 'talent.alexstraszas_fury.enabled' (1x).\nLine 19: Converted 'talent.sun_kings_blessing' to 'talent.sun_kings_blessing.enabled' (1x).\n\nThe import for 'precombat' required some automated changes.\nLine 2: Converted 'talent.sun_kings_blessing' to 'talent.sun_kings_blessing.enabled' (1x).\nLine 3: Converted 'talent.quickflame' to 'talent.quickflame.enabled' (1x).\nLine 3: Converted 'talent.flame_patch' to 'talent.flame_patch.enabled' (1x).\nLine 3: Converted 'talent.flame_patch' to 'talent.flame_patch.enabled' (1x).\nLine 3: Converted 'talent.quickflame' to 'talent.quickflame.enabled' (1x).\nLine 5: Converted 'talent.quickflame' to 'talent.quickflame.enabled' (1x).\nLine 5: Converted 'talent.flame_patch' to 'talent.flame_patch.enabled' (1x).\nLine 5: Converted 'talent.flame_patch' to 'talent.flame_patch.enabled' (1x).\nLine 5: Converted 'talent.quickflame' to 'talent.quickflame.enabled' (1x).\nLine 6: Converted 'talent.quickflame' to 'talent.quickflame.enabled' (1x).\nLine 6: Converted 'talent.flame_patch' to 'talent.flame_patch.enabled' (1x).\nLine 6: Converted 'talent.flame_patch' to 'talent.flame_patch.enabled' (1x).\nLine 6: Converted 'talent.quickflame' to 'talent.quickflame.enabled' (1x).\n\nThe import for 'active_talents' required some automated changes.\nLine 1: Converted 'talent.sun_kings_blessing' to 'talent.sun_kings_blessing.enabled' (1x).\nLine 2: Converted 'talent.alexstraszas_fury' to 'talent.alexstraszas_fury.enabled' (1x).\n\nThe import for 'standard_rotation' required some automated changes.\nLine 3: Converted 'talent.call_of_the_sun_king' to 'talent.call_of_the_sun_king.enabled' (1x).\nLine 7: Converted 'talent.spontaneous_combustion' to 'talent.spontaneous_combustion.enabled' (1x).\nLine 7: Converted 'talent.hyperthermia' to 'talent.hyperthermia.enabled' (1x).\nLine 8: Converted 'talent.spontaneous_combustion' to 'talent.spontaneous_combustion.enabled' (1x).\nLine 11: Converted 'talent.scald' to 'talent.scald.enabled' (1x).\nLine 11: Converted 'talent.improved_scorch' to 'talent.improved_scorch.enabled' (1x).\nLine 14: Converted 'talent.alexstraszas_fury' to 'talent.alexstraszas_fury.enabled' (1x).\n\nThe import for 'combustion_phase' required some automated changes.\nLine 5: Converted 'talent.sun_kings_blessing' to 'talent.sun_kings_blessing.enabled' (1x).\nLine 5: Converted 'talent.flame_accelerant' to 'talent.flame_accelerant.enabled' (1x).\nLine 10: Converted 'talent.sun_kings_blessing' to 'talent.sun_kings_blessing.enabled' (1x).\nLine 13: Converted 'talent.hyperthermia' to 'talent.hyperthermia.enabled' (1x).\nLine 20: Converted 'talent.phoenix_reborn' to 'talent.phoenix_reborn.enabled' (1x).\nLine 22: Converted 'talent.scald' to 'talent.scald.enabled' (1x).\nLine 22: Converted 'talent.improved_scorch' to 'talent.improved_scorch.enabled' (1x).\nLine 23: Converted 'talent.call_of_the_sun_king' to 'talent.call_of_the_sun_king.enabled' (1x).\nLine 23: Converted 'talent.call_of_the_sun_king' to 'talent.call_of_the_sun_king.enabled' (1x).\n\nImported 8 action lists.\n",
				["profile"] = "actions.precombat+=/arcane_intellect\n# APL Variable Option: This variable specifies whether Combustion should be used during Firestarter.\nactions.precombat+=/variable,name=firestarter_combustion,default=-1,value=talent.sun_kings_blessing,if=variable.firestarter_combustion<0\n# APL Variable Option: This variable specifies the number of targets at which Hot Streak Flamestrikes outside of Combustion should be used.\nactions.precombat+=/variable,name=hot_streak_flamestrike,if=variable.hot_streak_flamestrike=0,value=4*(talent.quickflame||talent.flame_patch)+999*(!talent.flame_patch&!talent.quickflame)\n# APL Variable Option: This variable specifies the number of targets at which Hard Cast Flamestrikes outside of Combustion should be used as filler.\nactions.precombat+=/variable,name=hard_cast_flamestrike,if=variable.hard_cast_flamestrike=0,value=999\n# APL Variable Option: This variable specifies the number of targets at which Hot Streak Flamestrikes are used during Combustion.\nactions.precombat+=/variable,name=combustion_flamestrike,if=variable.combustion_flamestrike=0,value=4*(talent.quickflame||talent.flame_patch)+999*(!talent.flame_patch&!talent.quickflame)\n# APL Variable Option: This variable specifies the number of targets at which Flamestrikes should be used to consume Fury of the Sun King.\nactions.precombat+=/variable,name=skb_flamestrike,if=variable.skb_flamestrike=0,value=3*(talent.quickflame||talent.flame_patch)+999*(!talent.flame_patch&!talent.quickflame)\n# APL Variable Option: This variable specifies the number of targets at which Arcane Explosion outside of Combustion should be used.\nactions.precombat+=/variable,name=arcane_explosion,if=variable.arcane_explosion=0,value=999\n# APL Variable Option: This variable specifies the percentage of mana below which Arcane Explosion will not be used.\nactions.precombat+=/variable,name=arcane_explosion_mana,default=40,op=reset\n# APL Variable Option: The number of targets at which Shifting Power can used during Combustion.\nactions.precombat+=/variable,name=combustion_shifting_power,if=variable.combustion_shifting_power=0,value=999\n# APL Variable Option: The time remaining on a cast when Combustion can be used in seconds.\nactions.precombat+=/variable,name=combustion_cast_remains,default=0.3,op=reset\n# APL Variable Option: This variable specifies the number of seconds of Fire Blast that should be pooled past the default amount.\nactions.precombat+=/variable,name=overpool_fire_blasts,default=0,op=reset\n# The duration of a Sun King's Blessing Combustion.\nactions.precombat+=/variable,name=skb_duration,value=6\n# Whether a usable item used to buff Combustion is equipped.\nactions.precombat+=/variable,name=combustion_on_use,value=equipped.gladiators_badge||equipped.moonlit_prism||equipped.irideus_fragment||equipped.spoils_of_neltharus||equipped.timebreaching_talon||equipped.horn_of_valor\n# How long before Combustion should trinkets that trigger a shared category cooldown on other trinkets not be used?\nactions.precombat+=/variable,name=on_use_cutoff,value=20,if=variable.combustion_on_use\nactions.precombat+=/mirror_image\nactions.precombat+=/flamestrike,if=active_enemies>=variable.hot_streak_flamestrike\nactions.precombat+=/pyroblast\n\nactions+=/counterspell\nactions+=/phoenix_flames,if=time<0.5\n# The combustion_timing action list schedules the approximate time when Combustion should be used and stores the number of seconds until then in variable.time_to_combustion.\nactions+=/call_action_list,name=combustion_timing\nactions+=/potion,if=buff.potion.duration>variable.time_to_combustion+buff.combustion.duration\n# Variable that estimates whether Shifting Power will be used before the next Combustion.\nactions+=/variable,name=shifting_power_before_combustion,value=variable.time_to_combustion>cooldown.shifting_power.remains\nactions+=/variable,name=item_cutoff_active,value=(variable.time_to_combustion<variable.on_use_cutoff||buff.combustion.remains>variable.skb_duration&!cooldown.item_cd_1141.remains)&((trinket.1.has_cooldown&trinket.1.cooldown.remains<variable.on_use_cutoff)+(trinket.2.has_cooldown&trinket.2.cooldown.remains<variable.on_use_cutoff)>1)\n# The War Within S1 On-Use items with special use timings\nactions+=/use_item,effect_name=treacherous_transmitter,if=buff.combustion.remains>10||boss&fight_remains<25\nactions+=/use_item,name=imperfect_ascendancy_serum,if=variable.time_to_combustion<3\nactions+=/use_item,effect_name=spymasters_web,if=(buff.combustion.remains>10&fight_remains<60)||boss&fight_remains<25\nactions+=/use_item,effect_name=gladiators_badge,if=variable.time_to_combustion>cooldown-5\nactions+=/use_items,if=!variable.item_cutoff_active\n# Pool as many Fire Blasts as possible for Combustion.\nactions+=/variable,use_off_gcd=1,use_while_casting=1,name=fire_blast_pooling,value=buff.combustion.down&action.fire_blast.charges_fractional+(variable.time_to_combustion+action.shifting_power.full_reduction*variable.shifting_power_before_combustion)%cooldown.fire_blast.duration-1<cooldown.fire_blast.max_charges+variable.overpool_fire_blasts%cooldown.fire_blast.duration-(buff.combustion.duration%cooldown.fire_blast.duration)%%1&variable.time_to_combustion<fight_remains\nactions+=/call_action_list,name=combustion_phase,if=variable.time_to_combustion<=0||buff.combustion.up||variable.time_to_combustion<variable.combustion_precast_time&cooldown.combustion.remains<variable.combustion_precast_time\n# Adjust the variable that controls Fire Blast usage to save Fire Blasts while Searing Touch is active with Sun King's Blessing.\nactions+=/variable,use_off_gcd=1,use_while_casting=1,name=fire_blast_pooling,value=scorch_execute.active&action.fire_blast.full_recharge_time>3*gcd.max,if=!variable.fire_blast_pooling&talent.sun_kings_blessing\nactions+=/shifting_power,if=buff.combustion.down&(!improved_scorch.active||debuff.improved_scorch.remains>cast_time+action.scorch.cast_time&!buff.fury_of_the_sun_king.up)&!buff.hot_streak.react&buff.hyperthermia.down&(cooldown.phoenix_flames.charges<=1||cooldown.combustion.remains<20)\n# Variable that controls Phoenix Flames usage to ensure its charges are pooled for Combustion when needed. Only use Phoenix Flames outside of Combustion when full charges can be obtained during the next Combustion.\nactions+=/variable,name=phoenix_pooling,if=!talent.sun_kings_blessing,value=(variable.time_to_combustion+buff.combustion.duration-5<action.phoenix_flames.full_recharge_time+cooldown.phoenix_flames.duration-action.shifting_power.full_reduction*variable.shifting_power_before_combustion&variable.time_to_combustion<fight_remains||talent.sun_kings_blessing)&!talent.alexstraszas_fury\n# When Hardcasting Flamestrike, Fire Blasts should be used to generate Hot Streaks and to extend Feel the Burn.\nactions+=/fire_blast,use_off_gcd=1,use_while_casting=1,if=!variable.fire_blast_pooling&variable.time_to_combustion>0&active_enemies>=variable.hard_cast_flamestrike&!firestarter.active&!buff.hot_streak.up&(buff.heating_up.up&action.flamestrike.execute_remains<0.5||charges_fractional>=2)\nactions+=/call_action_list,name=firestarter_fire_blasts,if=buff.combustion.down&firestarter.active&variable.time_to_combustion>0\n# Avoid capping Fire Blast charges while channeling Shifting Power\nactions+=/fire_blast,use_while_casting=1,if=action.shifting_power.executing&(full_recharge_time<action.shifting_power.tick_reduction||talent.sun_kings_blessing&buff.heating_up.react)\nactions+=/call_action_list,name=standard_rotation,strict=1,if=variable.time_to_combustion>0&buff.combustion.down\n# Ice Nova can be used during movement when Searing Touch is not active.\nactions+=/ice_nova,if=!scorch_execute.active\nactions+=/scorch,if=buff.combustion.down\n\nactions.active_talents+=/meteor,if=buff.combustion.up||(buff.sun_kings_blessing.max_stack-buff.sun_kings_blessing.stack>4||variable.time_to_combustion<=0||buff.combustion.remains>travel_time||!talent.sun_kings_blessing&(cooldown.meteor.duration<variable.time_to_combustion&fight_remains<variable.time_to_combustion))\n# With Alexstrasza's Fury when Combustion is not active, Dragon's Breath should be used to convert Heating Up to a Hot Streak.\nactions.active_talents+=/dragons_breath,if=talent.alexstraszas_fury&(buff.combustion.down&!buff.hot_streak.up)&(buff.feel_the_burn.up||time>15)&(!improved_scorch.active)\n\nactions.combustion_cooldowns+=/potion\nactions.combustion_cooldowns+=/blood_fury\nactions.combustion_cooldowns+=/berserking,if=buff.combustion.up\nactions.combustion_cooldowns+=/fireblood\nactions.combustion_cooldowns+=/ancestral_call\n## actions.combustion_cooldowns+=/invoke_external_buff,name=power_infusion,if=buff.power_infusion.down\n## actions.combustion_cooldowns+=/invoke_external_buff,name=blessing_of_summer,if=buff.blessing_of_summer.down\nactions.combustion_cooldowns+=/use_item,effect_name=gladiators_badge\n\n# Other cooldowns that should be used with Combustion should only be used with an actual Combustion cast and not with a Sun King's Blessing proc.\nactions.combustion_phase+=/call_action_list,name=combustion_cooldowns,if=buff.combustion.remains>variable.skb_duration||boss&fight_remains<20\nactions.combustion_phase+=/call_action_list,name=active_talents\n# If Combustion is down, precast something before activating it.\nactions.combustion_phase+=/flamestrike,if=buff.combustion.down&buff.fury_of_the_sun_king.up&buff.fury_of_the_sun_king.remains>cast_time&buff.fury_of_the_sun_king.expiration_delay_remains=0&cooldown.combustion.remains<cast_time&active_enemies>=variable.skb_flamestrike\nactions.combustion_phase+=/pyroblast,if=buff.combustion.down&buff.fury_of_the_sun_king.up&buff.fury_of_the_sun_king.remains>cast_time&(buff.fury_of_the_sun_king.expiration_delay_remains=0||buff.flame_accelerant.up)\nactions.combustion_phase+=/fireball,if=buff.combustion.down&cooldown.combustion.remains<cast_time&active_enemies<2&!improved_scorch.active&!(talent.sun_kings_blessing&talent.flame_accelerant)\nactions.combustion_phase+=/scorch,if=buff.combustion.down&cooldown.combustion.remains<cast_time\n# If no precast was available, spend Frostfire Empowerment so that Fireball can be used as a precast.\nactions.combustion_phase+=/fireball,if=buff.combustion.down&buff.frostfire_empowerment.up\n# Combustion should be used when the precast is almost finished or when Meteor is about to land.\nactions.combustion_phase+=/combustion,use_off_gcd=1,use_while_casting=1,if=hot_streak_spells_in_flight=0&buff.combustion.down&variable.time_to_combustion<=0&(action.scorch.executing&action.scorch.execute_remains<variable.combustion_cast_remains||action.fireball.executing&action.fireball.execute_remains<variable.combustion_cast_remains||action.pyroblast.executing&action.pyroblast.execute_remains<variable.combustion_cast_remains||action.flamestrike.executing&action.flamestrike.execute_remains<variable.combustion_cast_remains||action.meteor.in_flight&action.meteor.in_flight_remains<variable.combustion_cast_remains)\n# Variable to determine which Fire Blast conditions are used.\nactions.combustion_phase+=/variable,name=ta_combust,value=cooldown.combustion.remains<10&buff.combustion.up\n# Fire Blast usage for a standard combustion\nactions.combustion_phase+=/fire_blast,use_off_gcd=1,use_while_casting=1,if=(!variable.ta_combust||talent.sun_kings_blessing)&!variable.fire_blast_pooling&(!improved_scorch.active||action.scorch.executing||debuff.improved_scorch.remains>4*gcd.max)&(buff.fury_of_the_sun_king.down||action.pyroblast.executing)&buff.combustion.up&!buff.hot_streak.react&hot_streak_spells_in_flight+buff.heating_up.react*(gcd.remains>0)<2\n# Fire Blast usage for a TA combustion, when a regular combustion is soon to follow.\nactions.combustion_phase+=/fire_blast,use_off_gcd=1,use_while_casting=1,if=variable.ta_combust&!variable.fire_blast_pooling&charges_fractional>2.5&(!improved_scorch.active||action.scorch.executing||debuff.improved_scorch.remains>4*gcd.max)&(buff.fury_of_the_sun_king.down||action.pyroblast.executing)&buff.combustion.up&!buff.hot_streak.react&hot_streak_spells_in_flight+buff.heating_up.react*(gcd.remains>0)<2\n# Cancelaura HT if SKB is ready\nactions.combustion_phase+=/cancel_buff,name=hyperthermia,if=buff.fury_of_the_sun_king.react\n# Spend Hot Streaks during Combustion at high priority.\nactions.combustion_phase+=/flamestrike,if=(buff.hot_streak.up&active_enemies>=variable.combustion_flamestrike)||(buff.hyperthermia.up&active_enemies>=variable.combustion_flamestrike-talent.hyperthermia)\nactions.combustion_phase+=/pyroblast,if=buff.hyperthermia.up\nactions.combustion_phase+=/pyroblast,if=buff.hot_streak.up&buff.combustion.up\nactions.combustion_phase+=/pyroblast,if=prev_gcd.1.scorch&buff.heating_up.up&active_enemies<variable.combustion_flamestrike&buff.combustion.up\n# Spend Fury of the Sun King procs inside of combustion.\nactions.combustion_phase+=/flamestrike,if=buff.fury_of_the_sun_king.up&buff.fury_of_the_sun_king.remains>cast_time&active_enemies>=variable.skb_flamestrike&buff.fury_of_the_sun_king.expiration_delay_remains=0\nactions.combustion_phase+=/pyroblast,if=buff.fury_of_the_sun_king.up&buff.fury_of_the_sun_king.remains>cast_time&buff.fury_of_the_sun_king.expiration_delay_remains=0\nactions.combustion_phase+=/fireball,if=buff.frostfire_empowerment.up&!buff.hot_streak.up&!buff.excess_frost.up\nactions.combustion_phase+=/phoenix_flames,if=talent.phoenix_reborn&buff.heating_up.up+hot_streak_spells_in_flight<2&buff.flames_fury.up\nactions.combustion_phase+=/scorch,if=improved_scorch.active&(debuff.improved_scorch.remains<4*gcd.max)&active_enemies<variable.combustion_flamestrike\nactions.combustion_phase+=/scorch,if=buff.heat_shimmer.up&(talent.scald||talent.improved_scorch)&active_enemies<variable.combustion_flamestrike\n# Use Phoenix Flames and Scorch in Combustion to help generate Hot Streaks when Fire Blasts are not available or need to be conserved.\nactions.combustion_phase+=/phoenix_flames,if=(!talent.call_of_the_sun_king&travel_time<buff.combustion.remains||(talent.call_of_the_sun_king&buff.combustion.remains<4||buff.sun_kings_blessing.stack<8))&buff.heating_up.react+hot_streak_spells_in_flight<2\nactions.combustion_phase+=/fireball,if=buff.frostfire_empowerment.up&!buff.hot_streak.up\nactions.combustion_phase+=/scorch,if=buff.combustion.remains>cast_time&cast_time>=gcd.max\nactions.combustion_phase+=/fireball\n\n# Helper variable that contains the actual estimated time that the next Combustion will be ready.\nactions.combustion_timing+=/variable,use_off_gcd=1,use_while_casting=1,name=combustion_ready_time,value=cooldown.combustion.remains_expected\n# The cast time of the spell that will be precast into Combustion.\nactions.combustion_timing+=/variable,use_off_gcd=1,use_while_casting=1,name=combustion_precast_time,value=action.fireball.cast_time*(active_enemies<variable.combustion_flamestrike)+action.flamestrike.cast_time*(active_enemies>=variable.combustion_flamestrike)-variable.combustion_cast_remains\nactions.combustion_timing+=/variable,use_off_gcd=1,use_while_casting=1,name=time_to_combustion,value=variable.combustion_ready_time\n# Delay Combustion for after Firestarter unless variable.firestarter_combustion is set.\nactions.combustion_timing+=/variable,use_off_gcd=1,use_while_casting=1,name=time_to_combustion,op=max,value=firestarter.remains,if=talent.firestarter&!variable.firestarter_combustion\n# Delay Combustion until SKB is ready during Firestarter\nactions.combustion_timing+=/variable,use_off_gcd=1,use_while_casting=1,name=time_to_combustion,op=max,value=(buff.sun_kings_blessing.max_stack-buff.sun_kings_blessing.stack)*(3*gcd.max),if=talent.sun_kings_blessing&firestarter.active&buff.fury_of_the_sun_king.down\n# Delay Combustion for Gladiators Badge, unless it would be delayed longer than 20 seconds.\nactions.combustion_timing+=/variable,use_off_gcd=1,use_while_casting=1,name=time_to_combustion,op=max,value=cooldown.gladiators_badge.remains,if=equipped.gladiators_badge&cooldown.gladiators_badge.remains-20<variable.time_to_combustion\n# Delay Combustion until Combustion expires if it's up.\nactions.combustion_timing+=/variable,use_off_gcd=1,use_while_casting=1,name=time_to_combustion,op=max,value=buff.combustion.remains\n# Raid Events: Delay Combustion for add spawns of 3 or more adds that will last longer than 15 seconds. These values aren't necessarily optimal in all cases.\nactions.combustion_timing+=/variable,use_off_gcd=1,use_while_casting=1,name=time_to_combustion,op=max,value=raid_event.adds.in,if=raid_event.adds.exists&raid_event.adds.count>=3&raid_event.adds.duration>15\n# Raid Events: Always use Combustion with vulnerability raid events, override any delays listed above to make sure it gets used here.\nactions.combustion_timing+=/variable,use_off_gcd=1,use_while_casting=1,name=time_to_combustion,value=raid_event.vulnerable.in*!raid_event.vulnerable.up,if=raid_event.vulnerable.exists&variable.combustion_ready_time<raid_event.vulnerable.in\n# Use the next Combustion on cooldown if it would not be expected to delay the scheduled one or the scheduled one would happen less than 20 seconds before the fight ends.\nactions.combustion_timing+=/variable,use_off_gcd=1,use_while_casting=1,name=time_to_combustion,value=variable.combustion_ready_time,if=variable.combustion_ready_time+cooldown.combustion.duration*(1-(0.4+0.2*talent.firestarter)*talent.kindling)<=variable.time_to_combustion||variable.time_to_combustion>fight_remains-20\n\n# While casting Fireball or Pyroblast, convert Heating Up to a Hot Streak!\nactions.firestarter_fire_blasts+=/fire_blast,use_while_casting=1,if=!variable.fire_blast_pooling&!buff.hot_streak.up&(action.fireball.execute_remains>gcd.remains||action.pyroblast.executing)&buff.heating_up.up+hot_streak_spells_in_flight=1&(cooldown.shifting_power.ready||charges>1||buff.feel_the_burn.remains<2*gcd.max)\n# If not casting anything, use Fire Blast to trigger Hot Streak! only if Feel the Burn is talented and would expire before the GCD ends or if Shifting Power is available.\nactions.firestarter_fire_blasts+=/fire_blast,use_off_gcd=1,if=!variable.fire_blast_pooling&buff.heating_up.react+hot_streak_spells_in_flight=1&(talent.feel_the_burn&buff.feel_the_burn.remains<gcd.remains||cooldown.shifting_power.ready)&time>0\n\nactions.standard_rotation+=/flamestrike,if=active_enemies>=variable.hot_streak_flamestrike&(buff.hot_streak.up||buff.hyperthermia.up)\n# When resources are low, fish for Hot Streaks.\nactions.standard_rotation+=/fireball,if=buff.hot_streak.up&!buff.frostfire_empowerment.up&buff.hyperthermia.down&!cooldown.shifting_power.ready&cooldown.phoenix_flames.charges<1&!scorch_execute.active&!prev_gcd.1.fireball,line_cd=2*gcd.max\nactions.standard_rotation+=/pyroblast,if=(buff.hyperthermia.up||buff.hot_streak.up&(buff.hot_streak.remains<action.fireball.execute_time)||buff.hot_streak.up&(hot_streak_spells_in_flight||firestarter.active||talent.call_of_the_sun_king&action.phoenix_flames.charges)||buff.hot_streak.up&scorch_execute.active)\nactions.standard_rotation+=/flamestrike,if=active_enemies>=variable.skb_flamestrike&buff.fury_of_the_sun_king.up&buff.fury_of_the_sun_king.expiration_delay_remains=0\nactions.standard_rotation+=/scorch,if=improved_scorch.active&debuff.improved_scorch.remains<action.pyroblast.cast_time+5*gcd.max&buff.fury_of_the_sun_king.up&!action.scorch.in_flight\nactions.standard_rotation+=/pyroblast,if=buff.fury_of_the_sun_king.up&buff.fury_of_the_sun_king.expiration_delay_remains=0\n# During the standard rotation, only use Fire Blasts when they are not being pooled for  Combustion. Use Fire Blast either during a Fireball/Pyroblast cast when Heating Up is active or during execute with Searing Touch.\nactions.standard_rotation+=/fire_blast,use_off_gcd=1,use_while_casting=1,if=!firestarter.active&(!variable.fire_blast_pooling||talent.spontaneous_combustion)&buff.fury_of_the_sun_king.down&(((action.fireball.executing&(action.fireball.execute_remains<0.5||!talent.hyperthermia)||action.pyroblast.executing&(action.pyroblast.execute_remains<0.5))&buff.heating_up.react)||(scorch_execute.active&(!improved_scorch.active||debuff.improved_scorch.stack=debuff.improved_scorch.max_stack||full_recharge_time<3)&(buff.heating_up.react&!action.scorch.executing||!buff.hot_streak.react&!buff.heating_up.react&action.scorch.executing&!hot_streak_spells_in_flight)))\n We will munch Fireblasts during Hyperthermia, and use them after instant casts in filler.\nactions.standard_rotation+=/fire_blast,use_off_gcd=1,use_while_casting=1,if=!firestarter.active&(!variable.fire_blast_pooling||talent.spontaneous_combustion)&buff.fury_of_the_sun_king.down&(buff.heating_up.up&hot_streak_spells_in_flight<1&(prev_gcd.1.phoenix_flames||prev_gcd.1.scorch))||(((buff.bloodlust.up&charges_fractional>1.5)||charges_fractional>2.5||buff.feel_the_burn.remains<0.5||full_recharge_time*1-(0.5*cooldown.shifting_power.ready)<buff.hyperthermia.duration)&buff.heating_up.react)\n## actions.standard_rotation+=/pyroblast,if=prev_gcd.1.scorch&buff.heating_up.up&scorch_execute.active&active_enemies<variable.hot_streak_flamestrike\nactions.standard_rotation+=/scorch,if=improved_scorch.active&debuff.improved_scorch.remains<gcd.max\nactions.standard_rotation+=/fireball,if=buff.frostfire_empowerment.up&!buff.hot_streak.up&!buff.excess_frost.up\nactions.standard_rotation+=/scorch,if=buff.heat_shimmer.react&(talent.scald||talent.improved_scorch)&active_enemies<variable.combustion_flamestrike\nactions.standard_rotation+=/phoenix_flames,if=!buff.hot_streak.up&(hot_streak_spells_in_flight<1&(!prev_gcd.1.fireball||(buff.heating_up.down&buff.hot_streak.down)))||(hot_streak_spells_in_flight<2&buff.flames_fury.react)\nactions.standard_rotation+=/call_action_list,name=active_talents\nactions.standard_rotation+=/dragons_breath,if=active_enemies>1&talent.alexstraszas_fury\nactions.standard_rotation+=/scorch,if=(scorch_execute.active||buff.heat_shimmer.up)\nactions.standard_rotation+=/arcane_explosion,if=active_enemies>=variable.arcane_explosion&mana.pct>=variable.arcane_explosion_mana\n# With enough targets, it is a gain to cast Flamestrike as filler instead of Fireball. This is currently never true up to 10t.\nactions.standard_rotation+=/flamestrike,if=active_enemies>=variable.hard_cast_flamestrike\nactions.standard_rotation+=/fireball",
				["spec"] = 63,
			},
			["Arcane"] = {
				["source"] = "https://github.com/simulationcraft/simc/",
				["builtIn"] = true,
				["date"] = 20240910.1,
				["spec"] = 62,
				["desc"] = "2024-09-10: Tweak opener\n\n2024-09-01, 09-03, 09-08: SimC update\n\n2024-08-29: SimC update\n\n2024-07-28: The War Within",
				["lists"] = {
					["cd_opener"] = {
						{
							["enabled"] = true,
							["criteria"] = "( prev_gcd.1.arcane_barrage & ( action.arcane_barrage.in_flight_remains <= 0.5 || gcd.remains <= 0.5 ) & ( buff.arcane_surge.up || cooldown.arcane_surge.remains > 30 ) ) || ( prev_gcd.1.arcane_surge & buff.arcane_charge.stack < 4 )",
							["use_off_gcd"] = 1,
							["action"] = "touch_of_the_magi",
							["description"] = "Touch of the Magi used when Arcane Barrage is mid-flight or if you just used Arcane Surge and you don't have 4 Arcane Charges, the wait simulates the time it takes to queue another spell after Touch when you Surge into Touch",
						},
						{
							["enabled"] = true,
							["criteria"] = "buff.presence_of_mind.up",
							["action"] = "arcane_blast",
						},
						{
							["enabled"] = true,
							["criteria"] = "talent.high_voltage.enabled & buff.arcane_charge.stack < 4",
							["line_cd"] = "10",
							["action"] = "arcane_orb",
							["description"] = "Use Orb for charges if you have High Voltage, then evocation, then Missiles for Nether Precision, then Arcane Surge",
						},
						{
							["enabled"] = true,
							["criteria"] = "cooldown.arcane_surge.remains < ( gcd.max * 3 ) & cooldown.touch_of_the_magi.remains < ( gcd.max * 5 )",
							["action"] = "evocation",
						},
						{
							["enabled"] = true,
							["action"] = "arcane_missiles",
							["chain"] = "1",
							["line_cd"] = "30",
							["interrupt_if"] = "tick_time>gcd.remains&buff.aether_attunement.down",
							["interrupt_immediate"] = "1",
							["criteria"] = "variable.opener & talent.nether_precision.enabled & buff.nether_precision.down",
							["interrupt_global"] = "1",
						},
						{
							["enabled"] = true,
							["criteria"] = "cooldown.touch_of_the_magi.remains < ( action.arcane_surge.execute_time + ( gcd.max * ( buff.arcane_charge.stack = 4 ) ) )",
							["action"] = "arcane_surge",
						},
					},
					["default"] = {
						{
							["action"] = "counterspell",
							["enabled"] = true,
						},
						{
							["action"] = "spellsteal",
							["enabled"] = true,
						},
						{
							["enabled"] = true,
							["criteria"] = "! equipped.spymasters_web & ( buff.siphon_storm.up || ( ! talent.evocation.enabled & cooldown.arcane_surge.ready ) ) || buff.spymasters_web.up",
							["action"] = "potion",
						},
						{
							["enabled"] = true,
							["criteria"] = "( buff.arcane_surge.down & debuff.touch_of_the_magi.down & active_enemies >= 2 )",
							["action"] = "lights_judgment",
						},
						{
							["enabled"] = true,
							["criteria"] = "( prev_gcd.1.arcane_surge & variable.opener ) || ( ( prev_gcd.1.arcane_surge & ( fight_remains < 80 || target.health.pct < 35 || ! talent.arcane_bombardment.enabled ) ) || ( prev_gcd.1.arcane_surge & ! equipped.spymasters_web ) )",
							["action"] = "berserking",
						},
						{
							["enabled"] = true,
							["criteria"] = "( prev_gcd.1.arcane_surge & variable.opener ) || ( ( prev_gcd.1.arcane_surge & ( fight_remains < 80 || target.health.pct < 35 || ! talent.arcane_bombardment.enabled ) ) || ( prev_gcd.1.arcane_surge & ! equipped.spymasters_web ) )",
							["action"] = "blood_fury",
						},
						{
							["enabled"] = true,
							["criteria"] = "( prev_gcd.1.arcane_surge & variable.opener ) || ( ( prev_gcd.1.arcane_surge & ( fight_remains < 80 || target.health.pct < 35 || ! talent.arcane_bombardment.enabled ) ) || ( prev_gcd.1.arcane_surge & ! equipped.spymasters_web ) )",
							["action"] = "fireblood",
						},
						{
							["enabled"] = true,
							["criteria"] = "( prev_gcd.1.arcane_surge & variable.opener ) || ( ( prev_gcd.1.arcane_surge & ( fight_remains < 80 || target.health.pct < 35 || ! talent.arcane_bombardment.enabled ) ) || ( prev_gcd.1.arcane_surge & ! equipped.spymasters_web ) )",
							["action"] = "ancestral_call",
						},
						{
							["enabled"] = true,
							["action"] = "use_items",
							["description"] = "Trinket specific use cases vary, default is just with cooldowns",
							["criteria"] = "prev_gcd.1.arcane_surge || prev_gcd.1.evocation || fight_remains < 20 || ! variable.steroid_trinket_equipped",
						},
						{
							["enabled"] = true,
							["action"] = "spymasters_web",
							["criteria"] = "( prev_gcd.1.arcane_surge || prev_gcd.1.evocation ) & ( fight_remains < 80 || target.health.pct < 35 || ! talent.arcane_bombardment.enabled || ( buff.spymasters_report.stack = 40 & fight_remains > 240 ) ) || boss & fight_remains < 20",
							["name"] = "spymasters_web",
						},
						{
							["enabled"] = true,
							["action"] = "high_speakers_accretion",
							["criteria"] = "( prev_gcd.1.arcane_surge || prev_gcd.1.evocation ) || cooldown.evocation.remains < 4 || boss & fight_remains < 20",
							["name"] = "high_speakers_accretion",
						},
						{
							["enabled"] = false,
							["criteria"] = "cooldown.evocation.ready || cooldown.arcane_surge.ready || boss & fight_remains < 20",
							["name"] = "imperfect_ascendancy_serum",
						},
						{
							["enabled"] = true,
							["action"] = "treacherous_transmitter",
							["criteria"] = "buff.arcane_surge.remains > 13 || prev_gcd.1.evocation || cooldown.arcane_surge.remains < 10 || boss & fight_remains < 20",
							["name"] = "treacherous_transmitter",
						},
						{
							["enabled"] = true,
							["action"] = "aberrant_spellforge",
							["criteria"] = "! variable.steroid_trinket_equipped || buff.siphon_storm.down || ( equipped.spymasters_web & target.health.pct > 35 )",
							["name"] = "aberrant_spellforge",
						},
						{
							["enabled"] = true,
							["criteria"] = "boss & fight_remains < 2",
							["action"] = "arcane_barrage",
						},
						{
							["enabled"] = true,
							["action"] = "call_action_list",
							["description"] = "Enter cooldowns, then action list depending on your hero talent choices",
							["criteria"] = "variable.opener",
							["list_name"] = "cd_opener",
						},
						{
							["enabled"] = true,
							["action"] = "call_action_list",
							["strict"] = 1,
							["criteria"] = "active_enemies >= ( variable.aoe_target_count + talent.impetus.enabled ) & ! talent.spellfire_spheres.enabled",
							["list_name"] = "spellslinger_aoe",
						},
						{
							["enabled"] = true,
							["action"] = "call_action_list",
							["strict"] = 1,
							["criteria"] = "talent.spellfire_spheres.enabled",
							["list_name"] = "sunfury",
						},
						{
							["enabled"] = true,
							["action"] = "call_action_list",
							["strict"] = 1,
							["criteria"] = "! talent.spellfire_spheres.enabled",
							["list_name"] = "spellslinger",
						},
						{
							["action"] = "arcane_barrage",
							["enabled"] = true,
						},
					},
					["precombat"] = {
						{
							["action"] = "arcane_intellect",
							["enabled"] = true,
						},
						{
							["enabled"] = true,
							["op"] = "reset",
							["action"] = "variable",
							["var_name"] = "aoe_target_count",
							["default"] = "2",
						},
						{
							["enabled"] = true,
							["op"] = "set",
							["action"] = "variable",
							["value"] = "9",
							["criteria"] = "! talent.arcing_cleave.enabled",
							["var_name"] = "aoe_target_count",
						},
						{
							["enabled"] = true,
							["op"] = "set",
							["action"] = "variable",
							["value"] = "( cooldown.touch_of_the_magi.up ) & ( cooldown.arcane_surge.up || action.arcane_surge.time_since < 5 || cooldown.arcane_surge.remains > 15 ) & ( cooldown.evocation.up || action.evocation.time_since < 5 || cooldown.evocation.remains > 15 )",
							["var_name"] = "opener",
						},
						{
							["enabled"] = true,
							["op"] = "set",
							["action"] = "variable",
							["value"] = "1",
							["criteria"] = "talent.high_voltage.enabled",
							["var_name"] = "alt_rotation",
						},
						{
							["enabled"] = true,
							["op"] = "set",
							["action"] = "variable",
							["value"] = "equipped.gladiators_badge || equipped.signet_of_the_priory || equipped.high_speakers_accretion || equipped.spymasters_web || equipped.treacherous_transmitter || equipped.imperfect_ascendancy_serum",
							["description"] = "Variable indicates use of a trinket that boosts stats during burst",
							["var_name"] = "steroid_trinket_equipped",
						},
						{
							["action"] = "mirror_image",
							["enabled"] = true,
						},
						{
							["enabled"] = true,
							["criteria"] = "! talent.evocation.enabled",
							["action"] = "arcane_blast",
						},
						{
							["enabled"] = true,
							["criteria"] = "talent.evocation.enabled",
							["action"] = "evocation",
						},
					},
					["sunfury"] = {
						{
							["enabled"] = true,
							["action"] = "shifting_power",
							["description"] = "For Sunfury, Shifting Power only when you're not under the effect of any cooldowns",
							["criteria"] = "( ( buff.arcane_surge.down & buff.siphon_storm.down & debuff.touch_of_the_magi.down & cooldown.evocation.remains > 15 & cooldown.touch_of_the_magi.remains > 10 ) & fight_remains > 10 ) & ( buff.arcane_soul.down )",
						},
						{
							["enabled"] = true,
							["action"] = "cancel_buff",
							["use_off_gcd"] = 1,
							["criteria"] = "settings.cancel_pom & ( ( debuff.magis_spark_arcane_blast.up ) || ( ( prev_gcd.1.arcane_blast & buff.presence_of_mind.stack = 1 ) || active_enemies < 4 ) )",
							["buff_name"] = "presence_of_mind",
						},
						{
							["enabled"] = true,
							["criteria"] = "debuff.touch_of_the_magi.remains <= gcd.max & buff.nether_precision.up & active_enemies < 4",
							["action"] = "presence_of_mind",
						},
						{
							["enabled"] = true,
							["action"] = "arcane_barrage",
							["description"] = "AOE Barrage is optimized for funnel at the cost of some overall AOE, tries to make sure you have Clearcasting if you have High Voltage or an Orb charge ready",
							["criteria"] = "( ( buff.arcane_charge.stack = 4 & ( buff.nether_precision.stack = 2 ) & active_enemies >= ( 5 - ( 2 * ( talent.arcane_bombardment.enabled & target.health.pct < 35 ) ) ) & talent.arcing_cleave.enabled & ( ( talent.high_voltage.enabled & buff.clearcasting.react ) || ( cooldown.arcane_orb.remains < gcd.max || action.arcane_orb.charges > 0 ) ) ) ) || ( buff.aether_attunement.up & talent.high_voltage.enabled & buff.clearcasting.react & buff.arcane_charge.stack > 1 & active_enemies > 1 )",
						},
						{
							["enabled"] = true,
							["action"] = "arcane_orb",
							["description"] = "Orb if you don't have High Voltage and a Clearcasting in AOE",
							["criteria"] = "buff.arcane_charge.stack < 2 & buff.arcane_soul.down & ( ! talent.high_voltage.enabled || buff.clearcasting.react = 0 )",
						},
						{
							["enabled"] = true,
							["action"] = "arcane_barrage",
							["description"] = "Barrage whenever Intuition/Incandescence and NP is up, double dipping if 1 stack, or just sending it if you dont have Clearcasting, also Barrage during Arcane Soul as long as you don't cap on Clearcasting procs, or if Touch is ready",
							["criteria"] = "( ( buff.glorious_incandescence.up || buff.intuition.react ) & ( buff.nether_precision.stack = 2 || ( buff.nether_precision.down & buff.clearcasting.react = 0 ) ) ) || ( buff.arcane_soul.up & ( ( buff.clearcasting.react < 3 ) || buff.arcane_soul.remains < gcd.max ) ) || ( buff.arcane_charge.stack = 4 & ( cooldown.touch_of_the_magi.ready || ( buff.burden_of_power.up & buff.nether_precision.up ) ) )",
						},
						{
							["enabled"] = true,
							["criteria"] = "buff.clearcasting.react & ( ( buff.nether_precision.down || ( buff.clearcasting.react = 3 ) || ( talent.high_voltage.enabled & buff.arcane_charge.stack < 3 ) ) )",
							["description"] = "Missiles when it won't impact various Barrage conditions, interrupt the channel immediately after the GCD but not if you have Aether Attunement",
							["action"] = "arcane_missiles",
							["interrupt_immediate"] = "1",
							["chain"] = "1",
							["interrupt_global"] = "1",
						},
						{
							["enabled"] = true,
							["criteria"] = "( buff.arcane_charge.stack = 3 || buff.arcane_charge.stack = 2 ) & active_enemies >= 3",
							["action"] = "presence_of_mind",
						},
						{
							["enabled"] = true,
							["action"] = "arcane_explosion",
							["description"] = "Explosion to build the first charge if you have 0",
							["criteria"] = "( talent.reverberate.enabled || buff.arcane_charge.stack < 1 ) & active_enemies >= 4",
						},
						{
							["action"] = "arcane_blast",
							["enabled"] = true,
						},
						{
							["action"] = "arcane_barrage",
							["enabled"] = true,
						},
					},
					["spellslinger_aoe"] = {
						{
							["enabled"] = true,
							["criteria"] = "buff.unerring_proficiency.stack = 30",
							["action"] = "supernova",
						},
						{
							["enabled"] = true,
							["action"] = "cancel_buff",
							["use_off_gcd"] = 1,
							["criteria"] = "settings.cancel_pom & ( debuff.magis_spark_arcane_blast.up )",
							["buff_name"] = "presence_of_mind",
						},
						{
							["enabled"] = true,
							["action"] = "shifting_power",
							["description"] = "Use Shifting Power whenever as long as you'll get some cooldown reduction on your cds, especially if you get a Time Anomaly proc, this usually works out to just using it off cooldown",
							["criteria"] = "( prev_gcd.1.arcane_barrage & ( buff.arcane_surge.up || debuff.touch_of_the_magi.up || cooldown.evocation.remains < 20 ) & talent.shifting_shards.enabled )",
						},
						{
							["enabled"] = true,
							["criteria"] = "buff.arcane_charge.stack < 2",
							["action"] = "arcane_orb",
						},
						{
							["enabled"] = true,
							["action"] = "arcane_blast",
							["description"] = "Blast in AOE for Magi's Spark",
							["criteria"] = "( debuff.magis_spark_arcane_blast.up )",
						},
						{
							["enabled"] = true,
							["criteria"] = "( talent.arcane_tempo.enabled & buff.arcane_tempo.remains < gcd.max ) || ( ( buff.intuition.up & ( buff.arcane_charge.stack = 4 || ! talent.high_voltage.enabled ) ) & buff.nether_precision.up ) || ( buff.nether_precision.up & action.arcane_blast.executing )",
							["action"] = "arcane_barrage",
						},
						{
							["enabled"] = true,
							["action"] = "arcane_missiles",
							["description"] = "Clearcasting is exclusively spent on Arcane Missiles in AOE and always interrupted after the global cooldown ends except for Aether Attunement",
							["criteria"] = "buff.clearcasting.up & ( ( talent.high_voltage.enabled & buff.arcane_charge.stack < 4 ) || buff.nether_precision.down )",
							["interrupt_if"] = "tick_time>gcd.remains&buff.aether_attunement.down",
							["interrupt_immediate"] = "1",
							["chain"] = "1",
							["interrupt_global"] = "1",
						},
						{
							["enabled"] = true,
							["action"] = "presence_of_mind",
							["description"] = "Only use Presence of Mind at low charges, use these to get to 4 Charges, but cancelaura the buff if you need to queue Arcane Barrage",
							["criteria"] = "buff.arcane_charge.stack = 3 || buff.arcane_charge.stack = 2",
						},
						{
							["enabled"] = true,
							["criteria"] = "( buff.arcane_charge.stack = 4 )",
							["action"] = "arcane_barrage",
						},
						{
							["action"] = "arcane_explosion",
							["enabled"] = true,
						},
					},
					["spellslinger"] = {
						{
							["enabled"] = true,
							["criteria"] = "( ( buff.arcane_surge.down & buff.siphon_storm.down & debuff.touch_of_the_magi.down & cooldown.evocation.remains > 15 & cooldown.touch_of_the_magi.remains > 10 ) & ( cooldown.arcane_orb.remains & action.arcane_orb.charges = 0 ) & fight_remains > 10 ) || ( prev_gcd.1.arcane_barrage & ( buff.arcane_surge.up || debuff.touch_of_the_magi.up || cooldown.evocation.remains < 20 ) )",
							["action"] = "shifting_power",
						},
						{
							["enabled"] = true,
							["action"] = "cancel_buff",
							["use_off_gcd"] = 1,
							["criteria"] = "settings.cancel_pom & prev_gcd.1.arcane_blast & buff.presence_of_mind.stack = 1",
							["description"] = "In single target, use Presence of Mind at the very end of Touch of the Magi, then cancelaura the buff to start the cooldown, wait is to simulate the delay of hitting Presence of Mind after another spell cast",
							["buff_name"] = "presence_of_mind",
						},
						{
							["enabled"] = true,
							["criteria"] = "debuff.touch_of_the_magi.remains <= gcd.max & buff.nether_precision.up & active_enemies < variable.aoe_target_count & ! talent.unerring_proficiency.enabled",
							["action"] = "presence_of_mind",
						},
						{
							["enabled"] = true,
							["criteria"] = "debuff.touch_of_the_magi.remains <= gcd.max & buff.unerring_proficiency.stack = 30",
							["action"] = "supernova",
						},
						{
							["enabled"] = true,
							["action"] = "arcane_barrage",
							["description"] = "Always queue Arcane Barrage on the second stack of Nether Precision",
							["criteria"] = "( buff.nether_precision.stack = 2 ) || ( cooldown.touch_of_the_magi.ready ) || ( talent.arcane_tempo.enabled & buff.arcane_tempo.remains < gcd.max )",
						},
						{
							["enabled"] = true,
							["action"] = "arcane_missiles",
							["description"] = "Missiles if you dont have Nether Precision or if you have 3 stacks to prevent munching, always clip off GCD unless you have Aether Attunement",
							["criteria"] = "( buff.clearcasting.up & buff.nether_precision.down ) || buff.clearcasting.stack = 3",
							["interrupt_if"] = "tick_time>gcd.remains&buff.aether_attunement.down",
							["interrupt_immediate"] = "1",
							["chain"] = "1",
							["interrupt_global"] = "1",
						},
						{
							["enabled"] = true,
							["criteria"] = "buff.arcane_charge.stack < 2",
							["action"] = "arcane_orb",
						},
						{
							["action"] = "arcane_blast",
							["enabled"] = true,
						},
						{
							["action"] = "arcane_barrage",
							["enabled"] = true,
						},
					},
				},
				["version"] = 20240910.1,
				["warnings"] = "The import for 'cd_opener' required some automated changes.\nLine 3: Converted 'talent.high_voltage' to 'talent.high_voltage.enabled' (1x).\nLine 5: Converted 'talent.nether_precision' to 'talent.nether_precision.enabled' (1x).\n\nThe import for 'default' required some automated changes.\nLine 3: Converted 'talent.evocation' to 'talent.evocation.enabled' (1x).\nLine 5: Converted 'talent.arcane_bombardment' to 'talent.arcane_bombardment.enabled' (1x).\nLine 6: Converted 'talent.arcane_bombardment' to 'talent.arcane_bombardment.enabled' (1x).\nLine 7: Converted 'talent.arcane_bombardment' to 'talent.arcane_bombardment.enabled' (1x).\nLine 8: Converted 'talent.arcane_bombardment' to 'talent.arcane_bombardment.enabled' (1x).\nLine 10: Converted 'talent.arcane_bombardment' to 'talent.arcane_bombardment.enabled' (1x).\nLine 12: Unsupported use_item action [ imperfect_ascendancy_serum]; entry disabled.\nLine 17: Converted 'talent.impetus' to 'talent.impetus.enabled' (1x).\nLine 17: Converted 'talent.spellfire_spheres' to 'talent.spellfire_spheres.enabled' (1x).\nLine 18: Converted 'talent.spellfire_spheres' to 'talent.spellfire_spheres.enabled' (1x).\nLine 19: Converted 'talent.spellfire_spheres' to 'talent.spellfire_spheres.enabled' (1x).\n\nThe import for 'precombat' required some automated changes.\nLine 3: Converted 'talent.arcing_cleave' to 'talent.arcing_cleave.enabled' (1x).\nLine 5: Converted 'talent.high_voltage' to 'talent.high_voltage.enabled' (1x).\nLine 8: Converted 'talent.evocation' to 'talent.evocation.enabled' (1x).\nLine 9: Converted 'talent.evocation' to 'talent.evocation.enabled' (1x).\n\nThe import for 'sunfury' required some automated changes.\nLine 4: Converted 'talent.arcane_bombardment' to 'talent.arcane_bombardment.enabled' (1x).\nLine 4: Converted 'talent.arcing_cleave' to 'talent.arcing_cleave.enabled' (1x).\nLine 4: Converted 'talent.high_voltage' to 'talent.high_voltage.enabled' (1x).\nLine 4: Converted 'talent.high_voltage' to 'talent.high_voltage.enabled' (1x).\nLine 5: Converted 'talent.high_voltage' to 'talent.high_voltage.enabled' (1x).\nLine 9: Converted 'talent.reverberate' to 'talent.reverberate.enabled' (1x).\n\nThe import for 'spellslinger_aoe' required some automated changes.\nLine 3: Converted 'talent.shifting_shards' to 'talent.shifting_shards.enabled' (1x).\nLine 6: Converted 'talent.arcane_tempo' to 'talent.arcane_tempo.enabled' (1x).\nLine 6: Converted 'talent.high_voltage' to 'talent.high_voltage.enabled' (1x).\nLine 7: Converted 'talent.high_voltage' to 'talent.high_voltage.enabled' (1x).\n\nThe import for 'spellslinger' required some automated changes.\nLine 3: Converted 'talent.unerring_proficiency' to 'talent.unerring_proficiency.enabled' (1x).\nLine 5: Converted 'talent.arcane_tempo' to 'talent.arcane_tempo.enabled' (1x).\n\nImported 6 action lists.\n",
				["author"] = "SimulationCraft",
				["profile"] = "actions.precombat+=/arcane_intellect\nactions.precombat+=/variable,name=aoe_target_count,op=reset,default=2\nactions.precombat+=/variable,name=aoe_target_count,op=set,value=9,if=!talent.arcing_cleave\n#Hacky way to keep the CD opener rotation intact\nactions.precombat+=/variable,name=opener,op=set,value=(cooldown.touch_of_the_magi.up)&(cooldown.arcane_surge.up||action.arcane_surge.time_since<5||cooldown.arcane_surge.remains>15)&(cooldown.evocation.up||action.evocation.time_since<5||cooldown.evocation.remains>15)\nactions.precombat+=/variable,name=alt_rotation,op=set,if=talent.high_voltage,value=1\n# Variable indicates use of a trinket that boosts stats during burst\nactions.precombat+=/variable,name=steroid_trinket_equipped,op=set,value=equipped.gladiators_badge||equipped.signet_of_the_priory||equipped.high_speakers_accretion||equipped.spymasters_web||equipped.treacherous_transmitter||equipped.imperfect_ascendancy_serum\nactions.precombat+=/mirror_image\nactions.precombat+=/arcane_blast,if=!talent.evocation\nactions.precombat+=/evocation,if=talent.evocation\n\nactions+=/counterspell\nactions+=/spellsteal\nactions+=/potion,if=!equipped.spymasters_web&(buff.siphon_storm.up||(!talent.evocation&cooldown.arcane_surge.ready))||buff.spymasters_web.up\nactions+=/lights_judgment,if=(buff.arcane_surge.down&debuff.touch_of_the_magi.down&active_enemies>=2)\nactions+=/berserking,if=(prev_gcd.1.arcane_surge&variable.opener)||((prev_gcd.1.arcane_surge&(fight_remains<80||target.health.pct<35||!talent.arcane_bombardment))||(prev_gcd.1.arcane_surge&!equipped.spymasters_web))\nactions+=/blood_fury,if=(prev_gcd.1.arcane_surge&variable.opener)||((prev_gcd.1.arcane_surge&(fight_remains<80||target.health.pct<35||!talent.arcane_bombardment))||(prev_gcd.1.arcane_surge&!equipped.spymasters_web))\nactions+=/fireblood,if=(prev_gcd.1.arcane_surge&variable.opener)||((prev_gcd.1.arcane_surge&(fight_remains<80||target.health.pct<35||!talent.arcane_bombardment))||(prev_gcd.1.arcane_surge&!equipped.spymasters_web))\nactions+=/ancestral_call,if=(prev_gcd.1.arcane_surge&variable.opener)||((prev_gcd.1.arcane_surge&(fight_remains<80||target.health.pct<35||!talent.arcane_bombardment))||(prev_gcd.1.arcane_surge&!equipped.spymasters_web))\n### Invoke Externals with cooldowns except Autumn which should come just after cooldowns\n## actions+=/invoke_external_buff,name=power_infusion,if=(!equipped.spymasters_web&prev_gcd.1.arcane_surge)||(equipped.spymasters_web&prev_gcd.1.evocation)\n## actions+=/invoke_external_buff,name=blessing_of_summer,if=prev_gcd.1.arcane_surge\n## actions+=/invoke_external_buff,name=blessing_of_autumn,if=cooldown.touch_of_the_magi.remains>5\n# Trinket specific use cases vary, default is just with cooldowns\nactions+=/use_items,if=prev_gcd.1.arcane_surge||prev_gcd.1.evocation||fight_remains<20||!variable.steroid_trinket_equipped\nactions+=/use_item,name=spymasters_web,if=(prev_gcd.1.arcane_surge||prev_gcd.1.evocation)&(fight_remains<80||target.health.pct<35||!talent.arcane_bombardment||(buff.spymasters_report.stack=40&fight_remains>240))||boss&fight_remains<20\nactions+=/use_item,name=high_speakers_accretion,if=(prev_gcd.1.arcane_surge||prev_gcd.1.evocation)||cooldown.evocation.remains<4||boss&fight_remains<20\nactions+=/use_item,name=imperfect_ascendancy_serum,if=cooldown.evocation.ready||cooldown.arcane_surge.ready||boss&fight_remains<20\nactions+=/use_item,name=treacherous_transmitter,if=buff.arcane_surge.remains>13||prev_gcd.1.evocation||cooldown.arcane_surge.remains<10||boss&fight_remains<20\n## actions+=/do_treacherous_transmitter_task,use_off_gcd=1,if=buff.arcane_surge.remains>13||fight_remains<20\nactions+=/use_item,name=aberrant_spellforge,if=!variable.steroid_trinket_equipped||buff.siphon_storm.down||(equipped.spymasters_web&target.health.pct>35)\n## actions+=/use_item,name=mad_queens_mandate,if=!variable.steroid_trinket_equipped||buff.siphon_storm.down\n## actions+=/use_item,name=fearbreakers_echo,if=!variable.steroid_trinket_equipped||buff.siphon_storm.down\n## actions+=/use_item,name=mereldars_toll,if=!variable.steroid_trinket_equipped||buff.siphon_storm.down\nactions+=/arcane_barrage,if=boss&fight_remains<2\n# Enter cooldowns, then action list depending on your hero talent choices\nactions+=/call_action_list,name=cd_opener,if=variable.opener\nactions+=/call_action_list,name=spellslinger_aoe,strict=1,if=active_enemies>=(variable.aoe_target_count+talent.impetus)&!talent.spellfire_spheres\nactions+=/call_action_list,name=sunfury,strict=1,if=talent.spellfire_spheres\nactions+=/call_action_list,name=spellslinger,strict=1,if=!talent.spellfire_spheres\nactions+=/arcane_barrage\n\n# Touch of the Magi used when Arcane Barrage is mid-flight or if you just used Arcane Surge and you don't have 4 Arcane Charges, the wait simulates the time it takes to queue another spell after Touch when you Surge into Touch\nactions.cd_opener+=/touch_of_the_magi,use_off_gcd=1,if=(prev_gcd.1.arcane_barrage&(action.arcane_barrage.in_flight_remains<=0.5||gcd.remains<=0.5)&(buff.arcane_surge.up||cooldown.arcane_surge.remains>30))||(prev_gcd.1.arcane_surge&buff.arcane_charge.stack<4)\n## actions.cd_opener+=/wait,sec=0.05,if=prev_gcd.1.arcane_surge&time-action.touch_of_the_magi.last_used<0.015,line_cd=15\nactions.cd_opener+=/arcane_blast,if=buff.presence_of_mind.up\n# Use Orb for charges if you have High Voltage, then evocation, then Missiles for Nether Precision, then Arcane Surge\nactions.cd_opener+=/arcane_orb,if=talent.high_voltage&buff.arcane_charge.stack<4,line_cd=10\nactions.cd_opener+=/evocation,if=cooldown.arcane_surge.remains<(gcd.max*3)&cooldown.touch_of_the_magi.remains<(gcd.max*5)\nactions.cd_opener+=/arcane_missiles,if=variable.opener&talent.nether_precision&buff.nether_precision.down,interrupt_if=tick_time>gcd.remains&buff.aether_attunement.down,interrupt_immediate=1,interrupt_global=1,chain=1,line_cd=30\nactions.cd_opener+=/arcane_surge,if=cooldown.touch_of_the_magi.remains<(action.arcane_surge.execute_time+(gcd.max*(buff.arcane_charge.stack=4)))\n\nactions.spellslinger_aoe+=/supernova,if=buff.unerring_proficiency.stack=30\nactions.spellslinger_aoe+=/cancel_buff,name=presence_of_mind,use_off_gcd=1,if=settings.cancel_pom&(debuff.magis_spark_arcane_blast.up)\n# Use Shifting Power whenever as long as you'll get some cooldown reduction on your cds, especially if you get a Time Anomaly proc, this usually works out to just using it off cooldown\nactions.spellslinger_aoe+=/shifting_power,if=(prev_gcd.1.arcane_barrage&(buff.arcane_surge.up||debuff.touch_of_the_magi.up||cooldown.evocation.remains<20)&talent.shifting_shards)\nactions.spellslinger_aoe+=/arcane_orb,if=buff.arcane_charge.stack<2\n# Blast in AOE for Magi's Spark\nactions.spellslinger_aoe+=/arcane_blast,if=(debuff.magis_spark_arcane_blast.up)\nactions.spellslinger_aoe+=/arcane_barrage,if=(talent.arcane_tempo&buff.arcane_tempo.remains<gcd.max)||((buff.intuition.up&(buff.arcane_charge.stack=4||!talent.high_voltage))&buff.nether_precision.up)||(buff.nether_precision.up&action.arcane_blast.executing)\n# Clearcasting is exclusively spent on Arcane Missiles in AOE and always interrupted after the global cooldown ends except for Aether Attunement\nactions.spellslinger_aoe+=/arcane_missiles,if=buff.clearcasting.up&((talent.high_voltage&buff.arcane_charge.stack<4)||buff.nether_precision.down),interrupt_if=tick_time>gcd.remains&buff.aether_attunement.down,interrupt_immediate=1,interrupt_global=1,chain=1\n# Only use Presence of Mind at low charges, use these to get to 4 Charges, but cancelaura the buff if you need to queue Arcane Barrage\nactions.spellslinger_aoe+=/presence_of_mind,if=buff.arcane_charge.stack=3||buff.arcane_charge.stack=2\nactions.spellslinger_aoe+=/arcane_barrage,if=(buff.arcane_charge.stack=4)\nactions.spellslinger_aoe+=/arcane_explosion\n\nactions.spellslinger+=/shifting_power,if=((buff.arcane_surge.down&buff.siphon_storm.down&debuff.touch_of_the_magi.down&cooldown.evocation.remains>15&cooldown.touch_of_the_magi.remains>10)&(cooldown.arcane_orb.remains&action.arcane_orb.charges=0)&fight_remains>10)||(prev_gcd.1.arcane_barrage&(buff.arcane_surge.up||debuff.touch_of_the_magi.up||cooldown.evocation.remains<20))\n# In single target, use Presence of Mind at the very end of Touch of the Magi, then cancelaura the buff to start the cooldown, wait is to simulate the delay of hitting Presence of Mind after another spell cast\nactions.spellslinger+=/cancel_buff,name=presence_of_mind,use_off_gcd=1,if=settings.cancel_pom&prev_gcd.1.arcane_blast&buff.presence_of_mind.stack=1\nactions.spellslinger+=/presence_of_mind,if=debuff.touch_of_the_magi.remains<=gcd.max&buff.nether_precision.up&active_enemies<variable.aoe_target_count&!talent.unerring_proficiency\n## actions.spellslinger+=/wait,sec=0.05,if=buff.presence_of_mind.up&prev_gcd.1.arcane_blast,line_cd=15\nactions.spellslinger+=/supernova,if=debuff.touch_of_the_magi.remains<=gcd.max&buff.unerring_proficiency.stack=30\n# Always queue Arcane Barrage on the second stack of Nether Precision\nactions.spellslinger+=/arcane_barrage,if=(buff.nether_precision.stack=2)||(cooldown.touch_of_the_magi.ready)||(talent.arcane_tempo&buff.arcane_tempo.remains<gcd.max)\n# Missiles if you dont have Nether Precision or if you have 3 stacks to prevent munching, always clip off GCD unless you have Aether Attunement\nactions.spellslinger+=/arcane_missiles,if=(buff.clearcasting.up&buff.nether_precision.down)||buff.clearcasting.stack=3,interrupt_if=tick_time>gcd.remains&buff.aether_attunement.down,interrupt_immediate=1,interrupt_global=1,chain=1\nactions.spellslinger+=/arcane_orb,if=buff.arcane_charge.stack<2\nactions.spellslinger+=/arcane_blast\nactions.spellslinger+=/arcane_barrage\n\n# For Sunfury, Shifting Power only when you're not under the effect of any cooldowns\n#16 second time_since is a bandaid until proper handler for arcane soul is made\nactions.sunfury+=/shifting_power,if=((buff.arcane_surge.down&buff.siphon_storm.down&debuff.touch_of_the_magi.down&cooldown.evocation.remains>15&cooldown.touch_of_the_magi.remains>10)&fight_remains>10)&(buff.arcane_soul.down)\nactions.sunfury+=/cancel_buff,name=presence_of_mind,use_off_gcd=1,if=settings.cancel_pom&((debuff.magis_spark_arcane_blast.up)||((prev_gcd.1.arcane_blast&buff.presence_of_mind.stack=1)||active_enemies<4))\nactions.sunfury+=/presence_of_mind,if=debuff.touch_of_the_magi.remains<=gcd.max&buff.nether_precision.up&active_enemies<4\n## actions.sunfury+=/wait,sec=0.05,if=buff.presence_of_mind.up&prev_gcd.1.arcane_blast,line_cd=15\n# AOE Barrage is optimized for funnel at the cost of some overall AOE, tries to make sure you have Clearcasting if you have High Voltage or an Orb charge ready\nactions.sunfury+=/arcane_barrage,if=((buff.arcane_charge.stack=4&(buff.nether_precision.stack=2)&active_enemies>=(5-(2*(talent.arcane_bombardment&target.health.pct<35)))&talent.arcing_cleave&((talent.high_voltage&buff.clearcasting.react)||(cooldown.arcane_orb.remains<gcd.max||action.arcane_orb.charges>0))))||(buff.aether_attunement.up&talent.high_voltage&buff.clearcasting.react&buff.arcane_charge.stack>1&active_enemies>1)\n# Orb if you don't have High Voltage and a Clearcasting in AOE\nactions.sunfury+=/arcane_orb,if=buff.arcane_charge.stack<2&buff.arcane_soul.down&(!talent.high_voltage||buff.clearcasting.react=0)\n# Barrage whenever Intuition/Incandescence and NP is up, double dipping if 1 stack, or just sending it if you dont have Clearcasting; also Barrage during Arcane Soul as long as you don't cap on Clearcasting procs, or if Touch is ready\nactions.sunfury+=/arcane_barrage,if=((buff.glorious_incandescence.up||buff.intuition.react)&(buff.nether_precision.stack=2||(buff.nether_precision.down&buff.clearcasting.react=0)))||(buff.arcane_soul.up&((buff.clearcasting.react<3)||buff.arcane_soul.remains<gcd.max))||(buff.arcane_charge.stack=4&(cooldown.touch_of_the_magi.ready||(buff.burden_of_power.up&buff.nether_precision.up)))\n# Missiles when it won't impact various Barrage conditions, interrupt the channel immediately after the GCD but not if you have Aether Attunement\nactions.sunfury+=/arcane_missiles,if=buff.clearcasting.react&((buff.nether_precision.down||(buff.clearcasting.react=3)||(talent.high_voltage.enabled&buff.arcane_charge.stack<3))),interrupt_immediate=1,interrupt_global=1,chain=1\nactions.sunfury+=/presence_of_mind,if=(buff.arcane_charge.stack=3||buff.arcane_charge.stack=2)&active_enemies>=3\n# Explosion to build the first charge if you have 0\nactions.sunfury+=/arcane_explosion,if=(talent.reverberate||buff.arcane_charge.stack<1)&active_enemies>=4\nactions.sunfury+=/arcane_blast\nactions.sunfury+=/arcane_barrage",
			},
		},
	}

	HekiliDB.profileKeys[E.mynameRealm] = "SpectraUI"

	SpectraUI:Print("|CFFB707E2Hekili|r" .. " profile |CFF03FA6Eset|r!")
end
